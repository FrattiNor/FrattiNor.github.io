<?xml version="1.0" encoding="utf-8"?>
<search> 
  
    
    <entry>
      <title>Redux学习（四）-- Providor和connect学习</title>
      <link href="/2018/06/07/2018_6_7_1_redux%E5%AD%A6%E4%B9%A0%EF%BC%88%E5%9B%9B%EF%BC%89/"/>
      <url>/2018/06/07/2018_6_7_1_redux%E5%AD%A6%E4%B9%A0%EF%BC%88%E5%9B%9B%EF%BC%89/</url>
      <content type="html"><![CDATA[<p>本来不用Providor和connect也是可以实现store的改变的，但是今天在写播放器的时候遇到了在改变store的时候重新渲染DOM，所以就需要用到Providor和connect了</p><p><strong>Providor</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">import &#123; Provider &#125; from &apos;react-redux&apos;</span><br><span class="line"></span><br><span class="line">ReactDOM.render(</span><br><span class="line">    &lt;Provider store=&#123;store&#125;&gt;</span><br><span class="line">        &lt;App /&gt;</span><br><span class="line">    &lt;/Provider&gt;,</span><br><span class="line">    document.getElementById(&apos;root&apos;)</span><br><span class="line">);</span><br></pre></td></tr></table></figure><p>Providor就是这样用，非常简单，把store通过props向子类传递，这样子类就可以通过connect来获取到store</p><p><strong>connect</strong></p><p>connect就比较难了，就先放个例子吧，最近看的教程都是讲coonect怎么用的，但都是部分，搞的我一直不明白</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">import &#123; connect &#125; from &apos;react-redux&apos;</span><br><span class="line">import &#123;bindActionCreators&#125; from &apos;redux&apos;</span><br><span class="line"></span><br><span class="line">// 哪些 Redux 全局的 state 是我们组件想要通过 props 获取的？</span><br><span class="line">const mapStateToProps = (state) =&gt; &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">        songPlay: state.songPlay</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 哪些 action 创建函数是我们想要通过 props 获取的？</span><br><span class="line">const mapDispatchToProps = (dispatch) =&gt; &#123;</span><br><span class="line">    return bindActionCreators(&#123;</span><br><span class="line">    // changeSong是引进的action函数</span><br><span class="line">        changeSong: (text, time) =&gt; changeSong(text, time)</span><br><span class="line">    &#125;, dispatch)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export default connect(</span><br><span class="line">    mapStateToProps,</span><br><span class="line">    mapDispatchToProps</span><br><span class="line">)(songList)</span><br></pre></td></tr></table></figure><p>然后来学习connect</p><p>首先看下函数的签名：<br>connect([mapStateToProps], [mapDispatchToProps], [mergeProps], [options])<br><code>connect()</code> 接收四个参数，它们分别是 <code>mapStateToProps</code> ， <code>mapDispatchToProps</code>， <code>mergeProps</code> 和 <code>options</code> 。</p><p><strong><code>mapStateToProps(state, ownProps) : stateProps</code></strong><br>这个函数允许我们将 store 中的数据作为 props 绑定到组件上。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">// 哪些 Redux 全局的 state 是我们组件想要通过 props 获取的？</span><br><span class="line">const mapStateToProps = (state) =&gt; &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">        songPlay: state.songPlay</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>state是store的state<br>然后怎么去获取到这个songPlay呢<br>通过<code>this.props</code>来获取到</p><p><strong><code>mapDispatchToProps(dispatch, ownProps): dispatchProps</code></strong></p><p>它的功能是，将 action 作为props 绑定到   <strong>组件</strong>  上</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">// 哪些 action 创建函数是我们想要通过 props 获取的？</span><br><span class="line">const mapDispatchToProps = (dispatch) =&gt; &#123;</span><br><span class="line">    return bindActionCreators(&#123;</span><br><span class="line">    // changeSong是引进的action函数</span><br><span class="line">        changeSong: (text, time) =&gt; changeSong(text, time)</span><br><span class="line">    &#125;, dispatch)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>我这里用到了<code>bindActionCreators</code>函数<br>不用的话就</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">const mapDispatchToProps = (dispatch) =&gt; &#123;</span><br><span class="line">  return &#123;</span><br><span class="line">    changeSong: (...args) =&gt; dispatch(changeSong(...args))</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>总之就是把<code>action</code>也绑到组件的<code>props</code>上</p><p>然后前面2个参数的参数都有个<code>ownProps</code>加上这个参数会在，组件自己的props改变时也触发，别的具体有什么用，我还没不清楚</p><p><strong><code>[mergeProps(stateProps, dispatchProps, ownProps): props]</code></strong></p><p>不管是 stateProps 还是 dispatchProps ，都需要和 ownProps merge 之后才会被赋给 <strong>组件</strong> 。 connect 的第三个参数就是用来做这件事。通常情况下，你可以不传这个参数， connect 就会使用 Object.assign 替代该方法。<br>（还不太清楚这个到底什么用）</p><p>最后还有一个 <code>options</code> 选项，比较简单，基本上也不大会用到（尤其是你遵循了其他的一些 React 的「最佳实践」的时候），本文就略过了。希望了解的同学可以直接看文档。<br>。。。。。。。。。好吧，我看的教程没有，就先不看了</p><p>差不多会用connect了</p>]]></content>
      
      
        <tags>
            
            <tag> redux </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Redux学习（三）</title>
      <link href="/2018/06/02/2018_6_2_2_redux%E5%AD%A6%E4%B9%A0%EF%BC%88%E4%B8%89%EF%BC%89/"/>
      <url>/2018/06/02/2018_6_2_2_redux%E5%AD%A6%E4%B9%A0%EF%BC%88%E4%B8%89%EF%BC%89/</url>
      <content type="html"><![CDATA[<p>已经用redux写了一个计数器了，也对redux有了个大概的了解，所以前面的导航栏组件共用状态问题也已经解决了。<br>但还是有一个问题就是redux的store每次要使用都要重新引入过吗，vuex的话，感觉更加可以理解一点，在入口处定义store后，子组件就可以通过$store来获得值的吧。</p><p>然后我在看redux的教程的时候也看到了什么Provider和Connect，好像就是父组件传递store给子组件的方式。</p><p>我大概的看了下Provider和Connect，感觉connect还是比较难理解的，然后还涉及到props，我对props也没什么理解</p><p>emmm。。今天就先这样吧，反正接下来的目标就是理解Provider和Connect，然后还有props</p>]]></content>
      
      
        <tags>
            
            <tag> redux </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Redux学习（二）</title>
      <link href="/2018/06/02/2018_6_2_1_redux%E5%AD%A6%E4%B9%A0%EF%BC%88%E4%BA%8C%EF%BC%89/"/>
      <url>/2018/06/02/2018_6_2_1_redux%E5%AD%A6%E4%B9%A0%EF%BC%88%E4%BA%8C%EF%BC%89/</url>
      <content type="html"><![CDATA[<p>昨天学习了redux的基本知识，总感觉很迷糊。<br>大概就是action，reducers和store<br>今天跟着写了一个小例子大概有点了解了<br>今天写了一个计数器，大概的意思就是取出store的值，然后通过action来改变store的值<br>总的来说reducers和store是连在一起的，而action则是提供给组件的<br>stote通过reducers创建，然后reducers是根据action写的函数，最后组件使用action通过reducers来修改store的值，最后显示在view上<br>上个代码吧<br>main.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">require</span>(<span class="string">'normalize.css/normalize.css'</span>);</span><br><span class="line"><span class="built_in">require</span>(<span class="string">'styles/App.css'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"><span class="keyword">import</span> store <span class="keyword">from</span> <span class="string">'./stote'</span></span><br><span class="line"><span class="keyword">import</span> &#123;nTHE&#125; <span class="keyword">from</span> <span class="string">'./action'</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">AppComponent</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div className=<span class="string">"index"</span>&gt;</span><br><span class="line">        &lt;div&gt;&#123;store.getState().n&#125;&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">        &lt;button onClick=&#123;() =&gt; store.dispatch(&#123; type: 'ADD' &#125;)&#125;&gt;ADD&lt;/</span>button&gt;</span><br><span class="line">        &lt;button onClick=&#123;() =&gt; store.dispatch(&#123; <span class="attr">type</span>: <span class="string">'DEL'</span> &#125;)&#125;&gt;DEL&lt;<span class="regexp">/button&gt;</span></span><br><span class="line"><span class="regexp">        &lt;button onClick=&#123; () =&gt; &#123;store.dispatch(nTHE(0))&#125; &#125;&gt;ClEAN&lt;/</span>button&gt;</span><br><span class="line">      &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">    );</span></span><br><span class="line"><span class="regexp">  &#125;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">AppComponent.defaultProps = &#123;</span></span><br><span class="line"><span class="regexp">&#125;;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">export default AppComponent;</span></span><br></pre></td></tr></table></figure><p>action.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> ADD = <span class="string">'ADD'</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> DEL = <span class="string">'DEL'</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> THE = <span class="string">'THE'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> nADD = &#123;</span><br><span class="line">    type: ADD</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> nDEL = &#123;</span><br><span class="line">    type: DEL</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">nTHE</span> (<span class="params">text</span>) </span>&#123;</span><br><span class="line">    alert(<span class="string">"nthe"</span>)</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        type: THE,</span><br><span class="line">        text: text</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>reducers<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> defaultState = &#123;</span><br><span class="line">    n: <span class="number">0</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> reducer = <span class="function">(<span class="params">state = defaultState, action</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">switch</span> (action.type) &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">'ADD'</span>:</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            n: state.n+<span class="number">1</span></span><br><span class="line">        &#125;;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">'DEL'</span>:</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            n: <span class="number">-1</span></span><br><span class="line">        &#125;;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">'THE'</span>:</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            n: action.text</span><br><span class="line">        &#125;;</span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">        <span class="keyword">return</span> state;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> reducer</span><br></pre></td></tr></table></figure></p><p>store.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createStore &#125; <span class="keyword">from</span> <span class="string">'redux'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> reducer <span class="keyword">from</span> <span class="string">'./reducers'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> store = createStore(reducer);</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> store</span><br></pre></td></tr></table></figure><p>说真的，我也不是很讲的清楚，有个大概的理解吧。<br>然后就是要执行<code>store.subscribe(render)</code>，不然view不会变化</p>]]></content>
      
      
        <tags>
            
            <tag> redux </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Redux学习</title>
      <link href="/2018/06/02/2018_6_1_1_redux%E5%AD%A6%E4%B9%A0/"/>
      <url>/2018/06/02/2018_6_1_1_redux%E5%AD%A6%E4%B9%A0/</url>
      <content type="html"><![CDATA[<p>现在还在写react-music这个的推荐页面，最近使用qq音乐的api访问资源时都是受限的，只能获得一点点数据，然后就一直在找可以用的api，花了很多时间来找api导致现在还在写推荐页面，不过好在，使用了多个api总算是把推荐页面写完了。<br>现在又遇到了一个问题就是点击歌单跳转到歌单细节页面时，我发现是应该是不用导航栏的，所以又把导航栏重新写到4大页面里，但是还是遇到了问题就是字体高亮的部分，本来是一个整体，所以我把字体高亮的状态写在state里，然后写到4个组件里去，就只有默认高亮状态了，也就是第一个是高亮的，所以这里要使用到redux，跟vuex差不多的一个东西，多个组件共用一个状态时可以使用</p><p><strong>开始学习redux</strong></p><p>redux  有3个部分</p><blockquote><p>Action<br>Reducer<br>Store</p></blockquote><hr><p><strong>Action</strong></p><p>Action 是把数据从应用传到 store 的有效载荷。它是 store 数据的唯一来源。一般来说你会通过 store.dispatch() 将 action 传到 store。<br>Action 本质上是 JavaScript 普通对象。我们约定，action 内必须使用一个字符串类型的 type 字段来表示将要执行的动作。多数情况下，type 会被定义成字符串常量。当应用规模越来越大时，建议使用单独的模块或文件来存放 action。<br>除了 type 字段外，action 对象的结构完全由你自己决定。参照 Flux 标准 Action 获取关于如何构造 action 的建议。<br>这时，我们还需要再添加一个 action index 来表示用户完成任务的动作序列号。因为数据是存放在数组中的，所以我们通过下标 index 来引用特定的任务。而实际项目中一般会在新建数据的时候生成唯一的 ID 作为数据的引用标识。<br><strong>我们应该尽量减少在 action 中传递的数据</strong>。<br>最后，再添加一个 action type 来表示当前的任务展示选项。</p><p><strong>Action 创建函数</strong> 就是生成 action 的方法。“action” 和 “action 创建函数” 这两个概念很容易混在一起，使用时最好注意区分。</p><hr><p><strong>Reducer</strong></p><p>Reducers 指定了应用状态的变化如何响应 actions 并发送到 store 的，记住 actions 只是描述了有事情发生了这一事实，并没有描述应用如何更新 state。<br><strong>设计 State 结构</strong><br>在 Redux 应用中，所有的 state 都被保存在一个单一对象中。建议在写代码前先想一下这个对象的结构。如何才能以最简的形式把应用的 state 用对象描述出来？<br>通常，这个 state 树还需要存放其它一些数据，以及一些 UI 相关的 state。这样做没问题，但尽量把这些数据与 UI 相关的 state 分开。</p><p><strong>Action 处理</strong><br>现在我们已经确定了 state 对象的结构，就可以开始开发 reducer。reducer 就是一个纯函数，接收旧的 state 和 action，返回新的 state。<br><strong>永远不要在 reducer 里做这些操作：</strong></p><blockquote><p>修改传入参数；<br>执行有副作用的操作，如 API 请求和路由跳转；<br>调用非纯函数，如 Date.now() 或 Math.random()</p></blockquote><p>开始编写 reducer，并让它来处理之前定义过的 action。<br>我们将以指定 state 的初始状态作为开始。Redux 首次执行时，state 为 undefined，此时我们可借机设置并返回应用的初始 state。</p><p><strong>Store</strong><br>Store 就是把action和reducers联系到一起的对象。Store 有以下职责：</p><blockquote><p>维持应用的 state；<br>提供 getState() 方法获取 state；<br>提供 dispatch(action) 方法更新 state；<br>通过 subscribe(listener) 注册监听器;<br>通过 subscribe(listener) 返回的函数注销监听器。</p></blockquote><p>再次强调一下 Redux 应用只有一个单一的 store。当需要拆分数据处理逻辑时，你应该使用 reducer 组合 而不是创建多个 store。</p><p>根据已有的 reducer 来创建 store 是非常容易的。在前一个章节中，我们使用 combineReducers() 将多个 reducer 合并成为一个。现在我们将其导入，并传递 createStore()</p><p>createStore() 的第二个参数是可选的, 用于设置 state 初始状态。这对开发同构应用时非常有用，服务器端 redux 应用的 state 结构可以与客户端保持一致, 那么客户端可以将从网络接收到的服务端 state 直接用于本地数据初始化。</p><p>感觉上可以理解，但是又完全不知道怎么写。。。<br>store是存放数据的地方<br>action是发布的命令<br>reducers是根据action发布的命令来执行修改store的内容的函数<br>我差不多是这样理解的吧</p>]]></content>
      
      
        <tags>
            
            <tag> redux </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>React-music（二）</title>
      <link href="/2018/05/30/2018_5_29_1_react-music%EF%BC%88%E4%BA%8C%EF%BC%89/"/>
      <url>/2018/05/30/2018_5_29_1_react-music%EF%BC%88%E4%BA%8C%EF%BC%89/</url>
      <content type="html"><![CDATA[<p>继续写music-player项目<br>我又发现一个容易出错的地方，就是组件import的首字母必须大写，不然无效</p><p>写完头和导航栏，这几天写轮播图又有一个问题就是ajax获取数据然后传给state后不能渲染到DOM里。<br>然后我就看了别人项目的代码吧，算是，发现就是别人导入数据是通过setState来实现的，我差点忘记了，我是直接用=来传递值的。。。React还是有很多地方不太一样啊</p><p>然后继续写轮播图<br>移动端的轮播图涉及到触摸事件，说真的我不太理解触摸事件，而且感觉参数很复杂所以就没有怎么了解过，现在来写移动端的轮播图一脸懵逼啊，然后我就去看了别人写的移动端的轮播图，其中涉及到的方法有<br>onTouchStart：触摸开始的时候触发<br>onTouchMove：手指在屏幕上滑动的时候触发<br>onTouchEnd：触摸结束的时候触发<br>onTransitionEnd：css3的过渡动画结束触发</p><p>所以我就需要去了解一下这个touch事件<br>我大概了解了这个touch事件，start是点击开始，通过e.touches[0]来获得touch对象然后获得各种坐标，move是移动，移动期间会一直触发这个函数，跟start一样来获得各种坐标，最后是end事件，touch停止事件，根据获得的坐标比来确定触不触发移动事件。这个就是最简单的touch事件了吧。</p><p>然后还有一点就是，又有一个问题就是图片可以在展示框里滑动，这个无关touch，就是单纯的css问题，DOM是固定的，那么要怎么样才能让DOM可以滑动呢。<br>好吧我错了，我去看别人的轮播图，为什么他的图片可以滑动，就是因为他在touchMove里写了图片跟随touch位置移动的函数<br>然后我还发现了一个css就是</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">white-space</span>: <span class="selector-tag">nowrap</span></span><br></pre></td></tr></table></figure><p>设置子类不换行</p><p>最后我写了轮播图是完成了，图片可移动是使用的touchMove里设置图片跟随touch坐标移动。然后根据移动的距离来判断是否需要切换到下一张，最后就是轮播图无缝的解决了，这个我是在开始和最后都添加了一张图片完成的，最后写一个函数当显示最后和第一张图片时设置过渡0s然后回到原来图片的位置。其中还有很多细节问题我不知道应该怎么说。</p><p>然后就是感觉我写的轮播图很复杂感觉</p><p>最后附上我的代码<br>react组件<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123;getSlider&#125; <span class="keyword">from</span> <span class="string">'../api/recommend'</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">slider</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">    state = &#123;</span><br><span class="line">        theSilder: [],</span><br><span class="line">        SilderFirst: [],</span><br><span class="line">        SilderLast: [],</span><br><span class="line">        baseWidth: <span class="built_in">document</span>.body.clientWidth,</span><br><span class="line">        autoPlay: <span class="string">''</span>, <span class="comment">// 自动循环播放函数</span></span><br><span class="line">        setTimeout: <span class="string">''</span>, <span class="comment">// 延迟生效的函数</span></span><br><span class="line">        length: <span class="string">''</span>, <span class="comment">// slider长度</span></span><br><span class="line">        time: <span class="number">0</span>, <span class="comment">// 动画时间</span></span><br><span class="line">        index: <span class="number">1</span>, <span class="comment">// 图片索引</span></span><br><span class="line">        distance: <span class="number">0</span>, <span class="comment">// 图片跟随distance移动，也就是设置图片可以滑动</span></span><br><span class="line">        minX: <span class="number">40</span>, <span class="comment">// 移动最低距离触发滑动</span></span><br><span class="line">        startX: <span class="string">''</span>, <span class="comment">// touch开始坐标</span></span><br><span class="line">        moveX: <span class="string">''</span> <span class="comment">// touch移动的距离</span></span><br><span class="line">    &#125;</span><br><span class="line">    componentWillMount () &#123;</span><br><span class="line">        getSlider().then(<span class="function">(<span class="params">msg</span>) =&gt;</span> &#123;</span><br><span class="line">            <span class="keyword">let</span> sliderLength = msg.data.slider.length</span><br><span class="line">            <span class="keyword">this</span>.setState(&#123;</span><br><span class="line">                distance: -(<span class="keyword">this</span>.state.index * <span class="keyword">this</span>.state.baseWidth),</span><br><span class="line">                length: sliderLength,</span><br><span class="line">                SilderFirst: msg.data.slider[<span class="number">0</span>],</span><br><span class="line">                SilderLast: msg.data.slider[sliderLength<span class="number">-1</span>],</span><br><span class="line">                theSilder: msg.data.slider</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;)</span><br><span class="line">        <span class="keyword">this</span>.autoPlay()</span><br><span class="line">    &#125;</span><br><span class="line">    touchStart (e) &#123;</span><br><span class="line">        clearInterval(<span class="keyword">this</span>.state.autoPlay) <span class="comment">// 清除自动循环函数</span></span><br><span class="line">        clearTimeout(<span class="keyword">this</span>.state.setTimeout) <span class="comment">// 清除延迟函数</span></span><br><span class="line">        <span class="keyword">this</span>.setState(&#123;</span><br><span class="line">            time: <span class="number">0</span>,</span><br><span class="line">            <span class="comment">// 获得点击的位置</span></span><br><span class="line">            startX: e.touches[<span class="number">0</span>].pageX</span><br><span class="line">        &#125;)</span><br><span class="line">        <span class="keyword">this</span>.changeFirstLast()</span><br><span class="line">    &#125;</span><br><span class="line">    touchMove (e) &#123;</span><br><span class="line">        <span class="comment">// 获得移动的位置</span></span><br><span class="line">        <span class="keyword">let</span> _nextX = e.touches[<span class="number">0</span>].pageX</span><br><span class="line">        <span class="comment">// 获得移动的距离</span></span><br><span class="line">        <span class="keyword">let</span> _moveX = _nextX - <span class="keyword">this</span>.state.startX</span><br><span class="line">        <span class="comment">// 设置图片移动</span></span><br><span class="line">        <span class="keyword">let</span> _distance = -(<span class="keyword">this</span>.state.index * <span class="keyword">this</span>.state.baseWidth - _moveX)</span><br><span class="line">        <span class="keyword">this</span>.setState(&#123;</span><br><span class="line">            moveX: _moveX,</span><br><span class="line">            distance: _distance</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">    touchEnd () &#123;</span><br><span class="line">        <span class="keyword">this</span>.autoPlay()</span><br><span class="line">        <span class="keyword">let</span> _index</span><br><span class="line">        <span class="keyword">let</span> _moveX = <span class="keyword">this</span>.state.moveX</span><br><span class="line">        <span class="keyword">let</span> _minX = <span class="keyword">this</span>.state.minX</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">Math</span>.abs(_moveX) &lt; _minX) &#123;</span><br><span class="line">            _index = <span class="string">'noEnough'</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (_moveX &gt; _minX) &#123;</span><br><span class="line">                _index = <span class="keyword">this</span>.state.index - <span class="number">1</span></span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                _index = <span class="keyword">this</span>.state.index + <span class="number">1</span></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">this</span>.setState(&#123;</span><br><span class="line">            time: <span class="number">0.3</span>,</span><br><span class="line">            moveX: <span class="number">0</span></span><br><span class="line">        &#125;)</span><br><span class="line">        <span class="keyword">this</span>.sliderMove(_index)</span><br><span class="line">    &#125;</span><br><span class="line">    sliderMove (newIndex) &#123;</span><br><span class="line">        <span class="keyword">if</span> (newIndex == <span class="string">'noEnough'</span>) &#123;</span><br><span class="line">            newIndex = <span class="keyword">this</span>.state.index</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">this</span>.setState(&#123;</span><br><span class="line">            time: <span class="number">0.3</span>,</span><br><span class="line">            index: newIndex,</span><br><span class="line">            distance: -(newIndex * <span class="keyword">this</span>.state.baseWidth)</span><br><span class="line">        &#125;)</span><br><span class="line">        <span class="comment">// 移动函数结束后判断图片是否在最左或最右边</span></span><br><span class="line">        <span class="keyword">let</span> setTime = setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">            <span class="keyword">this</span>.changeFirstLast()</span><br><span class="line">        &#125;, <span class="number">300</span>)</span><br><span class="line">        <span class="keyword">this</span>.setState(&#123;</span><br><span class="line">            setTimeout: setTime</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 当图片在最左或最右边时修改到正确位置</span></span><br><span class="line">    changeFirstLast () &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">this</span>.state.index == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">this</span>.setState(&#123;</span><br><span class="line">                time: <span class="number">0</span>,</span><br><span class="line">                index: <span class="number">5</span>,</span><br><span class="line">                distance: -(<span class="number">5</span> * <span class="keyword">this</span>.state.baseWidth)</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">this</span>.state.index == <span class="number">6</span>) &#123;</span><br><span class="line">             <span class="keyword">this</span>.setState(&#123;</span><br><span class="line">                time: <span class="number">0</span>,</span><br><span class="line">                index: <span class="number">1</span>,</span><br><span class="line">                distance: -(<span class="number">1</span> * <span class="keyword">this</span>.state.baseWidth)</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 自动播放函数</span></span><br><span class="line">    autoPlay () &#123;</span><br><span class="line">        <span class="keyword">let</span> SlideInter = setInterval(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">            <span class="keyword">let</span> _index = <span class="keyword">this</span>.state.index + <span class="number">1</span></span><br><span class="line">            <span class="keyword">this</span>.sliderMove(_index)</span><br><span class="line">        &#125;, <span class="number">3000</span>)</span><br><span class="line">        <span class="keyword">this</span>.setState(&#123;</span><br><span class="line">            autoPlay: SlideInter</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">    render () &#123;</span><br><span class="line">        <span class="keyword">let</span> slideBoxStyle = &#123;</span><br><span class="line">            marginLeft: <span class="keyword">this</span>.state.distance + <span class="string">'px'</span>,</span><br><span class="line">            width: (<span class="keyword">this</span>.state.length + <span class="number">2</span>)*<span class="number">100</span>+<span class="string">'%'</span>,</span><br><span class="line">            transition: <span class="keyword">this</span>.state.time + <span class="string">'s'</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">let</span> sliderPicStyle = &#123;</span><br><span class="line">            width: <span class="number">1</span>/(<span class="keyword">this</span>.state.length + <span class="number">2</span>)*<span class="number">100</span>+<span class="string">'%'</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">let</span> onPointStyle = &#123;</span><br><span class="line">            borderRadius: <span class="number">25</span> + <span class="string">'% / '</span> + <span class="number">50</span> + <span class="string">'%'</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">let</span> pointStyle = &#123;</span><br><span class="line">            borderRadius: <span class="number">50</span> + <span class="string">'%'</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> (</span><br><span class="line">            &lt;div className=<span class="string">"slider"</span>&gt;</span><br><span class="line">                &lt;div className=<span class="string">"sliderBox"</span> style=&#123;slideBoxStyle&#125; onTouchStart=&#123;e=&gt;<span class="keyword">this</span>.touchStart(e)&#125; onTouchMove=&#123;e=&gt;<span class="keyword">this</span>.touchMove(e)&#125; onTouchEnd=&#123;e=&gt;<span class="keyword">this</span>.touchEnd(e)&#125;&gt;</span><br><span class="line">                    &lt;a href=&#123;<span class="keyword">this</span>.state.SilderLast.linkUrl&#125;&gt;</span><br><span class="line">                        &lt;img style=&#123;sliderPicStyle&#125; src=&#123;<span class="keyword">this</span>.state.SilderLast.picUrl&#125; /&gt;</span><br><span class="line">                    &lt;<span class="regexp">/a&gt;</span></span><br><span class="line"><span class="regexp">                    &#123;</span></span><br><span class="line"><span class="regexp">                        this.state.theSilder.map((item, number) =&gt; &#123;</span></span><br><span class="line"><span class="regexp">                            return (</span></span><br><span class="line"><span class="regexp">                                &lt;a href=&#123;item.linkUrl&#125; key=&#123;number&#125;&gt;</span></span><br><span class="line"><span class="regexp">                                    &lt;img style=&#123;sliderPicStyle&#125; src=&#123;item.picUrl&#125;  /</span>&gt;</span><br><span class="line">                                &lt;<span class="regexp">/a&gt;</span></span><br><span class="line"><span class="regexp">                            )</span></span><br><span class="line"><span class="regexp">                        &#125;)</span></span><br><span class="line"><span class="regexp">                    &#125;</span></span><br><span class="line"><span class="regexp">                    &lt;a href=&#123;this.state.SilderFirst.linkUrl&#125;&gt;</span></span><br><span class="line"><span class="regexp">                        &lt;img style=&#123;sliderPicStyle&#125; src=&#123;this.state.SilderFirst.picUrl&#125; /</span>&gt;</span><br><span class="line">                    &lt;<span class="regexp">/a&gt;</span></span><br><span class="line"><span class="regexp">                &lt;/</span>div&gt;</span><br><span class="line">                &lt;div className=<span class="string">"pointBox"</span>&gt;</span><br><span class="line">                    &#123;</span><br><span class="line">                        <span class="keyword">this</span>.state.theSilder.map(<span class="function">(<span class="params">item, number</span>) =&gt;</span> &#123;</span><br><span class="line">                            <span class="keyword">return</span>(</span><br><span class="line">                                &lt;div key=&#123;number&#125; style=&#123;</span><br><span class="line">                                    (((number+<span class="number">1</span>) == <span class="keyword">this</span>.state.index) ||</span><br><span class="line">                                        (number == <span class="number">4</span> &amp;&amp; <span class="keyword">this</span>.state.index == <span class="number">0</span>) ||</span><br><span class="line">                                        (number == <span class="number">0</span> &amp;&amp; <span class="keyword">this</span>.state.index == <span class="number">6</span>)) ?</span><br><span class="line">                                    onPointStyle : pointStyle</span><br><span class="line">                                &#125;</span><br><span class="line">                                className=&#123;</span><br><span class="line">                                    (((number+<span class="number">1</span>) == <span class="keyword">this</span>.state.index) ||</span><br><span class="line">                                        (number == <span class="number">4</span> &amp;&amp; <span class="keyword">this</span>.state.index == <span class="number">0</span>) ||</span><br><span class="line">                                        (number == <span class="number">0</span> &amp;&amp; <span class="keyword">this</span>.state.index == <span class="number">6</span>)) ?</span><br><span class="line">                                    <span class="string">'point on'</span> : <span class="string">'point'</span></span><br><span class="line">                                &#125;&gt;&lt;/div&gt;</span><br><span class="line">                            )</span><br><span class="line">                        &#125;)</span><br><span class="line">                    &#125;</span><br><span class="line">                &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">            &lt;/</span>div&gt;</span><br><span class="line">        );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> slider;</span><br></pre></td></tr></table></figure></p>]]></content>
      
      
        <tags>
            
            <tag> react </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>React-music</title>
      <link href="/2018/05/26/2018_5_26_1_react-music%EF%BC%88%E4%B8%80%EF%BC%89/"/>
      <url>/2018/05/26/2018_5_26_1_react-music%EF%BC%88%E4%B8%80%EF%BC%89/</url>
      <content type="html"><![CDATA[<p>本来这个 <code>music-player</code> 的项目是打算看着vue视频，用vue来写的，后来因为要学react，所以就把原项目用react来写了。vue-music已经写了顶部，导航栏以及部分推荐页面。</p><p>所以就直接把写好的部分移植过来就好了</p><p>我是用 yo-react-webpack 来新建的项目。<br>然后在src目录下进行编写，在项目模板里有不少文件不知道是干什么用了，但是不干扰我进行编写</p><p>首先，react的模块是用js文件的，<br>文件模板大概是这样的<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">import React, &#123; Component &#125; from &apos;react&apos;;</span><br><span class="line"></span><br><span class="line">class rheader extends Component &#123;</span><br><span class="line">    render () &#123;</span><br><span class="line">        return (</span><br><span class="line">            &lt;div className=&quot;vheader&quot;&gt;</span><br><span class="line">                music player</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">        );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export default rheader;</span><br></pre></td></tr></table></figure></p><p>在return里用jsx进行编写对应的DOM<br>这个jsx让我有点不适应</p><p>不过还行，今天就先记录一下移植的过程吧，首先是安装了less<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save less less-loader</span><br></pre></td></tr></table></figure></p><p>然后把原项目的style.less文件移过来，引入到main.js文件里<br>对了，忘记说了，react项目跟vue项目差不多，有一个index.html文件是主文件，然后有一个index.js是入口文件，最后在模块里有一个main.js是主模块。</p><p>导入less文件后，我把组件目录整个移过来了，然后先写rheader.js，很简单就是一个div而已，但是遇到了有点麻烦<br>我照着main.js 的写法<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">import React from &apos;react&apos;</span><br></pre></td></tr></table></figure></p><p>在rheader文件里是错误的，我不清楚到底错在了哪，经过修改<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">import React, &#123; Component &#125; from &apos;react&apos;;</span><br><span class="line"></span><br><span class="line">class rheader extends Component &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>这样的写法没有报错</p><p>再然后就是导航栏tab文件了，我在vue里导航栏是用数组循环渲染的<br>在react里进行循环渲染没有v-for那样的东西<br>我查了一下<br>可以用map进行循环遍历，然后返回一个标签吧<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">this.state.theTab.map( (item) =&gt; &#123;</span><br><span class="line">        return (</span><br><span class="line">            &lt;li key=&#123;item.index&#125;&gt;</span><br><span class="line">            &#123;item.word&#125;</span><br><span class="line">            &lt;/li&gt;</span><br><span class="line">        )</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>然后还有有点就是，我发现循环的组件都需要一个key</p><p>又进过一番的折腾，我大概搞清楚了react模块的是怎么样的了</p><p>和vue比较一下吧</p><p>vue的template就是react的render<br>vue的script就是class除了render的部分<br>然后样式vue和react都可以由外部引入</p><p>我是这样理解的，不清楚对错。不过总算是有点收获吧</p><p>再然后就是router部分了，我目前对react的router部分有点搞不清楚，还得再试试看，写写看吧</p><p>emmm…看了会视频大概了解了，但只能说还是有点问题吧</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">import &#123;BrowserRouter as Router, Route&#125; from &apos;react-router-dom&apos;</span><br><span class="line"></span><br><span class="line">&lt;Router&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">      &lt;Rheader /&gt;</span><br><span class="line">      &lt;Tab /&gt;</span><br><span class="line">      &lt;Route exact path=&quot;/&quot; component=&#123;Recommend&#125; /&gt;</span><br><span class="line">      &lt;Route exact path=&quot;/Recommend&quot; component=&#123;Recommend&#125; /&gt;</span><br><span class="line">      &lt;Route exact path=&quot;/Singer&quot; component=&#123;Singer&#125; /&gt;</span><br><span class="line">      &lt;Route exact path=&quot;/Rank&quot; component=&#123;Rank&#125; /&gt;</span><br><span class="line">      &lt;Route exact path=&quot;/Search&quot; component=&#123;Search&#125; /&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/Router&gt;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">import &#123;NavLink&#125; from &apos;react-router-dom&apos;</span><br><span class="line"></span><br><span class="line">&lt;NavLink to=&#123;item.url&#125;&gt;</span><br><span class="line">    &#123;item.word&#125;</span><br><span class="line">&lt;/NavLink&gt;</span><br></pre></td></tr></table></figure><p>大概就这样吧。。Router是包裹的box吧，然后Route就是vue的router-view吧，NavLink就是vue的router-link</p><p>今天就先看到这吧，晚上看看有没有时间把推荐页面也移植过来</p>]]></content>
      
      
        <tags>
            
            <tag> react </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>React-router</title>
      <link href="/2018/05/25/2018_5_25_2_react-router%E5%AD%A6%E4%B9%A0/"/>
      <url>/2018/05/25/2018_5_25_2_react-router%E5%AD%A6%E4%B9%A0/</url>
      <content type="html"><![CDATA[<p>react-router应该是react的路由插件吧，就跟vue-router一样，用来实现页面的跳转功能</p><p><strong>安装</strong><br>React Router已被拆分成三个包：react-router,react-router-dom和react-router-native。你不需要直接安装react-router，react-router包提供核心的路由组件与函数。其余两个提供运行环境（浏览器与react-native）所需的特定组件，但是他们都暴露出react-router中暴露的对象与方法。你应该为你的环境选择正确的包。我们进行的是网站（将会运行在浏览器）构建，所以应安装react-router-dom。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -save react-router-dom</span><br></pre></td></tr></table></figure></p><p><strong>Router</strong><br>当进行新项目时，你需要选择使用哪种路由。对于浏览器项目（网站），react-router4提供了<code>&lt;BrowserRouter&gt;</code>和<code>&lt;HashRouter&gt;</code>两个组件。前者在你有服务器处理动态请求的时候使用，后者在静态网站的时候使用。<br>通常我们选择使用<code>&lt;BrowserRouter&gt;</code>，但是如果你的网站将运行在只有静态文件的服务器上，<code>&lt;HashRouter&gt;</code>是一个不错的方案。</p><p>区别：</p><blockquote><p>hashHistory 使用 URL 中的 hash（#）部分去创建路由，举例来说，用户访问<a href="http://www.example.com/，实际会看到的是http://www.example.com/#/。" target="_blank" rel="noopener">http://www.example.com/，实际会看到的是http://www.example.com/#/。</a></p><p>browserHistory 是使用 React-Router 的应用推荐的 history方案。它使用浏览器中的 History API 用于处理 URL，创建一个像example.com/list/123这样真实的 URL 。</p></blockquote><p>虽然不是太懂，大概的意思就是hash是跟原来学vue-router一样的，browser是实际存在的url。。。</p><p><strong>History</strong><br>每种路由都会创建history对象，用来追踪当前的location<br>并在网站变化的时候重新渲染。React Router提供的其它的组件都依赖于上下文中的history对象，所以必须在组件内部渲染。<br>一个React Router组件如果没有父级组件将不会工作。</p><p><strong>渲染一个<code>&lt;Router&gt;</code></strong></p><p>由于Router组件只能接收一个子元素，因为这个限制，我们创建一个<code>&lt;App&gt;</code>组件来渲染我们的应用（从路由中分离应用对于服务器端渲染也是很重要的，因为在服务器端渲染，切换到<code>&lt;MemoryRouter&gt;</code>的时候可以复用<code>&lt;App&gt;</code>）</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">import &#123; BrowserRouter &#125; from &apos;react-router-dom&apos;</span><br><span class="line">ReactDOM.render((</span><br><span class="line">    &lt;BrowserRouter&gt;</span><br><span class="line">        &lt;App &gt;&lt;/App&gt;</span><br><span class="line">    &lt;/BrowserRouter&gt;</span><br><span class="line">), document.getElementById(&apos;root&apos;))</span><br></pre></td></tr></table></figure><p>=<br>我们的应用写在<code>&lt;App&gt;</code>组件中。为了简化，我们将分离我们的应用到两部分，<code>&lt;Header&gt;</code>组件将包含网站的导航链接，<code>&lt;Main&gt;</code>组件用于渲染剩下的内容<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">// this component will be rendered by our &lt;___Router&gt;</span><br><span class="line">const App = () =&gt; (</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;Header /&gt;</span><br><span class="line">    &lt;Main /&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">)</span><br></pre></td></tr></table></figure></p><p><strong>路由 Route</strong><br><code>&lt;Route&gt;</code>组件是React Router的主要构件模块，任何你想渲染的与pathname匹配的地方，你都应该创建一个<code>&lt;Route&gt;</code>元素。</p><p><strong>路径 Path</strong><br>一个<code>&lt;Route&gt;</code>需要一个path的字符串参数来描述路由匹配的路径名类型，例如，<route path="/roster">应该匹配以/roster开头的路径名。 当前位置的路径与path匹配时，路由将渲染一个React元素。 当路径不匹配时，路由将不会渲染任何东西。</route></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;Route path=&apos;/roster&apos; /&gt;</span><br><span class="line">// 当前路径是   &apos;/&apos;, 不满足匹配</span><br><span class="line">// 当前路径是   &apos;/roster&apos; 或 &apos;/roster/2&apos;, 满足匹配</span><br><span class="line">// 如果只想匹配 &apos;/roster&apos;, 需要使用&quot;exact&quot;参数</span><br><span class="line">// 下面的会匹配 &apos;/roster&apos;, 但是不会匹配&apos;/roster/2&apos;.</span><br></pre></td></tr></table></figure><p><strong>匹配路径</strong><br>path-to-regexp包用于确定路径元素的path参数是否与当前位置匹配。它将path字符串编译为一个正则表达式，该正则表达式将与该位置的路径名相匹配。path字符串具有比此处所述更高级的格式选项。你可以在正则表达式文档路径中阅读它们。<br>当路径的路径匹配时，将创建一个具有以下属性的匹配对象：</p><blockquote><p>url - 当前位置路径名的匹配部分<br>path  - 路由的路径<br>isExact - path是否等于pathname<br>params - 一个包含path-to-regexp捕获的路径名值的对象</p></blockquote><p><strong>创建路由</strong><br>可以在路由内部的任何位置创建<code>&lt;Route&gt;</code>，但是通常在同一地方渲染它们。你可以使用<code>&lt;Switch&gt;</code>组件来包裹一组<code>&lt;Route&gt;</code>。 <code>&lt;Switch&gt;</code>将迭代其子元素（路由），并仅渲染与当前路径名匹配的第一个元素。</p><p><strong><code>&lt;Route&gt;</code>怎么渲染？</strong><br>当path匹配时，<code>&lt;Route&gt;</code>有三个参数可用于定义什么该被渲染。但是只能提供一个给<code>&lt;Route&gt;</code>元素。</p><blockquote><p>component  —  一个React组件。当带有component 参数的路由匹配时，路由将返回一个新元素，其类型是一个React component （使用React.createElement创建）。<br>render  —  一个返回React元素的函数。它将在path匹配时被调用。这与component类似，但对于 内联渲染 和 更多参数传递 很有用。<br>children  — 一个返回React元素的函数。与之前的两个参数不同，无论路由的路径是否与当前位置相匹配，都将始终被渲染。</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">//component</span><br><span class="line">&lt;Route path=&apos;/page&apos; component=&#123;Page&#125; /&gt; </span><br><span class="line"></span><br><span class="line">const extraProps = &#123; color: &apos;red&apos; &#125;</span><br><span class="line"></span><br><span class="line">//render</span><br><span class="line">&lt;Route path=&apos;/page&apos; render=&#123;(props) =&gt; (  </span><br><span class="line">  &lt;Page &#123;...props&#125; data=&#123;extraProps&#125;/&gt;</span><br><span class="line">)&#125;/&gt;</span><br><span class="line"></span><br><span class="line">//children</span><br><span class="line">&lt;Route path=&apos;/page&apos; children=&#123;(props) =&gt; (</span><br><span class="line">  props.match</span><br><span class="line">    ? &lt;Page &#123;...props&#125;/&gt;</span><br><span class="line">    : &lt;EmptyPage &#123;...props&#125;/&gt;</span><br><span class="line">)&#125;/&gt;</span><br></pre></td></tr></table></figure><p>通常，我们会选择conmponent或render。children参数偶尔会用上，但通常最好在路径不匹配时不渲染任何东西。在这里我们没有任何额外的参数传递给组件，因此我们的每个<code>&lt;Route&gt;</code>将使用component参数。<br>由<code>&lt;Route&gt;</code>渲染的元素将传递多个参数。这些将是match对象，location对象和history对象（由我们的路由创建的对象）。</p><p><strong>路径参数</strong><br>有时，我们想要获得路径中的变量。例如，球员资料的路径，我们想要获得球员的号码。我们可以通过将路径参数添加到<code>&lt;Route&gt;</code>的 path参数 中来完成。</p><p>路径/roster/:number中的:number部分意味着/roster/后面的路径名部分将被捕获并存储为match.params.number。</p><p>例如，路径 /roster/6 将生成一个params对象：{ number: ‘6’}<br><code>&lt;Player&gt;</code>组件可以使用props.match.params对象来确定应该渲染哪个Player的数据。</p><p><strong>Links</strong><br>最后，我们的应用程序需要在页面间导航。如果我们要使用锚点元素创建链接，点击它们会导致整个页面重新加载。 React Router提供了一个<code>&lt;Link&gt;</code>组件来防止这种情况发生。点击&lt;链接&gt;时，URL将被更新，并且呈现的内容将会更改，而不会重新加载页面。<br><code>&lt;Link&gt;</code>使用to参数来描述他们应该导航到的位置。这可以是字符串或位置对象（包含路径名，search，hash和state的组合）。当它是一个字符串时，它将被转换为location对象。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;Link to=&#123;&#123; pathname: &apos;/roster/7&apos; &#125;&#125;&gt;Player #7&lt;/Link&gt;</span><br></pre></td></tr></table></figure><p>看的有点晕，感觉跟vue-router有比较大的区别吧。但又非常的类似。讲真的，我看了这么久，实际上依旧不会操作哎。。</p>]]></content>
      
      
        <tags>
            
            <tag> react </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>无缝轮播图</title>
      <link href="/2018/05/25/2018_5_25_1_%E6%97%A0%E7%BC%9D%E8%BD%AE%E6%92%AD%E5%9B%BE/"/>
      <url>/2018/05/25/2018_5_25_1_%E6%97%A0%E7%BC%9D%E8%BD%AE%E6%92%AD%E5%9B%BE/</url>
      <content type="html"><![CDATA[<p><a href="https://frattinor.github.io/practice/RotationMap/" target="_blank" rel="noopener">demo</a><br>昨天想做一个轮播图，无缝的那种，然后就想了一种办法<br>首先我原来的写法是把图片摆成一排，然后修改左右外边距来使图片的位置得到修改，然后给图片加上过渡，就有动画效果了，有一个缺陷就是最右边的图片回到最左边是回滚回去的，没办法做到无缝，取消过渡效果，到是可以无缝，但是没有动画效果就更加不行了</p><p>然后我今天想的一种方法是把图片全部绝对定位到一起，然后修改z-index属性来让需要使用的图片来显示在最上面，动画效果就写好左右移动，给需要的2张图片加上就可以了。简单的说就是用哪张取哪张图片来添加动画就好。</p><p>还挺简单的吧，也没有什么问题，最后就是把几个函数整合在一起缩减了一下代码量。</p><p>然后我还遇到了一个问题就是子类的上外边距影响父类的高度，。。。大概是这个意思吧，我百度了一下，得到几种解决办法我这里记录一下</p><p><strong>1、修改父元素的高度，增加padding-top样式模拟（padding-top：1px；常用）</strong><br><strong>2、为父元素添加overflow：hidden；样式即可（完美）</strong><br><strong>3、为父元素或者子元素声明浮动（float：left；可用）</strong><br><strong>4、为父元素添加border（border:1px solid transparent可用）</strong><br><strong>5、为父元素或者子元素声明绝对定位</strong></p><p>最后附上我的代码</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;&lt;/title&gt;</span><br><span class="line">    &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;css/mycss.css&quot;&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div class=&quot;box&quot;&gt;</span><br><span class="line">        &lt;img index=&quot;1&quot; src=&quot;img/1.jpg&quot; /&gt;</span><br><span class="line">        &lt;img index=&quot;2&quot; src=&quot;img/2.jpg&quot; /&gt;</span><br><span class="line">        &lt;img index=&quot;3&quot; src=&quot;img/3.jpg&quot; /&gt;</span><br><span class="line">        &lt;img index=&quot;4&quot; src=&quot;img/4.jpg&quot; /&gt;</span><br><span class="line">        &lt;img index=&quot;5&quot; src=&quot;img/5.jpg&quot; /&gt;</span><br><span class="line"></span><br><span class="line">        &lt;div class=&quot;button_box next&quot;&gt;&lt;/div&gt;</span><br><span class="line">        &lt;div class=&quot;button_box prev&quot;&gt;&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">        &lt;div class=&quot;point_box&quot;&gt;</span><br><span class="line">            &lt;div index=&quot;1&quot; class=&quot;on&quot;&gt;&lt;/div&gt;</span><br><span class="line">            &lt;div index=&quot;2&quot;&gt;&lt;/div&gt;</span><br><span class="line">            &lt;div index=&quot;3&quot;&gt;&lt;/div&gt;</span><br><span class="line">            &lt;div index=&quot;4&quot;&gt;&lt;/div&gt;</span><br><span class="line">            &lt;div index=&quot;5&quot;&gt;&lt;/div&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">    &lt;script src=&quot;js/myjs.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br></pre></td><td class="code"><pre><span class="line">* &#123;</span><br><span class="line">    margin: 0;</span><br><span class="line">    padding: 0;</span><br><span class="line">&#125;</span><br><span class="line">body, html &#123;</span><br><span class="line">    width: 100%;</span><br><span class="line">    height: 100%;</span><br><span class="line">    overflow: hidden;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.box &#123;</span><br><span class="line">    box-sizing: content-box;</span><br><span class="line">    height: 0;</span><br><span class="line">    width: 50%;</span><br><span class="line">    padding-bottom: 28.125%;</span><br><span class="line">    margin: auto;</span><br><span class="line">    margin-top: 10%;</span><br><span class="line">    margin-bottom: 10%;</span><br><span class="line">    border: 1px solid #aaa;</span><br><span class="line">    position: relative;</span><br><span class="line">    overflow: hidden;</span><br><span class="line">&#125;</span><br><span class="line">.box img &#123;</span><br><span class="line">    width: 100%;</span><br><span class="line">    position: absolute;</span><br><span class="line">    top: 0;</span><br><span class="line">    left: 0;</span><br><span class="line">    z-index: 1;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.button_box &#123;</span><br><span class="line">    cursor: pointer;</span><br><span class="line">    position: absolute;</span><br><span class="line">    top: 50%;</span><br><span class="line">    width: 6%;</span><br><span class="line">    height: 0;</span><br><span class="line">    padding-bottom: 6%;</span><br><span class="line">    margin-top: -3%;</span><br><span class="line">    /*border: 1px solid #999;*/</span><br><span class="line">    background: url(../img/arrow_2.png);</span><br><span class="line">    background-color: RGBA(0,0,0,0.3);</span><br><span class="line">    background-size: 100% 100%;</span><br><span class="line">    z-index: 10;</span><br><span class="line">&#125;</span><br><span class="line">.next &#123;</span><br><span class="line">    right: 0;</span><br><span class="line">    transform: rotate(90deg);</span><br><span class="line">&#125;</span><br><span class="line">.prev &#123;</span><br><span class="line">    left: 0;</span><br><span class="line">    transform: rotate(-90deg);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.point_box &#123;</span><br><span class="line">    position: absolute;</span><br><span class="line">    bottom: 10%;</span><br><span class="line">    left: 50%;</span><br><span class="line">    margin-left: -10%;</span><br><span class="line">    width: 20%;</span><br><span class="line">    height: 0;</span><br><span class="line">    padding-bottom: 2%;</span><br><span class="line">    z-index: 10;</span><br><span class="line">    /*border: 1px solid #000;*/</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.point_box div &#123;</span><br><span class="line">    box-sizing: border-box;</span><br><span class="line">    cursor: pointer;</span><br><span class="line">    position: relative;</span><br><span class="line">    float: left;</span><br><span class="line">    height: 0;</span><br><span class="line">    width: 10%;</span><br><span class="line">    padding-bottom: 10%;</span><br><span class="line">    margin-right: 10%;</span><br><span class="line">    border-radius: 50%;</span><br><span class="line">    border: 0.5px solid #aaa;</span><br><span class="line">    background-color: #aaa;</span><br><span class="line">    transition: 1s;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.on&#123;</span><br><span class="line">    background-color: #fff !important;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">.next_ani_1 &#123;</span><br><span class="line">    animation: next_one 1s both;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@keyframes next_one &#123;</span><br><span class="line">    0% &#123;</span><br><span class="line">        margin-left: 0;</span><br><span class="line">    &#125;</span><br><span class="line">    100% &#123;</span><br><span class="line">        margin-left: -100%;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.next_ani_2 &#123;</span><br><span class="line">    animation: next_two 1s both;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@keyframes next_two &#123;</span><br><span class="line">    0% &#123;</span><br><span class="line">        margin-left: 100%;</span><br><span class="line">    &#125;</span><br><span class="line">    100% &#123;</span><br><span class="line">        margin-left: 0;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.prev_ani_1 &#123;</span><br><span class="line">    animation: prev_one 1s both;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@keyframes prev_one &#123;</span><br><span class="line">    0% &#123;</span><br><span class="line">        margin-left: 0;</span><br><span class="line">    &#125;</span><br><span class="line">    100% &#123;</span><br><span class="line">        margin-left: 100%;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.prev_ani_2 &#123;</span><br><span class="line">    animation: prev_two 1s both;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@keyframes prev_two &#123;</span><br><span class="line">    0% &#123;</span><br><span class="line">        margin-left: -100%;</span><br><span class="line">    &#125;</span><br><span class="line">    100% &#123;</span><br><span class="line">        margin-left: 0;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br></pre></td><td class="code"><pre><span class="line">// 获得对应节点</span><br><span class="line">let img = document.getElementsByClassName(&quot;box&quot;)[0].getElementsByTagName(&quot;img&quot;)</span><br><span class="line">let next = document.getElementsByClassName(&quot;next&quot;)[0]</span><br><span class="line">let prev = document.getElementsByClassName(&quot;prev&quot;)[0]</span><br><span class="line">let point = document.getElementsByClassName(&quot;point_box&quot;)[0].getElementsByTagName(&quot;div&quot;)</span><br><span class="line"></span><br><span class="line">// 定义各项数据</span><br><span class="line">let state = 0  // 定义状态</span><br><span class="line">let index = 0  // 定义图片当前位置</span><br><span class="line">let nextIndex = 1 // 定义图片跳转的位置</span><br><span class="line"></span><br><span class="line">// 定义函数</span><br><span class="line">// 跳转完成后获得重新获得当前位置</span><br><span class="line">function getIndex () &#123;</span><br><span class="line">    index = nextIndex</span><br><span class="line">&#125;</span><br><span class="line">// 获得跳转位置</span><br><span class="line">function getNextIndex (i) &#123;</span><br><span class="line">    // 没传入参数为左右跳转，传入参数为间隔多点跳转</span><br><span class="line">    if (i == undefined) &#123;</span><br><span class="line">        if (state === 0) &#123;</span><br><span class="line">            if ((index + 1) &gt; 4) &#123;</span><br><span class="line">                nextIndex = 0;</span><br><span class="line">            &#125; else &#123;</span><br><span class="line">                nextIndex = index + 1</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        if (state === 1) &#123;</span><br><span class="line">            if ((index - 1) &lt; 0) &#123;</span><br><span class="line">                nextIndex = 4;</span><br><span class="line">            &#125; else &#123;</span><br><span class="line">                nextIndex = index - 1</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        nextIndex = i</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">// 修改当前位置和跳转位置的图层</span><br><span class="line">function changeZIndex () &#123;</span><br><span class="line">    img[index].style.zIndex = &quot;2&quot;</span><br><span class="line">    img[nextIndex].style.zIndex = &quot;2&quot;</span><br><span class="line">    for (let i = 0; i &lt; img.length; i++) &#123;</span><br><span class="line">        if (i != index &amp;&amp; i != nextIndex) &#123;</span><br><span class="line">            img[i].style.zIndex = &quot;1&quot;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">// 设置点跟随图片位置跳转</span><br><span class="line">function showPiont () &#123;</span><br><span class="line">    for (let i = 0; i &lt; point.length; i++) &#123;</span><br><span class="line">        if (i === index) &#123;</span><br><span class="line">            point[i].className = &apos;on&apos;</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            point[i].className = &apos;&apos;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">// 动画函数</span><br><span class="line">function ani (i) &#123;</span><br><span class="line">    img[index].className = &apos;&apos;</span><br><span class="line">    img[nextIndex].className = &apos;&apos;</span><br><span class="line">    getNextIndex(i)</span><br><span class="line">    changeZIndex()</span><br><span class="line">    if (state === 0) &#123;</span><br><span class="line">        img[index].className = &apos;next_ani_1&apos;</span><br><span class="line">        img[nextIndex].className = &apos;next_ani_2&apos;</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        img[index].className = &apos;prev_ani_1&apos;</span><br><span class="line">        img[nextIndex].className = &apos;prev_ani_2&apos;</span><br><span class="line">    &#125;</span><br><span class="line">    getIndex()</span><br><span class="line">    showPiont()</span><br><span class="line">&#125;</span><br><span class="line">// 5s自动轮播</span><br><span class="line">function autoPlay () &#123;</span><br><span class="line">    state = 0</span><br><span class="line">    setInterval(() =&gt; &#123;</span><br><span class="line">        ani()</span><br><span class="line">    &#125;,5000)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 添加监听器</span><br><span class="line">// 右按钮添加点击事件</span><br><span class="line">next.addEventListener(&quot;click&quot;, () =&gt; &#123;</span><br><span class="line">    state = 0</span><br><span class="line">    ani()</span><br><span class="line">&#125;, false)</span><br><span class="line">// 左按钮添加点击事件</span><br><span class="line">prev.addEventListener(&quot;click&quot;, () =&gt; &#123;</span><br><span class="line">    state = 1</span><br><span class="line">    ani()</span><br><span class="line">&#125;, false)</span><br><span class="line">// 对应点添加点击事件</span><br><span class="line">for (let i = 0; i &lt; point.length; i++) &#123;</span><br><span class="line">    point[i].addEventListener(&quot;click&quot;, () =&gt; &#123;</span><br><span class="line">        if (i &gt; index) &#123;</span><br><span class="line">            state = 0</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            state = 1</span><br><span class="line">        &#125;</span><br><span class="line">        ani(i)</span><br><span class="line">    &#125;, false)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 初始化执行</span><br><span class="line">// 修改第一张图片为最上层</span><br><span class="line">img[0].style.zIndex = 2</span><br><span class="line">// 自动轮播函数执行</span><br><span class="line">autoPlay()</span><br></pre></td></tr></table></figure><p><strong>最后我知道那个摆成一排的轮播图怎么无缝了，只是我的想法太局限了，动画效果只想到了css方面，如果是js给dom添加的动画，那么你直接修改样式是不会产生动画的，所以就可以解决这个问题。</strong></p>]]></content>
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> html </tag>
            
            <tag> css </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>css定义高宽成比例</title>
      <link href="/2018/05/24/2018_5_24_2_css%E5%81%9Adiv%E9%AB%98%E5%AE%BD%E6%88%90%E6%AF%94%E4%BE%8B/"/>
      <url>/2018/05/24/2018_5_24_2_css%E5%81%9Adiv%E9%AB%98%E5%AE%BD%E6%88%90%E6%AF%94%E4%BE%8B/</url>
      <content type="html"><![CDATA[<p>今天突然想写一个无缝的轮播图了，因为以前写的轮播图都不是无缝的，在结尾的地方会回滚回第一张图，所以就想试试除了设置外边距的方法来解决这个办法。<br>然后我就想啊，用绝对定位来把图片都放一起，然后要用到什么图片就给什么图片添加动画就好，然后发现一个问题，因为是绝对定位，所以不能把div撑开，所以容器div就没有高度了，这就很难受了，所以就把div自己写一个高度出来，但是图片是16:9的，然后我又想写相对宽度，所以得想办法把div的高宽写成比例关系的，这就很难办了，因为高度百分比是相对父容器的高度的，宽度百分比是相对父容器的宽度的，然后把控制台拉出来，会改变宽度或高度，所以父容器的高宽比例是不定的，然后我就Bing了一下，发现一个神奇的办法</p><p><strong>百分比来做,这里需要运用一个小技巧,padding用百分比做单位时是相对于容器的宽度来算的,所以你可以把高度设为0,内容自然溢出,设置个padding-bottom</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">height: 0;</span><br><span class="line">width: 50%;</span><br><span class="line">padding-bottom: 30%</span><br></pre></td></tr></table></figure><p><strong>那么这个div的高宽比就是30%:50%</strong></p><p>这个办法真的不错，我想可以记一下</p>]]></content>
      
      
        <tags>
            
            <tag> css </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>react学习</title>
      <link href="/2018/05/24/2018_5_24_1_React%E5%AD%A6%E4%B9%A0/"/>
      <url>/2018/05/24/2018_5_24_1_React%E5%AD%A6%E4%B9%A0/</url>
      <content type="html"><![CDATA[<p>React<br>React 是一个用于构建用户界面的 JAVASCRIPT 库<br>React主要用于构建UI<br>React 拥有较高的性能，代码逻辑非常简单</p><p><strong>React 特点</strong></p><ol><li>声明式设计 −React采用声明范式，可以轻松描述应用。</li><li>高效 −React通过对DOM的模拟，最大限度地减少与DOM的交互。</li><li>灵活 −React可以与已知的库或框架很好地配合。</li><li>JSX − JSX 是 JavaScript 语法的扩展。React 开发不一定使用 JSX ，但我们建议使用它。</li><li>组件 − 通过 React 构建组件，使得代码更加容易得到复用，能够很好的应用在大项目的开发中。</li><li>单向响应的数据流 − React 实现了单向响应的数据流，从而减少了重复代码，这也是它为什么比传统数据绑定更简单。</li></ol><p><strong>React 安装</strong></p><p>React 可以直接下载使用<br>也可以直接使用 BootCDN 的 React CDN 库<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;script src=&quot;https://cdn.bootcss.com/react/15.4.2/react.min.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script src=&quot;https://cdn.bootcss.com/react/15.4.2/react-dom.min.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script src=&quot;https://cdn.bootcss.com/babel-standalone/6.22.1/babel.min.js&quot;&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure></p><p>实例<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">  &lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;UTF-8&quot; /&gt;</span><br><span class="line">    &lt;title&gt;Hello React!&lt;/title&gt;</span><br><span class="line">    &lt;script src=&quot;https://cdn.bootcss.com/react/15.4.2/react.min.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">    &lt;script src=&quot;https://cdn.bootcss.com/react/15.4.2/react-dom.min.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">    &lt;script src=&quot;https://cdn.bootcss.com/babel-standalone/6.22.1/babel.min.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">  &lt;/head&gt;</span><br><span class="line">  &lt;body&gt;</span><br><span class="line">    &lt;div id=&quot;example&quot;&gt;&lt;/div&gt;</span><br><span class="line">    &lt;script type=&quot;text/babel&quot;&gt;</span><br><span class="line">      ReactDOM.render(</span><br><span class="line">        &lt;h1&gt;Hello, world!&lt;/h1&gt;,</span><br><span class="line">        document.getElementById(&apos;example&apos;)</span><br><span class="line">      );</span><br><span class="line">    &lt;/script&gt;</span><br><span class="line">  &lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure></p><p>实例中引入了三个库： react.min.js 、react-dom.min.js 和 babel.min.js</p><ol><li>react.min.js - React 的核心库</li><li>react-dom.min.js - 提供与 DOM 相关的功能</li><li>babel.min.js - Babel 可以将 ES6 代码转为 ES5 代码，这样我们就能在目前不支持 ES6 浏览器上执行 React 代码。Babel 内嵌了对 JSX 的支持。通过将 Babel 和 babel-sublime 包（package）一同使用可以让源码的语法渲染上升到一个全新的水平。</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ReactDOM.render(</span><br><span class="line">&lt;h1&gt;Hello, world!&lt;/h1&gt;,</span><br><span class="line">  document.getElementById(&apos;example&apos;)</span><br><span class="line">);</span><br></pre></td></tr></table></figure><p>这段代码表示将一个 h1 标题，插入 id=”example” 节点中。<br>document.getElementById(‘example’)之前有一个逗号分隔</p><p>npm安装<br>国内使用 npm 速度很慢，你可以使用淘宝定制的 cnpm (gzip 压缩支持) 命令行工具代替默认的 npm</p><p><strong>使用 create-react-app 快速构建 React 开发环境</strong></p><p>create-react-app 是来自于 Facebook，通过该命令我们无需配置就能快速构建 React 开发环境。<br>create-react-app 自动创建的项目是基于 Webpack + ES6 。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ cnpm install -g create-react-app</span><br><span class="line">$ create-react-app my-app</span><br><span class="line">$ cd my-app/</span><br><span class="line">$ npm start</span><br></pre></td></tr></table></figure></p><p>创建react项目并启动</p><p>项目的目录结构如下：<br>my-app/</p><blockquote><p>README.md<br>  node_modules/<br>  package.json<br>  .gitignore</p></blockquote><p>  my-app/public/<br>    &gt;favicon.ico<br>    index.html</p><p> my-app/ src/<br>    &gt;App.css<br>    App.js<br>    App.test.js<br>    index.css<br>    index.js<br>    logo.svg</p><p><strong>React JSX</strong></p><p>React 使用 JSX 来替代常规的 JavaScript。<br>JSX 是一个看起来很像 XML 的 JavaScript 语法扩展。<br>我们不需要一定使用 JSX，但它有以下优点：</p><ol><li>JSX 执行更快，因为它在编译为 JavaScript 代码后进行了优化。</li><li>它是类型安全的，在编译过程中就能发现错误。</li><li>使用 JSX 编写模板更加简单快速。</li></ol><p>JSX 看起来类似 HTML<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ReactDOM.render(</span><br><span class="line">    &lt;h1&gt;Hello, world!&lt;/h1&gt;,</span><br><span class="line">    document.getElementById(&apos;example&apos;)</span><br><span class="line">);</span><br></pre></td></tr></table></figure></p><p>可以在以上代码中嵌套多个 HTML 标签，需要使用一个 div 元素包裹它，实例中的 p 元素添加了自定义属性 data-myattribute，添加自定义属性需要使用 data- 前缀。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">ReactDOM.render(</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">    &lt;h1&gt;菜鸟教程&lt;/h1&gt;</span><br><span class="line">    &lt;h2&gt;欢迎学习 React&lt;/h2&gt;</span><br><span class="line">    &lt;p data-myattribute = &quot;somevalue&quot;&gt;这是一个很不错的 JavaScript 库!&lt;/p&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    ,</span><br><span class="line">    document.getElementById(&apos;example&apos;)</span><br><span class="line">);</span><br></pre></td></tr></table></figure></p><p>我们可以在 JSX 中使用 JavaScript 表达式。表达式写在花括号 {} 中。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">ReactDOM.render(</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;h1&gt;&#123;1+1&#125;&lt;/h1&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    ,</span><br><span class="line">    document.getElementById(&apos;example&apos;)</span><br><span class="line">);</span><br></pre></td></tr></table></figure></p><p>在 JSX 中不能使用 if else 语句，但可以使用 conditional (三元运算) 表达式来替代。以下实例中如果变量 i 等于 1 浏览器将输出 true, 如果修改 i 的值，则会输出 false.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">ReactDOM.render(</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;h1&gt;&#123;i == 1 ? &apos;True!&apos; : &apos;False&apos;&#125;&lt;/h1&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    ,</span><br><span class="line">    document.getElementById(&apos;example&apos;)</span><br><span class="line">);</span><br></pre></td></tr></table></figure></p><p>React 推荐使用内联样式。我们可以使用 camelCase 语法来设置内联样式. React 会在指定元素数字后自动添加 px 。以下实例演示了为 h1 元素添加 myStyle 内联样式：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">var myStyle = &#123;</span><br><span class="line">    fontSize: 100,</span><br><span class="line">    color: &apos;#FF0000&apos;</span><br><span class="line">&#125;;</span><br><span class="line">ReactDOM.render(</span><br><span class="line">    &lt;h1 style = &#123;myStyle&#125;&gt;菜鸟教程&lt;/h1&gt;,</span><br><span class="line">    document.getElementById(&apos;example&apos;)</span><br><span class="line">);</span><br></pre></td></tr></table></figure></p><p>注释需要写在花括号中<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">ReactDOM.render(</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">    &lt;h1&gt;菜鸟教程&lt;/h1&gt;</span><br><span class="line">    &#123;/*注释...*/&#125;</span><br><span class="line">     &lt;/div&gt;,</span><br><span class="line">    document.getElementById(&apos;example&apos;)</span><br><span class="line">);</span><br></pre></td></tr></table></figure></p><p>JSX 允许在模板中插入数组，数组会自动展开所有成员：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">var arr = [</span><br><span class="line">  &lt;h1&gt;菜鸟教程&lt;/h1&gt;,</span><br><span class="line">  &lt;h2&gt;学的不仅是技术，更是梦想！&lt;/h2&gt;,</span><br><span class="line">];</span><br><span class="line">ReactDOM.render(</span><br><span class="line">  &lt;div&gt;&#123;arr&#125;&lt;/div&gt;,</span><br><span class="line">  document.getElementById(&apos;example&apos;)</span><br><span class="line">);</span><br></pre></td></tr></table></figure></p><p>React 可以渲染 HTML 标签 (strings) 或 React 组件 (classes)。<br>要渲染 HTML 标签，只需在 JSX 里使用小写字母的标签名。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var myDivElement = &lt;div className=&quot;foo&quot; /&gt;;</span><br><span class="line">ReactDOM.render(myDivElement, document.getElementById(&apos;example&apos;));</span><br></pre></td></tr></table></figure></p><p>要渲染 React 组件，只需创建一个大写字母开头的本地变量。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var MyComponent = React.createClass(&#123;/*...*/&#125;);</span><br><span class="line">var myElement = &lt;MyComponent someProperty=&#123;true&#125; /&gt;;</span><br><span class="line">ReactDOM.render(myElement, document.getElementById(&apos;example&apos;));</span><br></pre></td></tr></table></figure></p><p>React 的 JSX 使用大、小写的约定来区分本地组件的类和 HTML 标签。</p><p><strong>注意：</strong><br><em>由于 JSX 就是 JavaScript，一些标识符像 class 和 for 不建议作为 XML 属性名。作为替代，React DOM 使用 className 和 htmlFor 来做对应的属性。</em></p><p><strong>React 组件</strong></p><p>封装一个输出 “Hello World！” 的组件，组件名为 HelloMessage：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">var HelloMessage = React.createClass(&#123;</span><br><span class="line">  render: function() &#123;</span><br><span class="line">    return &lt;h1&gt;Hello World！&lt;/h1&gt;;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line"> </span><br><span class="line">ReactDOM.render(</span><br><span class="line">  &lt;HelloMessage /&gt;,</span><br><span class="line">  document.getElementById(&apos;example&apos;)</span><br><span class="line">);</span><br></pre></td></tr></table></figure></p><p>React.createClass 方法用于生成一个组件类 HelloMessage。</p><p><strong>注意：</strong><br><em>原生 HTML 元素名以小写字母开头，而自定义的 React 类名以大写字母开头，比如 HelloMessage 不能写成 helloMessage。除此之外还需要注意组件类只能包含一个顶层标签，否则也会报错。</em></p><p>如果我们需要向组件传递参数，可以使用 this.props 对象<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">var HelloMessage = React.createClass(&#123;</span><br><span class="line">  render: function() &#123;</span><br><span class="line">    return &lt;h1&gt;Hello &#123;this.props.name&#125;&lt;/h1&gt;;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line"> </span><br><span class="line">ReactDOM.render(</span><br><span class="line">  &lt;HelloMessage name=&quot;Runoob&quot; /&gt;,</span><br><span class="line">  document.getElementById(&apos;example&apos;)</span><br><span class="line">);</span><br></pre></td></tr></table></figure></p><p>我们可以通过创建多个组件来合成一个组件，即把组件的不同功能点进行分离。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">var WebSite = React.createClass(&#123;</span><br><span class="line">  render: function() &#123;</span><br><span class="line">    return (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;Name name=&#123;this.props.name&#125; /&gt;</span><br><span class="line">        &lt;Link site=&#123;this.props.site&#125; /&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line"> </span><br><span class="line">var Name = React.createClass(&#123;</span><br><span class="line">  render: function() &#123;</span><br><span class="line">    return (</span><br><span class="line">      &lt;h1&gt;&#123;this.props.name&#125;&lt;/h1&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line"> </span><br><span class="line">var Link = React.createClass(&#123;</span><br><span class="line">  render: function() &#123;</span><br><span class="line">    return (</span><br><span class="line">      &lt;a href=&#123;this.props.site&#125;&gt;</span><br><span class="line">        &#123;this.props.site&#125;</span><br><span class="line">      &lt;/a&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line"> </span><br><span class="line">ReactDOM.render(</span><br><span class="line">  &lt;WebSite name=&quot;菜鸟教程&quot; site=&quot; http://www.runoob.com&quot; /&gt;,</span><br><span class="line">  document.getElementById(&apos;example&apos;)</span><br><span class="line">);</span><br></pre></td></tr></table></figure></p><p>总的说就是组件可以使用组件，最终把多个功能组件合为一个组件，然后输出该组件就行了</p><p>组件名不一定是用单标签，也可以是双标签<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;HelloMessage /&gt; == &lt;HelloMessage&gt;&lt;/HelloMessage&gt;</span><br></pre></td></tr></table></figure></p><p><strong>React State(状态)</strong></p><p>React 把组件看成是一个状态机（State Machines）。通过与用户的交互，实现不同状态，然后渲染 UI，让用户界面和数据保持一致。</p><p>React 里，只需更新组件的 state，然后根据新的 state 重新渲染用户界面（不要操作 DOM）。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=&quot;text/babel&quot;&gt;</span><br><span class="line">  var LikeButton = React.createClass(&#123;</span><br><span class="line">    getInitialState: function() &#123;</span><br><span class="line">      return &#123;liked: false&#125;;</span><br><span class="line">    &#125;,</span><br><span class="line">    handleClick: function(event) &#123;</span><br><span class="line">      this.setState(&#123;liked: !this.state.liked&#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">    render: function() &#123;</span><br><span class="line">      var text = this.state.liked ? &apos;喜欢&apos; : &apos;不喜欢&apos;;</span><br><span class="line">      return (</span><br><span class="line">        &lt;p onClick=&#123;this.handleClick&#125;&gt;</span><br><span class="line">          你&lt;b&gt;&#123;text&#125;&lt;/b&gt;我。点我切换状态。</span><br><span class="line">        &lt;/p&gt;</span><br><span class="line">      );</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  ReactDOM.render(</span><br><span class="line">    &lt;LikeButton /&gt;,</span><br><span class="line">    document.getElementById(&apos;example&apos;)</span><br><span class="line">  );</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></p><p>有点看不明白<br>state数据在哪，可能是getInitialState方法来定义数据的类似于vue的data吧</p><p>我尝试删除掉getInitialState方法，果然报错无法获取liked，应该就是定义数据的函数</p><p><strong>React Props</strong></p><p>state 和 props 主要的区别在于 props 是不可变的，而 state 可以根据与用户交互来改变。这就是为什么有些容器组件需要定义 state 来更新和修改数据。 而子组件只能通过 props 来传递数据。</p><p>你可以通过 getDefaultProps() 方法为 props 设置默认值<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">var HelloMessage = React.createClass(&#123;</span><br><span class="line">  getDefaultProps: function() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      name: &apos;Runoob&apos;</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  render: function() &#123;</span><br><span class="line">    return &lt;h1&gt;Hello &#123;this.props.name&#125;&lt;/h1&gt;;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p><p>在应用中组合使用 state 和 props 。我们可以在父组件中设置 state， 并通过在子组件上使用 props 将其传递到子组件上。在 render 函数中, 我们设置 name 和 site 来获取父组件传递过来的数据。</p><p><strong>Props 验证</strong></p><p>Props 验证使用 propTypes，它可以保证我们的应用组件被正确使用，React.PropTypes 提供很多验证器 (validator) 来验证传入数据是否有效。当向 props 传入无效数据时，JavaScript 控制台会抛出警告。</p><p>以下实例创建一个 Mytitle 组件，属性 title 是必须的且是字符串，非字符串类型会自动转换为字符串 ：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">var title = &quot;url&quot;;</span><br><span class="line">// var title = 123;</span><br><span class="line">var MyTitle = React.createClass(&#123;</span><br><span class="line">  propTypes: &#123;</span><br><span class="line">    title: React.PropTypes.string.isRequired,</span><br><span class="line">  &#125;,</span><br><span class="line"> </span><br><span class="line">  render: function() &#123;</span><br><span class="line">     return &lt;h1&gt; &#123;this.props.title&#125; &lt;/h1&gt;;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;);</span><br><span class="line">ReactDOM.render(</span><br><span class="line">    &lt;MyTitle title=&#123;title&#125; /&gt;,</span><br><span class="line">    document.getElementById(&apos;example&apos;)</span><br><span class="line">);</span><br></pre></td></tr></table></figure></p><p>更多验证器说明如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line">React.createClass(&#123;</span><br><span class="line">  propTypes: &#123;</span><br><span class="line">    // 可以声明 prop 为指定的 JS 基本数据类型，默认情况，这些数据是可选的</span><br><span class="line">   optionalArray: React.PropTypes.array,</span><br><span class="line">    optionalBool: React.PropTypes.bool,</span><br><span class="line">    optionalFunc: React.PropTypes.func,</span><br><span class="line">    optionalNumber: React.PropTypes.number,</span><br><span class="line">    optionalObject: React.PropTypes.object,</span><br><span class="line">    optionalString: React.PropTypes.string,</span><br><span class="line"> </span><br><span class="line">    // 可以被渲染的对象 numbers, strings, elements 或 array</span><br><span class="line">    optionalNode: React.PropTypes.node,</span><br><span class="line"> </span><br><span class="line">    //  React 元素</span><br><span class="line">    optionalElement: React.PropTypes.element,</span><br><span class="line"> </span><br><span class="line">    // 用 JS 的 instanceof 操作符声明 prop 为类的实例。</span><br><span class="line">    optionalMessage: React.PropTypes.instanceOf(Message),</span><br><span class="line"> </span><br><span class="line">    // 用 enum 来限制 prop 只接受指定的值。</span><br><span class="line">    optionalEnum: React.PropTypes.oneOf([&apos;News&apos;, &apos;Photos&apos;]),</span><br><span class="line"> </span><br><span class="line">    // 可以是多个对象类型中的一个</span><br><span class="line">    optionalUnion: React.PropTypes.oneOfType([</span><br><span class="line">      React.PropTypes.string,</span><br><span class="line">      React.PropTypes.number,</span><br><span class="line">      React.PropTypes.instanceOf(Message)</span><br><span class="line">    ]),</span><br><span class="line"> </span><br><span class="line">    // 指定类型组成的数组</span><br><span class="line">    optionalArrayOf: React.PropTypes.arrayOf(React.PropTypes.number),</span><br><span class="line"> </span><br><span class="line">    // 指定类型的属性构成的对象</span><br><span class="line">    optionalObjectOf: React.PropTypes.objectOf(React.PropTypes.number),</span><br><span class="line"> </span><br><span class="line">    // 特定 shape 参数的对象</span><br><span class="line">    optionalObjectWithShape: React.PropTypes.shape(&#123;</span><br><span class="line">      color: React.PropTypes.string,</span><br><span class="line">      fontSize: React.PropTypes.number</span><br><span class="line">    &#125;),</span><br><span class="line"> </span><br><span class="line">    // 任意类型加上 `isRequired` 来使 prop 不可空。</span><br><span class="line">    requiredFunc: React.PropTypes.func.isRequired,</span><br><span class="line"> </span><br><span class="line">    // 不可空的任意类型</span><br><span class="line">    requiredAny: React.PropTypes.any.isRequired,</span><br><span class="line"> </span><br><span class="line">    // 自定义验证器。如果验证失败需要返回一个 Error 对象。不要直接使用 `console.warn` 或抛异常，因为这样 `oneOfType` 会失效。</span><br><span class="line">    customProp: function(props, propName, componentName) &#123;</span><br><span class="line">      if (!/matchme/.test(props[propName])) &#123;</span><br><span class="line">        return new Error(&apos;Validation failed!&apos;);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  /* ... */</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p><p><strong>React 组件 API</strong></p><p>设置状态：setState<br>替换状态：replaceState<br>设置属性：setProps<br>替换属性：replaceProps<br>强制更新：forceUpdate<br>获取DOM节点：findDOMNode<br>判断组件挂载状态：isMounted</p><p><strong>设置状态:setState</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">setState(object nextState[, function callback])</span><br></pre></td></tr></table></figure></p><p>nextState，将要设置的新状态，该状态会和当前的state合并<br>callback，可选参数，回调函数。该函数会在setState设置成功，且组件重新渲染后调用。<br>合并nextState和当前state，并重新渲染组件。setState是React事件处理函数中和请求回调函数中触发UI更新的主要方法。</p><p><em>不能在组件内部通过this.state修改状态，因为该状态会在调用setState()后被替换。</em><br><em>setState()并不会立即改变this.state，而是创建一个即将处理的state。  setState()并不一定是同步的，为了提升性能React会批量执行state和DOM渲染。</em><br><em>setState()总是会触发一次组件重绘，除非在shouldComponentUpdate()中实现了一些条件渲染逻辑。</em></p><p><strong>替换状态：replaceState</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">replaceState(object nextState[, function callback])</span><br></pre></td></tr></table></figure></p><p>nextState，将要设置的新状态，该状态会替换当前的state。<br>callback，可选参数，回调函数。该函数会在replaceState设置成功，且组件重新渲染后调用。<br>replaceState()方法与setState()类似，但是方法只会保留nextState中状态，原state不在nextState中的状态都会被删除。</p><p><strong>设置属性：setProps</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">setProps(object nextProps[, function callback])</span><br></pre></td></tr></table></figure></p><p>设置组件属性，并重新渲染组件。</p><p>props相当于组件的数据流，它总是会从父组件向下传递至所有的子组件中。当和一个外部的JavaScript应用集成时，我们可能会需要向组件传递数据或通知React.render()组件需要重新渲染，可以使用setProps()。</p><p>更新组件，我可以在节点上再次调用React.render()，也可以通过setProps()方法改变组件属性，触发组件重新渲染。</p><p>说真的不太理解这个意思，react不是应该会自动重新渲染的吗？<br>为什么要通过setProps来触发组件重新渲染</p><p><strong>替换属性：replaceProps</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">replaceProps(object nextProps[, function callback])</span><br></pre></td></tr></table></figure></p><p>nextProps，将要设置的新属性，该属性会替换当前的props。<br>callback，可选参数，回调函数。该函数会在replaceProps设置成功，且组件重新渲染后调用。<br>replaceProps()方法与setProps类似，但它会删除原有 props。</p><p><strong>强制更新：forceUpdate</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">forceUpdate([function callback])</span><br></pre></td></tr></table></figure></p><p>callback，可选参数，回调函数。该函数会在组件render()方法调用后调用。</p><p>forceUpdate()方法会使组件调用自身的render()方法重新渲染组件，组件的子组件也会调用自己的render()。但是，组件重新渲染时，依然会读取this.props和this.state，如果状态没有改变，那么React只会更新DOM。</p><p>forceUpdate()方法适用于this.props和this.state之外的组件重绘（如：修改了this.state后），通过该方法通知React需要调用render()</p><p>一般来说，应该尽量避免使用forceUpdate()，而仅从this.props和this.state中读取状态并由React触发render()调用。</p><p><strong>获取DOM节点：findDOMNode</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DOMElement findDOMNode()</span><br></pre></td></tr></table></figure></p><p>返回值：DOM元素DOMElement<br>如果组件已经挂载到DOM中，该方法返回对应的本地浏览器 DOM 元素。当render返回null 或 false时，this.findDOMNode()也会返回null。从DOM 中读取值的时候，该方法很有用，如：获取表单字段的值和做一些 DOM 操作。</p><p><strong>判断组件挂载状态：isMounted</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bool isMounted()</span><br></pre></td></tr></table></figure><p>返回值：true或false，表示组件是否已挂载到DOM中</p><p>isMounted()方法用于判断组件是否已挂载到DOM中。可以使用该方法保证了setState()和forceUpdate()在异步场景下的调用不会出错。</p><p><strong>React 组件生命周期</strong></p><p>Mounting：已插入真实 DOM<br>Updating：正在被重新渲染<br>Unmounting：已移出真实 DOM</p><p>生命周期的方法有：</p><blockquote><p>componentWillMount 在渲染前调用,在客户端也在服务端。</p><p>componentDidMount : 在第一次渲染后调用，只在客户端。之后组件已经生成了对应的DOM结构，可以通过this.getDOMNode()来进行访问。 如果你想和其他JavaScript框架一起使用，可以在这个方法中调用setTimeout, setInterval或者发送AJAX请求等操作(防止异部操作阻塞UI)。</p><p>componentWillReceiveProps 在组件接收到一个新的 prop (更新后)时被调用。这个方法在初始化render时不会被调用。</p><p>shouldComponentUpdate 返回一个布尔值。在组件接收到新的props或者state时被调用。在初始化时或者使用forceUpdate时不被调用。<br>可以在你确认不需要更新组件时使用。</p><p>componentWillUpdate在组件接收到新的props或者state但还没有render时被调用。在初始化时不会被调用。</p><p>componentDidUpdate 在组件完成更新后立即调用。在初始化时不会被调用。</p><p>componentWillUnmount在组件从 DOM 中移除的时候立刻被调用。</p></blockquote><p>以下实例在 Hello 组件加载以后，通过 componentDidMount 方法设置一个定时器，每隔100毫秒重新设置组件的透明度，并重新渲染：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">var Hello = React.createClass(&#123;</span><br><span class="line">  getInitialState: function () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      opacity: 1.0</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line"> </span><br><span class="line">  componentDidMount: function () &#123;</span><br><span class="line">    this.timer = setInterval(function () &#123;</span><br><span class="line">      var opacity = this.state.opacity;</span><br><span class="line">      opacity -= .05;</span><br><span class="line">      if (opacity &lt; 0.1) &#123;</span><br><span class="line">        opacity = 1.0;</span><br><span class="line">      &#125;</span><br><span class="line">      this.setState(&#123;</span><br><span class="line">        opacity: opacity</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;.bind(this), 100);</span><br><span class="line">  &#125;,</span><br><span class="line"> </span><br><span class="line">  render: function () &#123;</span><br><span class="line">    return (</span><br><span class="line">      &lt;div style=&#123;&#123;opacity: this.state.opacity&#125;&#125;&gt;</span><br><span class="line">        Hello &#123;this.props.name&#125;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line"> </span><br><span class="line">ReactDOM.render(</span><br><span class="line">  &lt;Hello name=&quot;world&quot;/&gt;,</span><br><span class="line">  document.body</span><br><span class="line">);</span><br></pre></td></tr></table></figure></p><p><strong>React AJAX</strong></p><p>React 组件的数据可以通过 componentDidMount 方法中的 Ajax 来获取，当从服务端获取数据时可以将数据存储在 state 中，再用 this.setState 方法重新渲染 UI。<br>当使用异步加载数据时，在组件卸载前使用 componentWillUnmount 来取消未完成的请求。</p><p>差不多就是vue里的created里使用ajax然后传递数据给data最后渲染ui的意思吧</p><p><strong>React 表单与事件</strong></p><p>在实例中我们设置了输入框 input 值value = {this.state.data}。在输入框值发生变化时我们可以更新 state。我们可以使用 onChange 事件来监听 input 的变化，并修改 state。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">var HelloMessage = React.createClass(&#123;</span><br><span class="line">  getInitialState: function() &#123;</span><br><span class="line">    return &#123;value: &apos;Hello Runoob!&apos;&#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  handleChange: function(event) &#123;</span><br><span class="line">    this.setState(&#123;value: event.target.value&#125;);</span><br><span class="line">  &#125;,</span><br><span class="line">  render: function() &#123;</span><br><span class="line">    var value = this.state.value;</span><br><span class="line">    return &lt;div&gt;</span><br><span class="line">            &lt;input type=&quot;text&quot; value=&#123;value&#125; onChange=&#123;this.handleChange&#125; /&gt; </span><br><span class="line">            &lt;h4&gt;&#123;value&#125;&lt;/h4&gt;</span><br><span class="line">           &lt;/div&gt;;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line">ReactDOM.render(</span><br><span class="line">  &lt;HelloMessage /&gt;,</span><br><span class="line">  document.getElementById(&apos;example&apos;)</span><br><span class="line">);</span><br></pre></td></tr></table></figure></p><p>差不多就是vue的v-model吧，双向绑定，感觉没有v-model方便。</p><p>在以下实例中我们将为大家演示如何在子组件上使用表单。 onChange 方法将触发 state 的更新并将更新的值传递到子组件的输入框的 value 上来重新渲染界面。</p><p>你需要在父组件通过创建事件句柄 (handleChange) ，并作为 prop (updateStateProp) 传递到你的子组件上<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">var Content = React.createClass(&#123;</span><br><span class="line">  render: function() &#123;</span><br><span class="line">    return  &lt;div&gt;</span><br><span class="line">            &lt;input type=&quot;text&quot; value=&#123;this.props.myDataProp&#125; onChange=&#123;this.props.updateStateProp&#125; /&gt; </span><br><span class="line">            &lt;h4&gt;&#123;this.props.myDataProp&#125;&lt;/h4&gt;</span><br><span class="line">            &lt;/div&gt;;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line">var HelloMessage = React.createClass(&#123;</span><br><span class="line">  getInitialState: function() &#123;</span><br><span class="line">    return &#123;value: &apos;Hello Runoob!&apos;&#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  handleChange: function(event) &#123;</span><br><span class="line">    this.setState(&#123;value: event.target.value&#125;);</span><br><span class="line">  &#125;,</span><br><span class="line">  render: function() &#123;</span><br><span class="line">    var value = this.state.value;</span><br><span class="line">    return &lt;div&gt;</span><br><span class="line">            &lt;Content myDataProp = &#123;value&#125; </span><br><span class="line">              updateStateProp = &#123;this.handleChange&#125;&gt;&lt;/Content&gt;</span><br><span class="line">           &lt;/div&gt;;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line">ReactDOM.render(</span><br><span class="line">  &lt;HelloMessage /&gt;,</span><br><span class="line">  document.getElementById(&apos;example&apos;)</span><br><span class="line">);</span><br></pre></td></tr></table></figure></p><p>。。。当input和value显示的不在一个组件里时通过props传参数的意思吧，然后传递完成会执行函数，来重新渲染页面的意思吧</p><p><strong>React 事件</strong></p><p>通过 onClick 事件来修改数据<br>就是跟html一样在标签里写事件嘛，onClick触发一个函数，函数修改state数据，<strong>需要注意的是：</strong>onClick的c要大写</p><p>当你需要从子组件中更新父组件的 state 时，你需要在父组件通过创建事件句柄 (handleChange) ，并作为 prop (updateStateProp) 传递到你的子组件上。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">var Content = React.createClass(&#123;</span><br><span class="line">  render: function() &#123;</span><br><span class="line">    return  &lt;div&gt;</span><br><span class="line">              &lt;button onClick = &#123;this.props.updateStateProp&#125;&gt;点我&lt;/button&gt;</span><br><span class="line">              &lt;h4&gt;&#123;this.props.myDataProp&#125;&lt;/h4&gt;</span><br><span class="line">           &lt;/div&gt;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line">var HelloMessage = React.createClass(&#123;</span><br><span class="line">  getInitialState: function() &#123;</span><br><span class="line">    return &#123;value: &apos;Hello Runoob!&apos;&#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  handleChange: function(event) &#123;</span><br><span class="line">    this.setState(&#123;value: &apos;菜鸟教程&apos;&#125;)</span><br><span class="line">  &#125;,</span><br><span class="line">  render: function() &#123;</span><br><span class="line">    var value = this.state.value;</span><br><span class="line">    return &lt;div&gt;</span><br><span class="line">            &lt;Content myDataProp = &#123;value&#125; </span><br><span class="line">              updateStateProp = &#123;this.handleChange&#125;&gt;&lt;/Content&gt;</span><br><span class="line">           &lt;/div&gt;;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line">ReactDOM.render(</span><br><span class="line">  &lt;HelloMessage /&gt;,</span><br><span class="line">  document.getElementById(&apos;example&apos;)</span><br><span class="line">);</span><br></pre></td></tr></table></figure></p><p><strong>React Refs</strong></p><p>React 支持一种非常特殊的属性 Ref ，你可以用来绑定到 render() 输出的任何组件上。</p><p>这个特殊的属性允许你引用 render() 返回的相应的支撑实例（ backing instance ）。这样就可以确保在任何时间总是拿到正确的实例。</p><p>你可以通过使用 this 来获取当前 React 组件，或使用 ref 来获取组件的引用</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">var MyComponent = React.createClass(&#123;</span><br><span class="line">  handleClick: function() &#123;</span><br><span class="line">    // 使用原生的 DOM API 获取焦点</span><br><span class="line">    this.refs.myInput.focus();</span><br><span class="line">  &#125;,</span><br><span class="line">  render: function() &#123;</span><br><span class="line">    //  当组件插入到 DOM 后，ref 属性添加一个组件的引用于到 this.refs</span><br><span class="line">    return (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;input type=&quot;text&quot; ref=&quot;myInput&quot; /&gt;</span><br><span class="line">        &lt;input</span><br><span class="line">          type=&quot;button&quot;</span><br><span class="line">          value=&quot;点我输入框获取焦点&quot;</span><br><span class="line">          onClick=&#123;this.handleClick&#125;</span><br><span class="line">        /&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line"> </span><br><span class="line">ReactDOM.render(</span><br><span class="line">  &lt;MyComponent /&gt;,</span><br><span class="line">  document.getElementById(&apos;example&apos;)</span><br><span class="line">);</span><br></pre></td></tr></table></figure><p>我们也可以使用 getDOMNode()方法获取DOM元素</p><p>emmm…大概就是类似id的意思，然后通过ref来获取到该DOM</p><p>react学习完毕。。。看了半天文档。。总有种似懂非懂的样子，果然还是要实战才能记住啊。跟刚开始学习vue一样，无从下手的感觉。</p><p>赶紧找点东西做做吧！</p>]]></content>
      
      
        <tags>
            
            <tag> react </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>less学习</title>
      <link href="/2018/05/17/2018_5_17_2_less%E5%AD%A6%E4%B9%A0/"/>
      <url>/2018/05/17/2018_5_17_2_less%E5%AD%A6%E4%B9%A0/</url>
      <content type="html"><![CDATA[<p>Less 是一门 CSS 预处理语言，它扩充了 CSS 语言，增加了诸如变量、混合（mixin）、函数等功能，让 CSS 更易维护、方便制作主题、扩充。</p><p>Less 可以通过 npm 在命令行上运行；在浏览器上作为脚本文件下载；或者集成在广大的第三方工具内。</p><p><strong>使用less</strong><br>要成功的使用Less，需要一个脚本的支持，这个脚本我们把他叫做less.js。</p><p>less的用法</p><p><strong>1.变量</strong><br>Less中的变量充许你在样式中的某个地方对常用的值进行定义，然后应用到样式中，这样只要改变你定义的变量参数值就可以达到改变全局的效果。<br>less 使用@进行定义<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">/*======= Less  ======*/</span><br><span class="line">//less用@定义变量</span><br><span class="line">@color: #4d926f;</span><br><span class="line">#header &#123;</span><br><span class="line">color: @color;</span><br><span class="line">&#125;</span><br><span class="line">h2 &#123;</span><br><span class="line">color: @color;</span><br><span class="line">&#125;</span><br><span class="line">/*======= Less 编译成 css ======*/</span><br><span class="line">#header &#123;</span><br><span class="line">color: #4d926f;</span><br><span class="line">&#125;</span><br><span class="line">h2 &#123;</span><br><span class="line">color: #4d926f;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/*======= Less  ======*/</span><br><span class="line">//less变量算数</span><br><span class="line">@nice-blue: #5b83ad;</span><br><span class="line">@light-blue: @nice-blue + #111;</span><br><span class="line">#header &#123;</span><br><span class="line">color: @light-blue;</span><br><span class="line">&#125;</span><br><span class="line">/*======= Less 编译成 css ======*/</span><br><span class="line">#header &#123;color: #6c94be;&#125;</span><br><span class="line"></span><br><span class="line">/*======= Less  ======*/</span><br><span class="line">//less变量定义变量</span><br><span class="line">@color: #253636;</span><br><span class="line">@highlight: &quot;color&quot;;</span><br><span class="line">#header &#123;color: @@highlight;&#125;</span><br><span class="line">/*======= Less 编译成 css ======*/</span><br><span class="line">#header &#123;color: #253636;&#125;</span><br></pre></td></tr></table></figure></p><p><strong>在Less中的变量实际上就是一个“常量”，因为它们只能被定义一次。</strong><br>优势的地方应该是修改变量可以改变所有的使用该变量的样式</p><p><strong>2.混入——Mixins</strong><br>混入其实就是一种嵌套，它充许你将一个类嵌入到另一个类中，而被嵌入的这个类也称为是一个变量。换句话说，你可以用一个类定义CSS，然后把整个为当作一个变量来使用，嵌入到另一个类中当作他的属性；<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">/*========== 定义一个规则，并且不设置默认参数值 ============*/</span><br><span class="line">.borderRadius(@radius)&#123;</span><br><span class="line">-moz-border-radius: @radius;</span><br><span class="line">-webkit-border-radius: @radius;</span><br><span class="line">border-radius: @radius;</span><br><span class="line">&#125;</span><br><span class="line">/*============ 应用到元素中 ============*/</span><br><span class="line">#header &#123;</span><br><span class="line">.borderRadius(10px); /*把10px传给变量@radius*/</span><br><span class="line">&#125;</span><br><span class="line">.btn &#123;</span><br><span class="line">.borderRadius(3px);/*把3px传给变量@radius*/</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>Mixins还有一个重要的变量：@arguments。@arguments在Mixins中具是一个很特别的参数，当Mixins引用这个参数时，他将表示所有的变量。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">.boxShadow(@x:0,@y:0,@blur:1px,@color:#000)&#123;</span><br><span class="line">-moz-box-shadow: @arguments;</span><br><span class="line">-webkit-box-shadow: @arguments;</span><br><span class="line">box-shadow: @arguments;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#header &#123;</span><br><span class="line">.boxShadow(2px,2px,3px,#f36);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p><strong>3.嵌套规则</strong><br>嵌套规则主要是针对一多层元素的样式规则写法，以前我们在多层元素中写样式，要么从头选下来，要么另外给这个元素加上类名或id名，但在Less中我们不需要这样操作了，我们只要使用他的嵌套规则就可以完成。<br>写法就和html的DOM结构类似<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">/*============ html ============*/</span><br><span class="line">&lt;div id=&quot;header&quot;&gt;</span><br><span class="line">&lt;h1&gt;&lt;a href=&quot;&quot;&gt;W3cplus&lt;/a&gt;&lt;/h1&gt;</span><br><span class="line">&lt;p&gt;记述前端那些事——引领Web前沿&lt;/p&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">/*============ less ============*/</span><br><span class="line">#header &#123;</span><br><span class="line">display: inline;</span><br><span class="line">float: left;</span><br><span class="line">h1 &#123;</span><br><span class="line">font-size: 26px;</span><br><span class="line">font-weight: bold;</span><br><span class="line">a &#123;</span><br><span class="line">text-decoration: none;</span><br><span class="line">color: #f36;</span><br><span class="line">&amp;:hover &#123;</span><br><span class="line">text-decoration: underline;</span><br><span class="line">color: #63f;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">p &#123;</span><br><span class="line">font-size: 12px;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p><strong>4.Functions &amp; Operations</strong><br>在我们平时的样式中，有很多元素的属性都具有一定的比例或倍数。那么这两个刚好可以帮我们实现这方面的功能，首先来看Operations（直译“动作”）他可以让你对元素的属性值，颜色进行四则运算：加、减、乘、除。而Function就像javascript中的function一样可以让你进行你想要的值的操作。</p><ol><li><p>Operations</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">/*============ less ============*/</span><br><span class="line">@base: 5%;</span><br><span class="line">@filler: @base*2;</span><br><span class="line">@other: @base + @filler;</span><br><span class="line">#header &#123;</span><br><span class="line">color: #888 / 4;</span><br><span class="line">height: 100% / 2 + @filler; </span><br><span class="line">&#125;</span><br><span class="line">/*============ css ============*/</span><br><span class="line">#header &#123;</span><br><span class="line">color: #222222;</span><br><span class="line">    height: 60%;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>Functions<br>Less中还提供了一个Color Functions，他具有多种变换颜色的功能，先把颜色转换成HSL色，然后在此基础上进行操作，具体包括以下几种：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">lighten(@color, 10%);     // return a color which is 10% *lighter* than @color</span><br><span class="line">darken(@color, 10%);      // return a color which is 10% *darker* than @color</span><br><span class="line"></span><br><span class="line">saturate(@color, 10%);    // return a color 10% *more* saturated than @color</span><br><span class="line">desaturate(@color, 10%);  // return a color 10% *less* saturated than @color</span><br><span class="line"></span><br><span class="line">fadein(@color, 10%);      // return a color 10% *less* transparent than @color</span><br><span class="line">fadeout(@color, 10%);     // return a color 10% *more* transparent than @color</span><br><span class="line"></span><br><span class="line">spin(@color, 10);         // return a color with a 10 degree larger in hue than @color</span><br><span class="line">spin(@color, -10);        // return a color with a 10 degree smaller hue than @color</span><br></pre></td></tr></table></figure></li></ol><p><strong>5.命名空间</strong><br>有时候你想把一些变量或mixins组织起来，并将他封装，想用的时候就把要关的一部分取出来，那么我们将在前面的mixins基础上将其功能扩展。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">#bundle &#123;</span><br><span class="line">.button () &#123;</span><br><span class="line">display: block;</span><br><span class="line">border: 1px solid black;</span><br><span class="line">background-color: grey;</span><br><span class="line">&amp;:hover &#123; background-color: white &#125;</span><br><span class="line">&#125;</span><br><span class="line">.tab &#123; ... &#125;</span><br><span class="line">.citation &#123; ... &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#header a &#123;</span><br><span class="line">color: orange;</span><br><span class="line">#bundle &gt; .button;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p><strong>6.变量范围</strong><br>Less中的变量和别的程序语言一样，他的变量也有一个范围概念，这个概念就有点像局部变量和全局变量一样，只是在Less中采取的是就近原则，换句话说，元素先找本身有没有这个变量存在，如果本身存在，就取本身中的变量，如果本身不存在，就寻找父元素，依此类推，直到寻找到相对应的变量。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">@var: red;</span><br><span class="line"></span><br><span class="line">#page &#123;</span><br><span class="line">  @var: white;</span><br><span class="line">  #header &#123;</span><br><span class="line">    color: @var; // white</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#footer &#123;</span><br><span class="line">  color: @var; // red  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p><strong>7.Less的注解</strong><br>单行：// Hi, I’m a silent comment, I won’t show up in your CSS<br>多行：/<em> Hello, I’m a CSS-style comment </em>/</p><p><strong>8.引入</strong><br>Less样式文件一定要放在less脚本文件之前</p>]]></content>
      
      
        <tags>
            
            <tag> css </tag>
            
            <tag> less </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>ES6学习（二）</title>
      <link href="/2018/05/17/2018_5_17_1_ES6%E5%AD%A6%E4%B9%A0%EF%BC%88%E4%BA%8C%EF%BC%89/"/>
      <url>/2018/05/17/2018_5_17_1_ES6%E5%AD%A6%E4%B9%A0%EF%BC%88%E4%BA%8C%EF%BC%89/</url>
      <content type="html"><![CDATA[<p>ES6新特性</p><p><strong>1.箭头操作符（=&gt;）</strong><br>操作符左边为输入的参数，而右边则是进行的操作以及返回的值Inputs=&gt;outputs。<br><strong>2.类的支持</strong><br>ES6中添加了对类的支持，引入了class关键字。JS本身就是面向对象的，ES6中提供的类实际上只是JS原型模式的包装。现在提供原生的class支持后，对象的创建，继承更加直观了，并且父类方法的调用，实例化，静态方法和构造函数等概念都更加形象化。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">class Animal &#123;</span><br><span class="line">//ES6中新型构造器</span><br><span class="line">    constructor(name) &#123;</span><br><span class="line">        this.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">    //实例方法</span><br><span class="line">    sayName() &#123;</span><br><span class="line">        console.log(&apos;My name is &apos;+this.name);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">//类的继承</span><br><span class="line">class Programmer extends Animal &#123;</span><br><span class="line">    constructor(name) &#123;</span><br><span class="line">    //直接调用父类构造器进行初始化</span><br><span class="line">        super(name);</span><br><span class="line">    &#125;</span><br><span class="line">    program() &#123;</span><br><span class="line">        console.log(&quot;I&apos;m coding...&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">//测试我们的类</span><br><span class="line">var animal=new Animal(&apos;dummy&apos;),</span><br><span class="line">wayou=new Programmer(&apos;wayou&apos;);</span><br><span class="line">animal.sayName();//输出 ‘My name is dummy’</span><br><span class="line">wayou.sayName();//输出 ‘My name is wayou’</span><br><span class="line">wayou.program();//输出 ‘I&apos;m coding...’</span><br></pre></td></tr></table></figure></p><p><strong>3.增强的对象字面量</strong></p><ol><li>可以在对象字面量里面定义原型</li><li>定义方法可以不用function关键字</li><li>直接调用父类方法</li></ol><p><strong>4.字符串模板</strong><br>ES6中允许使用反引号 ` 来创建字符串，此种方法创建的字符串里面可以包含由美元符号加花括号包裹的变量${vraible}</p><p><strong>5.解构</strong><br>自动解析数组或对象中的值。<br>变量和对应值互相匹配</p><p><strong>6.参数默认值，不定参数，拓展参数</strong><br>1.默认参数值<br>现在可以在定义函数的时候指定参数的默认值了，而不用像以前那样通过逻辑或操作符来达到目的了。<br>2.不定参数<br>不定参数是在函数中使用命名参数同时接收不定数量的未命名参数。这只是一种语法糖，在以前的JavaScript代码中我们可以通过arguments变量来达到这一目的。不定参数的格式是三个句点后跟代表所有不定参数的变量名。<br>3.拓展参数<br>拓展参数则是另一种形式的语法糖，它允许传递数组或者类数组直接做为函数的参数而不用通过apply。</p><p><strong>7.let与const 关键字</strong><br>可以把let看成var，只是它定义的变量被限定在了特定范围内才能使用，而离开这个范围则无效。const则很直观，用来定义常量，即无法被更改值的变量。</p><p><strong>8.for of 值遍历</strong><br>我们都知道for in 循环用于遍历数组，类数组或对象，ES6中新引入的for of循环功能相似，不同的是每次循环它提供的不是序号而是值。</p><p><strong>9.模块</strong><br>在ES6标准中，JavaScript原生支持module了</p><p><strong>10.Map，Set 和 WeakMap，WeakSet</strong><br>这些是新加的集合类型，提供了更加方便的获取属性值的方法，不用像以前一样用hasOwnProperty来检查某个属性是属于原型链上的呢还是当前对象的。同时，在进行属性值添加与获取时有专门的get，set 方法。</p><p><strong>11.Proxies</strong><br>Proxy可以监听对象身上发生了什么事情，并在这些事情发生后执行一些相应的操作。一下子让我们对一个对象有了很强的追踪能力，同时在数据绑定方面也很有用处。</p><p>还有很多我看不懂的，先放一放吧。。。</p>]]></content>
      
      
        <tags>
            
            <tag> ECMAScript 6 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>ES6学习</title>
      <link href="/2018/05/17/2018_5_15_1_ES6%E5%AD%A6%E4%B9%A0/"/>
      <url>/2018/05/17/2018_5_15_1_ES6%E5%AD%A6%E4%B9%A0/</url>
      <content type="html"><![CDATA[<p>ES6学习</p><p><strong>1.let</strong><br>let与var都是变量声明的方式<br>let与var的区别</p><ol><li>let是只在块级作用域（花括号）起作用</li><li>let不存在变量提升<br>“函数声明和变量声明总是会被解释器悄悄地被”提升”到方法体的最顶部”</li><li><p>let存在暂时性死区<br>“要块级作用域存在let命令，它所声明的变量就绑定在这个区域，不再受外部影响”<br>（外部声明的相同变量不会影响到块级作用域内部）</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">&#123;</span><br><span class="line">var a;</span><br><span class="line">&#123;</span><br><span class="line">console.log(a) //undefined</span><br><span class="line">let a = 100;</span><br><span class="line">console.log(a) //100</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></li><li><p>let不允许重复声明<br>“同一个块级作用域内不允许声明相同变量”</p></li></ol><p><strong>2.块级作用域</strong><br>es5只有全局作用域和函数作用域<br>es6多了块级作用域（let实际上为js新增了块级作用域）<br>没有块级作用域时可能造成的不合理现象：</p><ol><li>内层变量覆盖外层变量</li><li>计数的变量泄露为全局变量（浪费内存）</li></ol><p>块级作用域的作用：<br>有块级作用域不用立即执行函数了</p><p><strong>3.const</strong></p><ol><li>const用来声明常量</li><li>const也会产生块级作用域</li><li>const也存在暂时性死区</li><li>const也不可重复声明</li><li>const一旦声明不可改变，但是const数组和对象，可以对内部的值进行赋值。</li><li>const对象冻结</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">cosnt obj = Object.freeze(&#123;</span><br><span class="line">name: &quot;ZhangSan&quot;,</span><br><span class="line">age: 30</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><ol start="7"><li>彻底冻结对象<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">var constantize = (obj) =&gt; &#123;</span><br><span class="line">        Object.freeze(obj);</span><br><span class="line">        Object.keys(obj).forEach(</span><br><span class="line">            (key,value) =&gt; &#123;</span><br><span class="line">                if(typeof obj[key] === &apos;object&apos;)&#123;</span><br><span class="line">                    constantize(obj[key]);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        )</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></li></ol><p>即对象的属性也是对象时重新调用函数，冻结对象的对象属性并且检查对象属性的属性</p><p><strong>4.跨模块常量</strong><br>module.js<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">export const Name = &quot;name&quot;;</span><br><span class="line">export const Age = 30;</span><br></pre></td></tr></table></figure></p><p>use_1.js<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">import * as Use from &quot;./module&quot;;</span><br><span class="line">console.log(Use.Name);</span><br><span class="line">console.log(Use.Age);</span><br></pre></td></tr></table></figure></p><p>use_2.js<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">import &#123;Name&#125; as Use from &quot;./module&quot;;</span><br><span class="line">console.log(Use.Name);</span><br></pre></td></tr></table></figure></p><p>这个跟vue里的模块一样的用法</p><p><strong>5.全局变量的属性</strong><br>全局对象是最顶层的对象，浏览器环境指的是window对象，在Node.js指的是global对象。<br>ES6规定，var命令和function命令声明的全局变量，属于全局对象的属性，let，const和class命令声明的全局变量，不属于全局对象的属性</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var newName = &quot;name&quot;;</span><br><span class="line">console.log(window.newName); //name</span><br><span class="line">let newName_2 = &quot;name2&quot;;</span><br><span class="line">console.log(window.newName_2); //undefined</span><br></pre></td></tr></table></figure><p><strong>6.解构赋值</strong><br>ES6允许按照一定模式，从数组和对象中提取值，对变量进行赋值，这被称为解构赋值（Destructuring）</p><p>数组结构赋值<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">let [x,y] = [1,2];</span><br><span class="line">console.log(x); // 1</span><br><span class="line">console.log(y); // 2</span><br></pre></td></tr></table></figure></p><p>也就是说左边的变量匹配右边的值</p><p><strong>7.不完全解构</strong><br>等号左边的模式，只匹配一部分的等号右边的数组</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">let [x,y] = [1,2,3];</span><br><span class="line">    console.log(x); // 1</span><br><span class="line">    console.log(y); // 2</span><br><span class="line">    let [a,b,c] = [1,2];</span><br><span class="line">    console.log(a); // 1</span><br><span class="line">    console.log(b); // 2</span><br><span class="line">    console.log(c); // undefined</span><br></pre></td></tr></table></figure><p><strong>8.指定默认值</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">let [temp = &quot;string&quot;] = [];</span><br><span class="line">console.log(temp); // string</span><br><span class="line">let [temp2 = &quot;string&quot;] = [&quot;newString&quot;];</span><br><span class="line">console.log(temp2); // newString</span><br></pre></td></tr></table></figure><p>只要某种数据解构具有lterator借口，都可以采用数组形式的结构赋值</p><p><strong>9.对象的结构赋值</strong><br>对象的属性没有次序，变量必须与属性名同名才能取到正确的值</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">let node = &#123;</span><br><span class="line">    type: &quot;Identifier&quot;,</span><br><span class="line">    name: &quot;foo&quot;</span><br><span class="line">&#125;,</span><br><span class="line">(&#123; type, name &#125; = node);</span><br><span class="line">console.log(type); // &quot;Identifier&quot;</span><br><span class="line">console.log(name); // &quot;foo&quot;</span><br></pre></td></tr></table></figure><p><strong>10.对象的结构赋值指定默认值</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var &#123;x = 3&#125; = &#123;&#125;;</span><br><span class="line">console.log(x); // 3</span><br><span class="line">var &#123;msg = &quot;you are a person&quot;&#125; = &#123;&#125;;</span><br><span class="line">console.log(msg);// you are a person</span><br></pre></td></tr></table></figure></p><p>默认值生效的条件是，对象的属性严格等于undefined</p><p><strong>11.现有对象的方法</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">console.log(Math.sin(Math.PI/6)); // 0.4999999</span><br><span class="line"></span><br><span class="line">let &#123;sin,cos,tan,log&#125; = Math;</span><br><span class="line">console.log(sin(Math.PI/6)); // 0.4999999</span><br></pre></td></tr></table></figure><p><strong>12.字符串的解构赋值</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">const [a,b,c,d,c] = &quot;hello&quot;;</span><br><span class="line">console.log(a); // h</span><br><span class="line">console.log(b); // e</span><br><span class="line">console.log(c); // l</span><br><span class="line">console.log(d); // l</span><br><span class="line">console.log(e); // o</span><br></pre></td></tr></table></figure></p><p>类似与数组的解构赋值<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">const &#123;length: len&#125; = &quot;HELLO&quot;;</span><br><span class="line">console.log(len); // 5</span><br><span class="line">const &#123;length&#125; = &quot;</span><br><span class="line">HELLO WORLD&quot; ;</span><br><span class="line">console.log(length); // 12</span><br></pre></td></tr></table></figure></p><p>字符串解构赋值可以取出长度</p><p><strong>13.函数参数的解构赋值</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">function sum ([x,y]) &#123;</span><br><span class="line">return x+y;</span><br><span class="line">&#125;;</span><br><span class="line">console.log(sum([1,2])); // 3</span><br></pre></td></tr></table></figure></p><p>函数声明时的参数和对应使用时赋予的参数是对应的，就可以解构赋值</p><p><strong>14.函数参数的解构赋值的默认值</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">function fun (&#123;x = 0, y = 0&#125; = &#123;&#125;)&#123;</span><br><span class="line">        return [x,y];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">console.log(fun(&#123;x:100, y:200&#125;)); // [100,200]</span><br><span class="line">console.log(fun(&#123;x:100&#125;)); // [100,0]</span><br><span class="line">console.log(fun(&#123;&#125;)); // [0,0]</span><br><span class="line">console.log(fun()); // [0,0]</span><br></pre></td></tr></table></figure><p><strong>15.解构赋值的用途</strong></p><ol><li><p>交换变量的值</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">let x = 100;</span><br><span class="line">let y = 200;</span><br><span class="line">[x,y] = [y,x]; </span><br><span class="line">console.log(x); // 200</span><br><span class="line">console.log(y); // 100</span><br></pre></td></tr></table></figure></li><li><p>函数返回多个值</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">function fun()&#123;</span><br><span class="line">return [1,2,3];</span><br><span class="line">&#125;</span><br><span class="line">let [x,y,z] = fun();</span><br><span class="line">console.log(x); // 1</span><br></pre></td></tr></table></figure></li><li><p>函数参数的定义</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">function fun ([x,y,z])&#123;</span><br><span class="line">...</span><br><span class="line">&#125;</span><br><span class="line">function fun2 (&#123;id, name, age&#125;)&#123;</span><br><span class="line">...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>提取json数据</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">let jsonDate = &#123;</span><br><span class="line">id: &quot;007&quot;,</span><br><span class="line">age: &quot;30&quot;,</span><br><span class="line">number: &quot;200&quot;</span><br><span class="line">&#125;</span><br><span class="line">let &#123;id, age, number&#125; = jsonDate;</span><br><span class="line">console.log(id); // 007</span><br></pre></td></tr></table></figure></li><li><p>遍历map解构</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">let map = new Map();</span><br><span class="line">map.set(&quot;id&quot;,&quot;007&quot;);</span><br><span class="line">map.set(&quot;name&quot;,&quot;myName&quot;);</span><br><span class="line"></span><br><span class="line">console.log(map);</span><br><span class="line">console.log(typeof(map));</span><br><span class="line">for(let [key, value] of map)&#123;</span><br><span class="line">console.log(key + &quot;:&quot; + value);</span><br><span class="line">&#125;;</span><br><span class="line">for(let [key] of map) &#123;</span><br><span class="line">console.log(key);</span><br><span class="line">&#125;</span><br><span class="line">for(let [,value] of map) &#123;</span><br><span class="line">console.log(value);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol>]]></content>
      
      
        <tags>
            
            <tag> ECMAScript 6 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>ife_2018 MVVM学院 3-1</title>
      <link href="/2018/05/11/2018_5_10_1ife_2018%20MVVM%E5%AD%A6%E9%99%A2%203-1/"/>
      <url>/2018/05/11/2018_5_10_1ife_2018%20MVVM%E5%AD%A6%E9%99%A2%203-1/</url>
      <content type="html"><![CDATA[<p>3.1 用递归的方式实现级联组件</p><p><a href="https://frattinor.github.io/IFE_2018/mvvm/myDist-3-1/" target="_blank" rel="noopener">demo</a></p><p>实现一个简单的Cascader级联组件</p><p><strong>我的思路</strong></p><ol><li>首先创建一个div，用v-for循环渲染数据，</li><li>通过router-link标签在router-view标签里显示第二个组件，并传递子数组</li><li>模仿第一个组件再写2个组件，通过vue-router连接起来</li></ol><p><strong>遇到的问题</strong><br>1.vue-router嵌套问题</p><p>解决办法：<br>在对应的路由里用children注册子路由<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">      path: &apos;/MVVM3_1&apos;,</span><br><span class="line">      name: &apos;MVVM3_1&apos;,</span><br><span class="line">      component: MVVM3_1,</span><br><span class="line">      children: [</span><br><span class="line">        &#123;</span><br><span class="line">          path: &apos;/select_2_1&apos;,</span><br><span class="line">          name: &apos;select_2_1&apos;,</span><br><span class="line">          component: select_2_1,</span><br><span class="line">          children:[</span><br><span class="line">            &#123;</span><br><span class="line">              path: &apos;/select_3&apos;,</span><br><span class="line">              name: &apos;select_3&apos;,</span><br><span class="line">              component: select_3,</span><br><span class="line">            &#125;</span><br><span class="line">          ]</span><br><span class="line">        &#125;,</span><br><span class="line">      ],</span><br><span class="line">    &#125;,</span><br></pre></td></tr></table></figure></p><p>2.vue-router数据传递后刷新后变空白数据，但还存在</p><p>解决办法：<br>可能是传递数据是数组的原因还是什么，反正刷新后确实是变成了空白数据，最后我是把数据单独写了一个js文件，然后再导入到组件里，通过传递数组下标的方式来确定数据的</p><p>然后我还了解了一下query和params<br>query和params类似与get和post，query在地址栏有数据，params没有，但是刷新后query数据还在，params会消失。大概是这样的区别</p><p>3.我没有想到的一个问题，就是子组件把数据传回给父组件</p><p>解决办法：使用vuex来解决，现在在学习vuex</p><p>最后附上我的代码<br>mvvm3_1.vue<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div class=&quot;mm31&quot;&gt;</span><br><span class="line">    &lt;div v-on:click=&quot;changeArrow&quot; class=&quot;selecter&quot;&gt;</span><br><span class="line">        &lt;span&gt;请选择&lt;/span&gt;</span><br><span class="line">        &lt;span class=&quot;arrow&quot;&gt;&amp;lt&lt;/span&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;theSelect&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;theRouter&quot;&gt;</span><br><span class="line">            &lt;router-view /&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        &lt;div class=&quot;select_1&quot;&gt;</span><br><span class="line">            &lt;ul&gt;</span><br><span class="line">                &lt;router-link v-for=&quot;item in items&quot; tag=&quot;li&quot; v-bind:to=&quot;&#123;name:&apos;select_2_1&apos; , query: &#123;id_1: item.id&#125;&#125;&quot;&gt;</span><br><span class="line">                    &#123;&#123;item.name&#125;&#125;&lt;span&gt;&amp;gt&lt;/span&gt;</span><br><span class="line">                &lt;/router-link&gt;</span><br><span class="line">            &lt;/ul&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123;data&#125; from &quot;./MVVM31/mm31_data.js&quot;</span><br><span class="line"></span><br><span class="line">export default&#123;</span><br><span class="line">    data() &#123;</span><br><span class="line">        return&#123;</span><br><span class="line">            items: [],</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">        changeArrow()&#123;</span><br><span class="line">            let x = document.getElementsByClassName(&quot;arrow&quot;)[0];</span><br><span class="line">            let y = document.getElementsByClassName(&quot;theSelect&quot;)[0];</span><br><span class="line">            let z = document.getElementsByClassName(&quot;theRouter&quot;)[0];</span><br><span class="line">            let u = document.getElementsByClassName(&quot;select_1&quot;)[0];</span><br><span class="line">            if(x.style.transform != &quot;&quot;)&#123;</span><br><span class="line">                x.style.transform = &quot;&quot;;</span><br><span class="line">                y.style.height = &quot;0&quot;;</span><br><span class="line">                z.style.height = &quot;0&quot;;</span><br><span class="line">                u.style.height = &quot;0&quot;;</span><br><span class="line">                y.style.boxShadow = &quot;0 0 0 0 #fff&quot;;</span><br><span class="line">            &#125;</span><br><span class="line">            else&#123;</span><br><span class="line">                x.style.transform = &quot;rotate(-90deg)&quot;</span><br><span class="line">                y.style.height = &quot;300px&quot;;</span><br><span class="line">                z.style.height = &quot;100%&quot;;</span><br><span class="line">                u.style.height = &quot;100%&quot;;</span><br><span class="line">                y.style.boxShadow = &quot;0 0 5px 10px #ddd&quot;;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">    mounted()&#123;</span><br><span class="line">        this.items = data();</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- Add &quot;scoped&quot; attribute to limit CSS to this component only --&gt;</span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">.mm31&#123;</span><br><span class="line">    width: 800px;</span><br><span class="line">    height: 400px;</span><br><span class="line">    border: 1px solid #000;</span><br><span class="line">    text-align: left;</span><br><span class="line">    margin: auto;</span><br><span class="line">&#125;</span><br><span class="line">.selecter&#123;</span><br><span class="line">    margin: 10px;</span><br><span class="line">    width: 300px;</span><br><span class="line">    height: 30px;</span><br><span class="line">    line-height: 30px;</span><br><span class="line">    padding-left: 10px;</span><br><span class="line">    border: 1px solid #ddd;</span><br><span class="line">    user-select: none;</span><br><span class="line">    cursor: pointer;</span><br><span class="line">    border-radius: 4px;</span><br><span class="line">&#125;</span><br><span class="line">.arrow&#123;</span><br><span class="line">    width: 30px;</span><br><span class="line">    height: 30px;</span><br><span class="line">    text-align: center;</span><br><span class="line">    float: right;</span><br><span class="line">    transition: 0.5s;</span><br><span class="line">&#125;</span><br><span class="line">.theSelect&#123;</span><br><span class="line">    width: 600px;</span><br><span class="line">    height: 0;</span><br><span class="line">    margin: 20px;</span><br><span class="line">    box-shadow: 0 0 0 0 #fff;</span><br><span class="line">    position: relative;</span><br><span class="line">    transition: 0.5s;</span><br><span class="line">&#125;</span><br><span class="line">.theRouter&#123;</span><br><span class="line">    width: 400px;</span><br><span class="line">    height: 0;</span><br><span class="line">    float: right;</span><br><span class="line">    overflow: hidden;</span><br><span class="line">&#125;</span><br><span class="line">.select_1&#123;</span><br><span class="line">    width: 200px;</span><br><span class="line">    height: 0;</span><br><span class="line">    overflow: hidden;</span><br><span class="line">    float: left;</span><br><span class="line">    background-color: #ddd;</span><br><span class="line">    /*border: 1px solid #ddd;*/</span><br><span class="line">&#125;</span><br><span class="line">.select_1 ul&#123;</span><br><span class="line">    list-style-type: none;</span><br><span class="line">&#125;</span><br><span class="line">.select_1 li&#123;</span><br><span class="line">    padding: 10px;</span><br><span class="line">    color: #aaa;</span><br><span class="line">    cursor: pointer;</span><br><span class="line">&#125;</span><br><span class="line">.select_1 span&#123;</span><br><span class="line">    float: right;</span><br><span class="line">    margin-right: 10px;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure></p><p>select2_1.vue<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div class=&quot;select_2&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;select_2_1&quot;&gt;</span><br><span class="line">            &lt;ul&gt;</span><br><span class="line">                &lt;router-link v-for=&quot;item in items&quot; tag=&quot;li&quot; v-bind:to=&quot;&#123;name:&apos;select_3&apos; , query: &#123;id_1: id_1,id_2: item.id&#125;&#125;&quot;&gt;</span><br><span class="line">                    &#123;&#123;item.name&#125;&#125;&lt;span&gt;&amp;gt&lt;/span&gt;</span><br><span class="line">                &lt;/router-link&gt;</span><br><span class="line">            &lt;/ul&gt;</span><br><span class="line">            &lt;!-- &lt;button v-on:click=&quot;show&quot;&gt;show&lt;/button&gt; --&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        &lt;div class=&quot;select_2_1&quot;&gt;</span><br><span class="line">            &lt;router-view /&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123;data&#125; from &quot;./mm31_data.js&quot;</span><br><span class="line"></span><br><span class="line">export default&#123;</span><br><span class="line">    data()&#123;</span><br><span class="line">        return&#123;</span><br><span class="line">            items: [],</span><br><span class="line">            id_1: &quot;&quot;,</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    mounted()&#123;</span><br><span class="line">        this.id_1 = this.$route.query.id_1;</span><br><span class="line">        this.items = data()[this.id_1-1].children;</span><br><span class="line">    &#125;,</span><br><span class="line">    watch: &#123;</span><br><span class="line">        $route()&#123;</span><br><span class="line">            this.id_1 = this.$route.query.id_1;</span><br><span class="line">            this.items = data()[this.id_1-1].children;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">        show()&#123;</span><br><span class="line">            console.log(this.items[this.id_1].children);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;style&gt;</span><br><span class="line">.select_2&#123;</span><br><span class="line">    width: 100%;</span><br><span class="line">    height: 100%;</span><br><span class="line">    background-color: #eee;</span><br><span class="line">&#125;</span><br><span class="line">.select_2_1&#123;</span><br><span class="line">    width: 50%;</span><br><span class="line">    height: 100%;</span><br><span class="line">    float: left;</span><br><span class="line">&#125;</span><br><span class="line">.select_2 ul&#123;</span><br><span class="line">    list-style-type: none;</span><br><span class="line">&#125;</span><br><span class="line">.select_2 li&#123;</span><br><span class="line">    padding: 10px;</span><br><span class="line">    color: #aaa;</span><br><span class="line">    cursor: pointer;</span><br><span class="line">&#125;</span><br><span class="line">.select_2 span&#123;</span><br><span class="line">    float: right;</span><br><span class="line">    margin-right: 10px;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure></p><p>select_3.vue<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div class=&quot;select_3&quot;&gt;</span><br><span class="line">        &lt;ul&gt;</span><br><span class="line">            &lt;li v-for=&quot;item in items&quot;&gt;</span><br><span class="line">                &#123;&#123;item.name&#125;&#125;&lt;span&gt;&amp;gt&lt;/span&gt;</span><br><span class="line">            &lt;/li&gt;</span><br><span class="line">        &lt;/ul&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123;data&#125; from &quot;./mm31_data.js&quot;</span><br><span class="line"></span><br><span class="line">export default&#123;</span><br><span class="line">    data()&#123;</span><br><span class="line">        return&#123;</span><br><span class="line">            items: [],</span><br><span class="line">            id_1: &quot;&quot;,</span><br><span class="line">            id_2: &quot;&quot;,</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    mounted()&#123;</span><br><span class="line">        this.id_1 = this.$route.query.id_1;</span><br><span class="line">        this.id_2 = this.$route.query.id_2;</span><br><span class="line">        this.items = data()[this.id_1-1].children[this.id_2-1].children;</span><br><span class="line">    &#125;,</span><br><span class="line">    watch: &#123;</span><br><span class="line">        $route()&#123;</span><br><span class="line">            this.id_1 = this.$route.query.id_1;</span><br><span class="line">            this.id_2 = this.$route.query.id_2;</span><br><span class="line">            this.items = data()[this.id_1-1].children[this.id_2-1].children;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;style&gt;</span><br><span class="line">.select_3&#123;</span><br><span class="line">    width: 100%;</span><br><span class="line">    height: 100%;</span><br><span class="line">    background-color: #fff;</span><br><span class="line">&#125;</span><br><span class="line">.select_3 ul&#123;</span><br><span class="line">    list-style-type: none;</span><br><span class="line">&#125;</span><br><span class="line">.select_3 li&#123;</span><br><span class="line">    padding: 10px;</span><br><span class="line">    color: #aaa;</span><br><span class="line">    cursor: pointer;</span><br><span class="line">&#125;</span><br><span class="line">.select_3 span&#123;</span><br><span class="line">    float: right;</span><br><span class="line">    margin-right: 10px;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure></p>]]></content>
      
      
        <tags>
            
            <tag> vue </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>ife_2018 MVVM学院 2-4</title>
      <link href="/2018/05/11/2018_5_9_2ife_2018%20MVVM%E5%AD%A6%E9%99%A2%202-4/"/>
      <url>/2018/05/11/2018_5_9_2ife_2018%20MVVM%E5%AD%A6%E9%99%A2%202-4/</url>
      <content type="html"><![CDATA[<p>2.4事件处理</p><p><a href="https://frattinor.github.io/IFE_2018/mvvm/myDist-2-4/" target="_blank" rel="noopener">demo</a></p><p>对mvvm双向绑定以及san的事件通信有相关了解</p><p><strong>我的思路</strong></p><ol><li>首先创建三个嵌套div</li><li>然后在3个div里建立input，通过v-model双向绑定数据</li></ol><p>没有遇到问题</p><p>最后附上我的代码<br>vue<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div class=&quot;mvvm24_1&quot;&gt;</span><br><span class="line">    &lt;span&gt;我是更高层父组件:&lt;/span&gt;&lt;input v-model=&quot;far&quot; class=&quot;one&quot; type=&quot;text&quot; /&gt;</span><br><span class="line">    &lt;div class=&quot;mvvm24_2&quot;&gt;</span><br><span class="line">        &lt;span&gt;我是父组件:&lt;/span&gt;&lt;input v-model=&quot;far&quot; class=&quot;one&quot; type=&quot;text&quot; /&gt;</span><br><span class="line">        &lt;input v-model=&quot;val&quot; class=&quot;three&quot; type=&quot;text&quot; /&gt;</span><br><span class="line">        &lt;button v-on:click=&quot;submit&quot;&gt;提交给父组件&lt;/button&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    data()&#123;</span><br><span class="line">        return&#123;</span><br><span class="line">            val:&quot;&quot;,</span><br><span class="line">            far:&quot;&quot;,</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">        submit()&#123;</span><br><span class="line">            this.far = this.val;</span><br><span class="line">            console.log(this.val);</span><br><span class="line">            if(this.val == &quot;&quot;)&#123;</span><br><span class="line">                this.far = &quot;静静等待用户输入&quot;;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">    watch: &#123;</span><br><span class="line">        far()&#123;</span><br><span class="line">            this.val = this.far;</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- Add &quot;scoped&quot; attribute to limit CSS to this component only --&gt;</span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">.mvvm24_1&#123;</span><br><span class="line">    width: 400px;</span><br><span class="line">    height: 400px;</span><br><span class="line">    border: 1px solid #ddd;</span><br><span class="line">    margin: auto;</span><br><span class="line">    padding: 5px;</span><br><span class="line">&#125;</span><br><span class="line">.mvvm24_2&#123;</span><br><span class="line">    width: 300px;</span><br><span class="line">    height: 200px;</span><br><span class="line">    border: 1px solid #ddd;</span><br><span class="line">    margin: auto;</span><br><span class="line">    padding: 5px;</span><br><span class="line">&#125;</span><br><span class="line">.one&#123;</span><br><span class="line">    width: auto;</span><br><span class="line">    font-size: 16px;</span><br><span class="line">    outline: none;</span><br><span class="line">    /*border: 1px solid #000;*/</span><br><span class="line">    border: 0;</span><br><span class="line">&#125;</span><br><span class="line">.three&#123;</span><br><span class="line">    margin: 5px;</span><br><span class="line">    padding: 2px;</span><br><span class="line">    text-align: center;</span><br><span class="line">    outline: none;</span><br><span class="line">    border: 1px solid #ddd;</span><br><span class="line">&#125;</span><br><span class="line">.mvvm24_1 button&#123;</span><br><span class="line">    margin: 5px;</span><br><span class="line">    padding: 5px;</span><br><span class="line">    border: 1px solid #ddd;</span><br><span class="line">    border-radius: 4px;</span><br><span class="line">    outline: none;</span><br><span class="line">&#125;</span><br><span class="line">.mvvm24_1 button:active&#123;</span><br><span class="line">    border: 1px solid #36f;</span><br><span class="line">&#125;</span><br><span class="line">span&#123;</span><br><span class="line">    /*border: 1px solid #000;*/</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure></p>]]></content>
      
      
        <tags>
            
            <tag> vue </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>ife_2018 MVVM学院 2-3</title>
      <link href="/2018/05/11/2018_5_9_1ife_2018%20MVVM%E5%AD%A6%E9%99%A2%202-3/"/>
      <url>/2018/05/11/2018_5_9_1ife_2018%20MVVM%E5%AD%A6%E9%99%A2%202-3/</url>
      <content type="html"><![CDATA[<p>2.3 样式控制</p><p><a href="https://frattinor.github.io/IFE_2018/mvvm/myDist-2-3/" target="_blank" rel="noopener">demo</a></p><p>点击方块，修改方块的样式的功能。</p><p><strong>我的思路</strong></p><ol><li>首先创建一个div</li><li>创建2个class，设置背景颜色不同</li><li>然后通过v-bind:class=”{}”设置是否绑定样式</li></ol><p>没有遇到问题</p><p>最后附上我的代码<br>vue<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div v-on:click=&quot;change_color&quot; class=&quot;mvvm23&quot; v-bind:class=&quot;&#123;red:isRed,bule:!isRed&#125;&quot;&gt;</span><br><span class="line"></span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    data()&#123;</span><br><span class="line">        return&#123;</span><br><span class="line">            isRed: true,</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">        change_color()&#123;</span><br><span class="line">            this.isRed = !this.isRed;</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- Add &quot;scoped&quot; attribute to limit CSS to this component only --&gt;</span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">.mvvm23&#123;</span><br><span class="line">    cursor: pointer;</span><br><span class="line">    width: 100px;</span><br><span class="line">    height: 100px;</span><br><span class="line">    border: 1px solid #ddd;</span><br><span class="line">    margin: auto;</span><br><span class="line">&#125;</span><br><span class="line">.red&#123;</span><br><span class="line">    background-color: red;</span><br><span class="line">&#125;</span><br><span class="line">.bule&#123;</span><br><span class="line">    background-color: blue;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure></p>]]></content>
      
      
        <tags>
            
            <tag> vue </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Vuex学习</title>
      <link href="/2018/05/11/2018_5_11_1_Vuex%E5%AD%A6%E4%B9%A0/"/>
      <url>/2018/05/11/2018_5_11_1_Vuex%E5%AD%A6%E4%B9%A0/</url>
      <content type="html"><![CDATA[<p>昨天写了一个vue-router嵌套的小练习<br>昨天练习写完后觉得应该差不多了，今天看了别人写的例子，发现少了一个步骤就是把最终结果返回到选择栏里<br>vue-router的本质应该是自定义组件的切换<br>嵌套后就形成了组件的嵌套<br>也就是说父组件传递值给子组件显示子组件的数据，最后子组件把最终的数据再返回给父组件<br>父组件传值给子组件比较简单的，但是子组件传递数据给父组件完全不知道怎么做，今天搜索了一下，好像使用bus或vuex可以实现<br>所以决定开始学习vuex</p><p>那么什么vuex呢，vue官方的介绍是状态管理器，我原来写豆瓣电影搜索的vue应用时看到过，但是完全不知所云，所以暂时放弃了，现在再回过头来看好像又有那么一点明白。</p><p>我个人的理解是在vue项目里，使用vue-router做到切换页面，本质是切换自定义组件，然后自定义组件之间的数据又是独立的，所以想要在组件之间进行数据传递比较难实现，vuex则提供了一个全局变量，所有组件都可以获得其中的数据，从而做到组件之间的数据传递</p><p>安装vuex<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install vuex --save</span><br></pre></td></tr></table></figure></p><p>在src目录下创建store目录，其中新建index.js（这就是vuex，一个项目只有一个vuex）</p><p>通过在根实例中注册 store 选项，该 store 实例会注入到根组件下的所有子组件中，且子组件能通过 this.$store 访问到。</p><p>vuex实例属性</p><p><strong>State</strong>：<br>Vuex 使用单一状态树，用一个对象就包含了全部的应用层级状态。至此它便作为一个“唯一数据源 (SSOT)”而存在。这也意味着，每个应用将仅仅包含一个 store 实例。<br>state应该就是存放唯一数据的地方</p><p>从 store 实例中读取状态最简单的方法就是在计算属性中返回某个状态</p><p>mapState 辅助函数：<br>当一个组件需要获取多个状态时候，将这些状态都声明为计算属性会有些重复和冗余。为了解决这个问题，我们可以使用 mapState 辅助函数帮助我们生成计算属性。<br>当映射的计算属性的名称与 state 的子节点名称相同时，我们也可以给 mapState 传一个字符串数组。</p><p><strong>Getter</strong>：<br>如果有多个组件需要用到同一属性，vuex提供了getter来过滤state，<br>Getter 接受 state 作为其第一个参数<br>Getter 也可以接受其他 getter 作为第二个参数<br>mapGetters 辅助函数：<br>mapGetters 辅助函数仅仅是将 store 中的 getter 映射到局部计算属性</p><p>我个人觉得getter就像是提供了一个过滤state的函数，供组件使用</p><p><strong>Mutation</strong>：<br>更改 Vuex 的 store 中的状态的唯一方法是提交 mutation。<br>调用 store.commit 方法来调用 mutation<br>你可以向 store.commit 传入额外的参数，即 mutation 的 载荷（payload）<br>使用常量替代 mutation 事件类型在各种 Flux 实现中是很常见的模式。这样可以使 linter 之类的工具发挥作用，同时把这些常量放在单独的文件中可以让你的代码合作者对整个 app 包含的 mutation 一目了然<br>Mutation 必须是同步函数（占时还不清楚什么是同步什么是异步）<br>我大概看了一下同步和异步的概念，但不是很理解<br><strong>同步</strong>：当一个函数是同步执行时，那么当该函数被调用时不会立即返回，直到该函数所要做的事情全都做完了才返回。<br><strong>异步</strong>：如果一个异步函数被调用时，该函数会立即返回尽管该函数规定的操作任务还没有完成。</p><p>mutation是唯一修改state的手段</p><p><strong>Action</strong>：<br>Action 类似于 mutation，不同在于：</p><blockquote><p>Action 提交的是 mutation，而不是直接变更状态。<br>Action 可以包含任意异步操作。</p></blockquote><p>Action 函数接受一个与 store 实例具有相同方法和属性的 context 对象。<br>Action 通过 store.dispatch 方法触发</p><p><strong>Module</strong>：<br>由于使用单一状态树，应用的所有状态会集中到一个比较大的对象。当应用变得非常复杂时，store 对象就有可能变得相当臃肿。<br>为了解决以上问题，Vuex 允许我们将 store 分割成模块（module）。每个模块拥有自己的 state、mutation、action、getter、甚至是嵌套子模块<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">const moduleA = &#123;</span><br><span class="line">  state: &#123; ... &#125;,</span><br><span class="line">  mutations: &#123; ... &#125;,</span><br><span class="line">  actions: &#123; ... &#125;,</span><br><span class="line">  getters: &#123; ... &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const moduleB = &#123;</span><br><span class="line">  state: &#123; ... &#125;,</span><br><span class="line">  mutations: &#123; ... &#125;,</span><br><span class="line">  actions: &#123; ... &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const store = new Vuex.Store(&#123;</span><br><span class="line">  modules: &#123;</span><br><span class="line">    a: moduleA,</span><br><span class="line">    b: moduleB</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">store.state.a // -&gt; moduleA 的状态</span><br><span class="line">store.state.b // -&gt; moduleB 的状态</span><br></pre></td></tr></table></figure></p><p>大概就怎么多了吧，vuex，怎么说呢，感觉就是一个全局的数据存储的文件</p>]]></content>
      
      
        <tags>
            
            <tag> Vuex </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>ife_2018 MVVM学院 2-2</title>
      <link href="/2018/05/08/2018_5_8_1_ife_2018%20MVVM%E5%AD%A6%E9%99%A2%202-2/"/>
      <url>/2018/05/08/2018_5_8_1_ife_2018%20MVVM%E5%AD%A6%E9%99%A2%202-2/</url>
      <content type="html"><![CDATA[<p>2.2 条件和循环</p><p><a href="https://frattinor.github.io/IFE_2018/mvvm/myDist-2-2/" target="_blank" rel="noopener">demo</a></p><p>使用循环指令渲染表格<br>根据不同的审核状态值，显示对应的状态文案和操作按钮<br>点击「添加」按钮，增加一条数据项；点击「删除」按钮，删除该条数据；点击「审核」按钮，将审核状态修改为合格</p><p><strong>我的思路</strong></p><ol><li>先建立一个添加button，绑定add_1函数，add_1显示新建的tr</li><li>再建立一个table，tbody里用v-for循环渲染数据</li><li>在tbody最后建一个tr，tr第一个td写input，第二个写select，第三个写添加button，绑定add_2函数，add_2把输入的数据添加到data里</li><li>最后给循环的数据的每个button绑定del函数，del函数判断按钮的值来实现修改审核状态或删除数据</li></ol><p><strong>我遇到的问题</strong><br>1 其实我在写添加最后一行tr也就是要填写数据的哪一行，我想了很多种办法，但是都不可行，第一种给数据里多添加一个read数据，然后在td里写input，用v-bind绑定readonly，但是发现去除readonly太麻烦了，而且在vue可以去除但是还是会报错，我不是很明白，而且select不知道应该怎么加。所以被排除了，第二种我是动态创建tr元素 ，在tr里添加啊3个td，最后把tr添加到tbody里，但是发现新建的元素不能继承css里样式，而且一个一个新建元素也是非常的麻烦，尤其是select，所以排除，修改这2个方法我就用了块一个晚上了。</p><p>解决办法：<br>最后决定在循环下面加一个tr，用v-if=“show”隐藏掉，给上面的添加按钮修改this.show = true，在下面的添加按钮修改this.show = false，这样代码也短也易于修改。</p><p>2 获取select被选中的数值麻烦而且报错</p><p>解决办法：<br>我是重新自己用ul和li模仿了一个select来显示的，而且获取值比较容易</p><p>最后附上我的代码<br>vue<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div class=&quot;mvvm22&quot;&gt;</span><br><span class="line">  &lt;button v-on:click=&quot;add_1&quot; class=&quot;mvvm22_button&quot;&gt;添加&lt;/button&gt;</span><br><span class="line">  &lt;table class=&quot;mvvm22_table&quot;&gt;</span><br><span class="line">    &lt;thead&gt;</span><br><span class="line">        &lt;tr&gt;</span><br><span class="line">            &lt;td&gt;姓名&lt;/td&gt;</span><br><span class="line">            &lt;td&gt;审核状态&lt;/td&gt;</span><br><span class="line">            &lt;td&gt;操作&lt;/td&gt;</span><br><span class="line">        &lt;/tr&gt;</span><br><span class="line">    &lt;/thead&gt;</span><br><span class="line">    &lt;tbody&gt;</span><br><span class="line">      &lt;tr v-for=&quot;item in mvvm22&quot;&gt;</span><br><span class="line">        &lt;td&gt;&#123;&#123;item.name&#125;&#125;&lt;/td&gt;</span><br><span class="line">        &lt;td&gt;&#123;&#123;item.status&#125;&#125;&lt;/td&gt;</span><br><span class="line">        &lt;td&gt;&lt;button  v-bind:id=&quot;item.index&quot; v-on:click=&quot;shordel&quot; class=&quot;mvvm22_button&quot;&gt;&#123;&#123;item.operating&#125;&#125;&lt;/button&gt;&lt;/td&gt;</span><br><span class="line">      &lt;/tr&gt;</span><br><span class="line">      &lt;tr id=&quot;new_tr&quot;  v-if=&quot;show&quot;&gt;</span><br><span class="line">        &lt;td&gt;&lt;input type=&quot;text&quot; /&gt;&lt;/td&gt;</span><br><span class="line">        &lt;td&gt;</span><br><span class="line">            &lt;div v-on:click=&quot;more&quot; class=&quot;mvvm22_select&quot;&gt;</span><br><span class="line">                &lt;span class=&quot;mvvm22_span right&quot;&gt;&amp;lt&lt;/span&gt;</span><br><span class="line">                &lt;ul class=&quot;mvvm22_ul&quot;&gt;</span><br><span class="line">                    &lt;li id=&quot;selected&quot;&gt;&lt;/li&gt;</span><br><span class="line">                    &lt;li v-on:click=&quot;mm22_select&quot; v-for=&quot;option in select&quot;&gt;&#123;&#123;option&#125;&#125;&lt;/li&gt;</span><br><span class="line">                &lt;/ul&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">        &lt;/td&gt;</span><br><span class="line">        &lt;td&gt;&lt;button v-on:click=&quot;add_2&quot; class=&quot;mvvm22_button&quot;&gt;添加&lt;/button&gt;&lt;/td&gt;</span><br><span class="line">      &lt;/tr&gt;</span><br><span class="line">    &lt;/tbody&gt;</span><br><span class="line">  &lt;/table&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    data()&#123;</span><br><span class="line">        return&#123;</span><br><span class="line">            index: &quot;6&quot;,</span><br><span class="line">            show: false,</span><br><span class="line">            mvvm22:[</span><br><span class="line">                &#123;</span><br><span class="line">                    name: &quot;张三&quot;,</span><br><span class="line">                    status: &quot;合格&quot;,</span><br><span class="line">                    operating: &quot;删除&quot;,</span><br><span class="line">                    index: &quot;1&quot;,</span><br><span class="line">                &#125;,</span><br><span class="line">                &#123;</span><br><span class="line">                    name: &quot;李四&quot;,</span><br><span class="line">                    status: &quot;不合格&quot;,</span><br><span class="line">                    operating: &quot;删除&quot;,</span><br><span class="line">                    index: &quot;2&quot;,</span><br><span class="line">                &#125;,</span><br><span class="line">                &#123;</span><br><span class="line">                    name: &quot;王五&quot;,</span><br><span class="line">                    status: &quot;待审核&quot;,</span><br><span class="line">                    operating: &quot;审核&quot;,</span><br><span class="line">                    index: &quot;3&quot;,</span><br><span class="line">                &#125;,</span><br><span class="line">                &#123;</span><br><span class="line">                    name: &quot;赵六&quot;,</span><br><span class="line">                    status: &quot;待审核&quot;,</span><br><span class="line">                    operating: &quot;审核&quot;,</span><br><span class="line">                    index: &quot;4&quot;,</span><br><span class="line">                &#125;,</span><br><span class="line">                &#123;</span><br><span class="line">                    name: &quot;孙七&quot;,</span><br><span class="line">                    status: &quot;待审核&quot;,</span><br><span class="line">                    operating: &quot;审核&quot;,</span><br><span class="line">                    index: &quot;5&quot;,</span><br><span class="line">                &#125;,</span><br><span class="line">            ],</span><br><span class="line">            select:[</span><br><span class="line">                &quot;合格&quot;,</span><br><span class="line">                &quot;不合格&quot;,</span><br><span class="line">                &quot;待审核&quot;,</span><br><span class="line">            ],</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods:&#123;</span><br><span class="line">        add_1()&#123;</span><br><span class="line">            this.show = true;</span><br><span class="line">        &#125;,</span><br><span class="line">        add_2()&#123;</span><br><span class="line">            let mvvm22_new = new Object();</span><br><span class="line">            let new_tr = document.getElementById(&quot;new_tr&quot;);</span><br><span class="line">            let new_name = new_tr.getElementsByTagName(&quot;td&quot;)[0].getElementsByTagName(&quot;input&quot;)[0].value;</span><br><span class="line">            let new_status = document.getElementById(&quot;selected&quot;);</span><br><span class="line">            mvvm22_new.name = new_name;</span><br><span class="line">            mvvm22_new.status = new_status.innerHTML;</span><br><span class="line">            if(mvvm22_new.status == &quot;合格&quot; || mvvm22_new.status == &quot;不合格&quot;)&#123;</span><br><span class="line">                mvvm22_new.operating = &quot;删除&quot;;</span><br><span class="line">            &#125;</span><br><span class="line">            else&#123;</span><br><span class="line">                mvvm22_new.operating = &quot;审核&quot;;</span><br><span class="line">            &#125;</span><br><span class="line">            if(mvvm22_new.name == &quot;&quot;|| mvvm22_new.status == &quot;&quot;)&#123;</span><br><span class="line">                alert(&quot;姓名为空或审核状态没有选择&quot;);</span><br><span class="line">                return;</span><br><span class="line">            &#125;</span><br><span class="line">            mvvm22_new.index = this.index;</span><br><span class="line">            this.mvvm22.push(mvvm22_new);</span><br><span class="line">            this.index++;</span><br><span class="line">            this.show = false;</span><br><span class="line">        &#125;,</span><br><span class="line">        more()&#123;</span><br><span class="line">            let span = document.getElementsByClassName(&quot;mvvm22_span&quot;)[0];</span><br><span class="line">            if(span.getAttribute(&quot;class&quot;) == &quot;mvvm22_span right&quot;)&#123;</span><br><span class="line">                span.setAttribute(&quot;class&quot;,&quot;mvvm22_span down&quot;);</span><br><span class="line">            &#125;</span><br><span class="line">            else&#123;</span><br><span class="line">                span.setAttribute(&quot;class&quot;,&quot;mvvm22_span right&quot;);</span><br><span class="line">            &#125;</span><br><span class="line">            let ull = document.getElementsByClassName(&quot;mvvm22_ul&quot;)[0];</span><br><span class="line">            if(ull.style.height != &quot;112px&quot;)&#123;</span><br><span class="line">                ull.style.height = &quot;112px&quot;;</span><br><span class="line">            &#125;</span><br><span class="line">            else&#123;</span><br><span class="line">                ull.style.height = &quot;26px&quot;;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        mm22_select(event)&#123;</span><br><span class="line">            let _this = event.target;</span><br><span class="line">            let select = document.getElementById(&quot;selected&quot;);</span><br><span class="line">            select.innerHTML = _this.innerHTML;</span><br><span class="line">        &#125;,</span><br><span class="line">        shordel(event)&#123;</span><br><span class="line">            let _this = event.target;</span><br><span class="line">            if(_this.innerHTML == &quot;删除&quot;)&#123;</span><br><span class="line">                let new_index;</span><br><span class="line">                for(let i = 0;i &lt; this.mvvm22.length;i++)&#123;</span><br><span class="line">                    if(this.mvvm22[i].index == _this.id)&#123;</span><br><span class="line">                        this.mvvm22.splice(i,1);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            else&#123;</span><br><span class="line">                let new_index;</span><br><span class="line">                for(let i = 0;i &lt; this.mvvm22.length;i++)&#123;</span><br><span class="line">                    if(this.mvvm22[i].index == _this.id)&#123;</span><br><span class="line">                        this.mvvm22[i].status = &quot;合格&quot;;</span><br><span class="line">                        this.mvvm22[i].operating = &quot;删除&quot;;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">    watch:&#123;</span><br><span class="line"></span><br><span class="line">    &#125;,</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- Add &quot;scoped&quot; attribute to limit CSS to this component only --&gt;</span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">.mvvm22&#123;</span><br><span class="line">    margin: auto;</span><br><span class="line">    width: 600px;</span><br><span class="line">    border: 1px;</span><br><span class="line">    text-align: left;</span><br><span class="line">    padding: 10px;</span><br><span class="line">    height: 600px;</span><br><span class="line">&#125;</span><br><span class="line">.mvvm22_button&#123;</span><br><span class="line">    padding: 5px 15px;</span><br><span class="line">    margin: 5px;</span><br><span class="line">    border: 1px solid #ddd;</span><br><span class="line">    outline: none;</span><br><span class="line">    border-radius: 4px;</span><br><span class="line">&#125;</span><br><span class="line">.mvvm22_button:active&#123;</span><br><span class="line">    border: 1px solid #36f;</span><br><span class="line">&#125;</span><br><span class="line">.mvvm22_table&#123;</span><br><span class="line">    margin: 5px;</span><br><span class="line">&#125;</span><br><span class="line">.mvvm22_table,.mvvm22_table td&#123;</span><br><span class="line">    border: 1px solid #ddd;</span><br><span class="line">    border-collapse: collapse;</span><br><span class="line">&#125;</span><br><span class="line">.mvvm22_table thead td&#123;</span><br><span class="line">    width: 200px;</span><br><span class="line">    text-align: center;</span><br><span class="line">    padding: 5px;</span><br><span class="line">&#125;</span><br><span class="line">.mvvm22_table tbody td&#123;</span><br><span class="line">    width: 200px;</span><br><span class="line">    text-align: center;</span><br><span class="line">    padding: 10px;</span><br><span class="line">&#125;</span><br><span class="line">.mvvm22 input[type=&quot;text&quot;]&#123;</span><br><span class="line">    font-size: 16px;</span><br><span class="line">    width: 120px;</span><br><span class="line">    border: 0;</span><br><span class="line">    text-align: center;</span><br><span class="line">    outline: none;</span><br><span class="line">&#125;</span><br><span class="line">.mvvm22_select&#123;</span><br><span class="line">    cursor: pointer;</span><br><span class="line">    font-size: 16px;</span><br><span class="line">    border: 1px solid #ddd;</span><br><span class="line">    width: 100px;</span><br><span class="line">    height: 16px;</span><br><span class="line">    margin: auto;</span><br><span class="line">    padding: 5px;</span><br><span class="line">    text-align: right;</span><br><span class="line">    /*overflow: hidden;*/</span><br><span class="line">    position: relative;</span><br><span class="line">&#125;</span><br><span class="line">.mvvm22_span&#123;</span><br><span class="line">    display: block;</span><br><span class="line">    width: 10px;</span><br><span class="line">    float: right;</span><br><span class="line">    user-select: none;</span><br><span class="line">&#125;</span><br><span class="line">.right&#123;</span><br><span class="line">    transform: rotate(0deg);</span><br><span class="line">&#125;</span><br><span class="line">.down&#123;</span><br><span class="line">    transform: rotate(-90deg);</span><br><span class="line">&#125;</span><br><span class="line">.mvvm22_ul&#123;</span><br><span class="line">    list-style-type: none;</span><br><span class="line">    position: absolute;</span><br><span class="line">    top: 0;</span><br><span class="line">    left: 0;</span><br><span class="line">    height: 26px;</span><br><span class="line">    overflow: hidden;</span><br><span class="line">    background-color: #fff;</span><br><span class="line">&#125;</span><br><span class="line">.mvvm22_ul li&#123;</span><br><span class="line">    display: block;</span><br><span class="line">    width: 80px;</span><br><span class="line">    height: 16px;</span><br><span class="line">    padding: 5px;</span><br><span class="line">    border: 1px solid #ddd;</span><br><span class="line">    border-top: 0;</span><br><span class="line">    text-align: center;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure></p>]]></content>
      
      
        <tags>
            
            <tag> vue </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>vue项目-豆瓣电影搜索-完善</title>
      <link href="/2018/05/05/2018_5_5_3_%E8%B1%86%E7%93%A3%E7%94%B5%E5%BD%B1%E6%90%9C%E7%B4%A2vue%E9%A1%B9%E7%9B%AE%E6%94%B9%E5%96%84/"/>
      <url>/2018/05/05/2018_5_5_3_%E8%B1%86%E7%93%A3%E7%94%B5%E5%BD%B1%E6%90%9C%E7%B4%A2vue%E9%A1%B9%E7%9B%AE%E6%94%B9%E5%96%84/</url>
      <content type="html"><![CDATA[<p>上次我写了这个豆瓣电影搜索的vue项目，最后完成的时候，发现打包后放到github上，不能获取到ajax的结果，原因呢我具体也不明白，大概就是存在跨域问题，上次我搜索跨域问题怎么解决，都是说反向代理什么的，我完全一脸懵逼啊，今天得知有另一种解决跨域问题的方法jsonp，所以我就对我的代码进行了完善，功夫不负有心人，终于能在github上正常访问我这个项目了<br><a href="https://frattinor.github.io/vue-project/douban-movie-api/myDist/#/" target="_blank" rel="noopener">demo</a></p><p>首先呢说一下什么是jsonp，我只明白大概的意思<br>就是普通的ajax跨域请求会存在跨域问题，但是通过src来获取跨域资源不存在跨域问题，就像cdn，jsonp就是类似于这种的这个方法，我就知道怎么多了<br>我原来是用的axios来进行请求的，但是axios不支持jsonp格式，所以我就打算使用jquery的ajax来实现jsonp格式资源返回，<br>然后遇到一个问题，就是vue项目里直接在html里引入jquery.js是不行的，解决办法如下，具体什么意思，我还不明白</p><blockquote><p>1：首先安装jquery<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install jquery --save</span><br></pre></td></tr></table></figure></p></blockquote><blockquote><p>2：在webpack.base.conf.js里加入<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var webpack = require(&quot;webpack&quot;)</span><br></pre></td></tr></table></figure></p></blockquote><blockquote><p>3：在module.exports的最后加入<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">plugins: [  </span><br><span class="line"> new webpack.optimize.CommonsChunkPlugin(&apos;common.js&apos;),  </span><br><span class="line"> new webpack.ProvidePlugin(&#123;  </span><br><span class="line">     jQuery: &quot;jquery&quot;,  </span><br><span class="line">     $: &quot;jquery&quot;  </span><br><span class="line"> &#125;)  </span><br><span class="line">]</span><br></pre></td></tr></table></figure></p></blockquote><blockquote><p>4：在main.js中引入<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">import $ from &apos;jquery&apos;</span><br></pre></td></tr></table></figure></p></blockquote><p>然后就可以正常使用jquery了</p><p>然后就是重写api.js文件（这里写了如何请求）<br>我其实对ajax完全不会的<br>今天也是看着文档写的，然后有了一个大概的认识<br>最后是对Promise的认识，Promise好像在网络传输方面是个神器<br>看来我还是需要对http这一块好好的学一下</p><p>最后附上我的ajax请求jsonp格式的函数吧<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">function fetch(url) &#123;</span><br><span class="line">    return new Promise((resolve, reject)=&gt; &#123;</span><br><span class="line">        $.ajax(&#123;</span><br><span class="line">           type: &quot;GET&quot;,</span><br><span class="line">           url: url,</span><br><span class="line">           async: false,</span><br><span class="line">           dataType: &quot;jsonp&quot;,</span><br><span class="line">           success: function(msg)&#123;</span><br><span class="line">                resolve(msg);</span><br><span class="line">                console.log(msg);</span><br><span class="line">           &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>]]></content>
      
      
        <tags>
            
            <tag> vue，jsonp </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>ife_2018 MVVM学院 2-1</title>
      <link href="/2018/05/05/2018_5_5_2_ife_2018_mvvm%E5%AD%A6%E9%99%A2_2.1/"/>
      <url>/2018/05/05/2018_5_5_2_ife_2018_mvvm%E5%AD%A6%E9%99%A2_2.1/</url>
      <content type="html"><![CDATA[<p>ife 的 mvvm使用的是百度的san框架，我不太了解，同时这个也不太火，所以我还是使用我在学习的vue框架</p><p>1.x是看文档和安装环境我就没做了</p><p>2.1 数据操作<br>1参考下方设计图，使用san实现一个功能<br>2输入姓名、年龄和简介信息，实时展示对应的信息<br>3点击移除信息按钮后，姓名、年龄和简介信息置空<br>4信息的数据类型为一个必须包含name、age和des三个属性的对象，其对应的数据类型分别为string、number和string</p><p>2.1<br><a href="https://frattinor.github.io/IFE_2018/mvvm/myDist-2-1/index.html#/" target="_blank" rel="noopener">demo</a></p><p>这个用vue也是非常的容易，毕竟vue使用会根据数据重新对页面进行渲染<br><strong>我的思路</strong></p><ol><li>首先写3个input，年龄的input type设置为number</li><li>然后写一个button和3个p分别实现清除功能和显示功能</li><li>然后在js里新建一个vue实例</li><li>data设置3个空值的的值</li><li>methods写一个del函数，设置3个this.var为””</li><li>v-on:click给按钮绑定方法</li><li>v-model双向绑定3个input和3个data值</li><li>在3个p里用v-html单向绑定3个data值</li></ol><p>完成，没有什么问题</p><p>因为我是用vue-cli建立的项目的，而且我打算mvvm的任务我都单独写一个router就好，所以代码格式是.vue文件格式</p><p>mvvm2-1.vue<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div class=&quot;mvvm2-1&quot;&gt;</span><br><span class="line">    &lt;input class=&quot;sr&quot; type=&quot;text&quot; placeholder=&quot;姓名&quot; v-model=&quot;name&quot;&gt;</span><br><span class="line">    &lt;input class=&quot;sr&quot; type=&quot;number&quot; placeholder=&quot;年龄&quot; v-model=&quot;age&quot;&gt;</span><br><span class="line">    &lt;input class=&quot;sr&quot; type=&quot;text&quot; placeholder=&quot;简介&quot; v-model=&quot;des&quot;&gt;</span><br><span class="line">    &lt;br&gt;</span><br><span class="line">    &lt;span&gt;信息：&lt;/span&gt;</span><br><span class="line">    &lt;button v-on:click=&quot;del&quot;&gt;移除信息&lt;/button&gt;</span><br><span class="line">    &lt;br&gt;</span><br><span class="line">    &lt;span&gt;姓名：&lt;/span&gt;&lt;span&gt;&#123;&#123;name&#125;&#125;&lt;/span&gt;&lt;br&gt;</span><br><span class="line">    &lt;span&gt;年龄：&lt;/span&gt;&lt;span&gt;&#123;&#123;age&#125;&#125;&lt;/span&gt;&lt;br&gt;</span><br><span class="line">    &lt;span&gt;简介：&lt;/span&gt;&lt;span&gt;&#123;&#123;des&#125;&#125;&lt;/span&gt;&lt;br&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    data()&#123;</span><br><span class="line">        return&#123;</span><br><span class="line">            name: &quot;&quot;,</span><br><span class="line">            age: &quot;&quot;,</span><br><span class="line">            des: &quot;&quot;,</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods:&#123;</span><br><span class="line">        del()&#123;</span><br><span class="line">            this.name = &quot;&quot;;</span><br><span class="line">            this.age = &quot;&quot;;</span><br><span class="line">            this.des = &quot;&quot;;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- Add &quot;scoped&quot; attribute to limit CSS to this component only --&gt;</span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line"></span><br><span class="line">input::-webkit-outer-spin-button,</span><br><span class="line">input::-webkit-inner-spin-button &#123;</span><br><span class="line">  -webkit-appearance: none;</span><br><span class="line">&#125;</span><br><span class="line">input[type=&quot;number&quot;]&#123;</span><br><span class="line">  -moz-appearance: textfield;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.mvvm2-1 input&#123;</span><br><span class="line">  padding: 5px;</span><br><span class="line">  border-radius: 4px;</span><br><span class="line">  border: 1px solid #ddd;</span><br><span class="line">  outline: none;</span><br><span class="line">&#125;</span><br><span class="line">.mvvm2-1 input:hover&#123;</span><br><span class="line">  border: 1px solid #36f;</span><br><span class="line">&#125;</span><br><span class="line">.mvvm2-1 input:focus&#123;</span><br><span class="line">  border: 1px solid #36f;</span><br><span class="line">&#125;</span><br><span class="line">.mvvm2-1 span&#123;</span><br><span class="line">  display: inline-block;</span><br><span class="line">  margin-top: 5px;</span><br><span class="line">  padding: 5px;</span><br><span class="line">&#125;</span><br><span class="line">.mvvm2-1 button&#123;</span><br><span class="line">  padding: 5px;</span><br><span class="line">  border: 1px solid #ddd;</span><br><span class="line">  border-radius: 4px;</span><br><span class="line">  outline: none;</span><br><span class="line">&#125;</span><br><span class="line">.mvvm2-1 button:active&#123;</span><br><span class="line">  border: 1px solid #36f;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure></p>]]></content>
      
      
        <tags>
            
            <tag> vue </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>ife_2018 设计师学院 No.7</title>
      <link href="/2018/05/05/2018_5_5_1_ife_2018_%E8%AE%BE%E8%AE%A1%E5%B8%88%E5%AD%A6%E9%99%A2_No.7/"/>
      <url>/2018/05/05/2018_5_5_1_ife_2018_%E8%AE%BE%E8%AE%A1%E5%B8%88%E5%AD%A6%E9%99%A2_No.7/</url>
      <content type="html"><![CDATA[<p>No.7 - 使用 animate.css 实现一个优雅的登录框</p><p>任务七<br><a href="https://frattinor.github.io/IFE_2018/css/No.7/" target="_blank" rel="noopener">demo</a></p><p>任务要求：<br>在我们提供给你的 HTML 文件基础上，适当的添加 CSS transition 和 CSS transform 属性，实现视频 demo 中的效果</p><p>这个我感觉还是比较的简单的<br><strong>我的思路</strong></p><ol><li>js给email和password的input在focus时修改文字的高度和大小</li><li>给文字添加属性transtion（过滤）和给按钮添加变大变小重复动画</li><li>下划线用伪元素：after实现</li><li>给外边框写2个伪元素，一个消失下划线，一个产生下划线</li><li>然后js给input添加blur事件</li><li>判断是否有字，有字，文字不下滑和变大，不论是否有字都消失下划线</li><li>最后写一个函数判断2个input是否都有字，来确定是否给按钮添加动画</li><li>最后在input的blur事件的最后执行判断函数</li></ol><p>这个动画我在最后也没有遇到什么问题，唯一的问题可能是伪元素width为0时还是有一个点，解决办法是连边框也消失</p><p>最后附上我的代码<br>html<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;!-- saved from url=(0048)http://jadyoap.bj.bcebos.com/ife%2Fmission7.html --&gt;</span><br><span class="line">&lt;html&gt;&lt;head&gt;&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;</span><br><span class="line"></span><br><span class="line">        &lt;title&gt;使用 animate.css 制作流畅交互动效&lt;/title&gt;</span><br><span class="line"></span><br><span class="line">        &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;css/mycss.css&quot;&gt;</span><br><span class="line"></span><br><span class="line">        &lt;style type=&quot;text/css&quot;&gt;</span><br><span class="line">            html &#123;</span><br><span class="line">                font-size: 62.5%;</span><br><span class="line">                font-family: &apos;Open Sans&apos;, &apos;Helvetica Neue&apos;, Arial, &apos;Hiragino Sans GB&apos;, &apos;Microsoft YaHei&apos;, sans-serif;</span><br><span class="line">            &#125;</span><br><span class="line">            body &#123;</span><br><span class="line">                font-size: 1.8em;</span><br><span class="line">                line-height: 3;</span><br><span class="line">                background-color: #eeeeee;</span><br><span class="line">            &#125;</span><br><span class="line">            h3 &#123;</span><br><span class="line">                font-size: 1.8em;</span><br><span class="line">                margin-bottom: 3rem;</span><br><span class="line">                line-height: 1.5;</span><br><span class="line">                font-weight: 800;</span><br><span class="line">            &#125;</span><br><span class="line">            p &#123;</span><br><span class="line">                margin-bottom: 1.5rem;</span><br><span class="line">            &#125;</span><br><span class="line">            .site-container &#123;</span><br><span class="line">                max-width: 320px;</span><br><span class="line">                margin: 10px auto;</span><br><span class="line">                padding-left: 0.6em;</span><br><span class="line">                padding-right: 0.6em;</span><br><span class="line">                padding-top: 3%;</span><br><span class="line">                padding-bottom: 3%;</span><br><span class="line">            &#125;</span><br><span class="line">            @media screen and (min-width: 60.063em) &#123;</span><br><span class="line">                .site-container &#123;</span><br><span class="line">                    max-width: 400px;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            .card &#123;</span><br><span class="line">                position: relative;</span><br><span class="line">                overflow: hidden;</span><br><span class="line">                background-color: white;</span><br><span class="line">                box-shadow: 0 1px 3px 0 rgba(0,0,0,0.24), 0 1px 18px 0 rgba(0,0,0,0.12);</span><br><span class="line">                border-radius: 2px;</span><br><span class="line">                padding: 1em 1.5em;</span><br><span class="line">            &#125;</span><br><span class="line">            .form__wrapper &#123;</span><br><span class="line">                overflow: hidden;</span><br><span class="line">                position: relative;</span><br><span class="line">                z-index: 1;</span><br><span class="line">                display: inline-block;</span><br><span class="line">                margin-bottom: 1.6rem;</span><br><span class="line">                width: 100%;</span><br><span class="line">                vertical-align: top;</span><br><span class="line">            &#125;</span><br><span class="line">            .form__wrapper__submit &#123;</span><br><span class="line">                padding: 1.6rem 0;</span><br><span class="line">            &#125;</span><br><span class="line">            .form__input &#123;</span><br><span class="line">                display: block;</span><br><span class="line">                position: relative;</span><br><span class="line">                margin-top: 1em;</span><br><span class="line">                padding: 0.84em 0;</span><br><span class="line">                width: 100%;</span><br><span class="line">                box-sizing: border-box;</span><br><span class="line">                color: #444;</span><br><span class="line">                font-size: 1.6rem;</span><br><span class="line">                outline: 0;</span><br><span class="line">                border: none;</span><br><span class="line">                border-bottom: solid 1px #ddd;</span><br><span class="line">            &#125;</span><br><span class="line">            .form__input:focus &#123;</span><br><span class="line">                background-position: 0 0;</span><br><span class="line">                color: #444;</span><br><span class="line">            &#125;</span><br><span class="line">            .form__label &#123;</span><br><span class="line">                position: absolute;</span><br><span class="line">                bottom: 0;</span><br><span class="line">                left: 0;</span><br><span class="line">                padding: 0;</span><br><span class="line">                width: 100%;</span><br><span class="line">                height: calc(99%);</span><br><span class="line">                text-align: left;</span><br><span class="line">                pointer-events: none;</span><br><span class="line">                color: #999;</span><br><span class="line">            &#125;</span><br><span class="line">            .form__label__content &#123;</span><br><span class="line">                position: absolute;</span><br><span class="line">            &#125;</span><br><span class="line">            .form__input:focus ~ .form__label .form__label-content,</span><br><span class="line">            .form--filled .form__label-content &#123;</span><br><span class="line">            &#125;</span><br><span class="line">            .btn &#123;</span><br><span class="line">                width: 100%;</span><br><span class="line">                display: inline-block;</span><br><span class="line">                padding: 0.7em 1.5em;</span><br><span class="line">                border-radius: 2px;</span><br><span class="line">                background-color: #2196f3;</span><br><span class="line">                color: #fff;</span><br><span class="line">                border: 0;</span><br><span class="line">                outline: none;</span><br><span class="line">                cursor: pointer;</span><br><span class="line">                font-family: inherit;</span><br><span class="line">                font-weight: 400;</span><br><span class="line">                font-size: 1.6rem;</span><br><span class="line">                box-shadow: 0 1px 3px 0 rgba(3,30,51,0.24), 0 1px 2px 0 rgba(3,30,51,0.12);</span><br><span class="line">                transition: all 0.2s ease;</span><br><span class="line">            &#125;</span><br><span class="line">            .btn:focus,</span><br><span class="line">            .btn:hover &#123;</span><br><span class="line">                background-color: #0d8aee;</span><br><span class="line">            &#125;</span><br><span class="line">        &lt;/style&gt;</span><br><span class="line">    &lt;style type=&quot;text/css&quot; abt=&quot;234&quot;&gt;&lt;/style&gt;&lt;script&gt;//console.log(&apos;a&apos;)</span><br><span class="line">&lt;/script&gt;&lt;script&gt;//remove 17173 video ad</span><br><span class="line">doAdblock();</span><br><span class="line">function doAdblock()&#123;</span><br><span class="line">    (function() &#123;</span><br><span class="line">        function A() &#123;&#125;</span><br><span class="line">        A.prototype = &#123;</span><br><span class="line">            rules: &#123;</span><br><span class="line">                &apos;17173_in&apos;:&#123;</span><br><span class="line">                    &apos;find&apos;:/http:\/\/f\.v\.17173cdn\.com\/(\d+\/)?flash\/PreloaderFile(Customer)?\.swf/,</span><br><span class="line">                    &apos;replace&apos;:&quot;http://swf.adtchrome.com/17173_in_20150522.swf&quot;</span><br><span class="line">                &#125;,</span><br><span class="line">                &apos;17173_out&apos;:&#123;</span><br><span class="line">                    &apos;find&apos;:/http:\/\/f\.v\.17173cdn\.com\/(\d+\/)?flash\/PreloaderFileFirstpage\.swf/,</span><br><span class="line">                    &apos;replace&apos;:&quot;http://swf.adtchrome.com/17173_out_20150522.swf&quot;</span><br><span class="line">                &#125;,</span><br><span class="line">                &apos;17173_live&apos;:&#123;</span><br><span class="line">                    &apos;find&apos;:/http:\/\/f\.v\.17173cdn\.com\/(\d+\/)?flash\/Player_stream(_firstpage)?\.swf/,</span><br><span class="line">                    &apos;replace&apos;:&quot;http://swf.adtchrome.com/17173_stream_20150522.swf&quot;</span><br><span class="line">                &#125;,</span><br><span class="line">                &apos;17173_live_out&apos;:&#123;</span><br><span class="line">                    &apos;find&apos;:/http:\/\/f\.v\.17173cdn\.com\/(\d+\/)?flash\/Player_stream_(custom)?Out\.swf/,</span><br><span class="line">                    &apos;replace&apos;:&quot;http://swf.adtchrome.com/17173.out.Live.swf&quot;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;,</span><br><span class="line">            _done: null,</span><br><span class="line">            get done() &#123;</span><br><span class="line">                if(!this._done) &#123;</span><br><span class="line">                    this._done = new Array();</span><br><span class="line">                &#125;</span><br><span class="line">                return this._done;</span><br><span class="line">            &#125;,</span><br><span class="line">            addAnimations: function() &#123;</span><br><span class="line">                var style = document.createElement(&apos;style&apos;);</span><br><span class="line">                style.type = &apos;text/css&apos;;</span><br><span class="line">                style.innerHTML = &apos;object,embed&#123;\</span><br><span class="line">                -webkit-animation-duration:.001s;-webkit-animation-name:playerInserted;\</span><br><span class="line">                -ms-animation-duration:.001s;-ms-animation-name:playerInserted;\</span><br><span class="line">                -o-animation-duration:.001s;-o-animation-name:playerInserted;\</span><br><span class="line">                animation-duration:.001s;animation-name:playerInserted;&#125;\</span><br><span class="line">                @-webkit-keyframes playerInserted&#123;from&#123;opacity:0.99;&#125;to&#123;opacity:1;&#125;&#125;\</span><br><span class="line">                @-ms-keyframes playerInserted&#123;from&#123;opacity:0.99;&#125;to&#123;opacity:1;&#125;&#125;\</span><br><span class="line">                @-o-keyframes playerInserted&#123;from&#123;opacity:0.99;&#125;to&#123;opacity:1;&#125;&#125;\</span><br><span class="line">                @keyframes playerInserted&#123;from&#123;opacity:0.99;&#125;to&#123;opacity:1;&#125;&#125;&apos;;</span><br><span class="line">                document.getElementsByTagName(&apos;head&apos;)[0].appendChild(style);</span><br><span class="line">            &#125;,</span><br><span class="line">            animationsHandler: function(e) &#123;</span><br><span class="line">                if(e.animationName === &apos;playerInserted&apos;) &#123;</span><br><span class="line">                    this.replace(e.target);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;,</span><br><span class="line">            replace: function(elem) &#123;</span><br><span class="line">                if(this.done.indexOf(elem) != -1) return;</span><br><span class="line">                this.done.push(elem);</span><br><span class="line">                var player = elem.data || elem.src;</span><br><span class="line">                if(!player) return;</span><br><span class="line">                var i, find, replace = false;</span><br><span class="line">                for(i in this.rules) &#123;</span><br><span class="line">                    find = this.rules[i][&apos;find&apos;];</span><br><span class="line">                    if(find.test(player)) &#123;</span><br><span class="line">                        replace = this.rules[i][&apos;replace&apos;];</span><br><span class="line">                        if(&apos;function&apos; === typeof this.rules[i][&apos;preHandle&apos;]) &#123;</span><br><span class="line">                            this.rules[i][&apos;preHandle&apos;].bind(this, elem, find, replace, player)();</span><br><span class="line">                        &#125;else&#123;</span><br><span class="line">                            this.reallyReplace.bind(this, elem, find, replace)();</span><br><span class="line">                        &#125;</span><br><span class="line">                        break;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;,</span><br><span class="line">            reallyReplace: function(elem, find, replace) &#123;</span><br><span class="line">                elem.data &amp;&amp; (elem.data = elem.data.replace(find, replace)) || elem.src &amp;&amp; ((elem.src = elem.src.replace(find, replace)) &amp;&amp; (elem.style.display = &apos;block&apos;));</span><br><span class="line">                var b = elem.querySelector(&quot;param[name=&apos;movie&apos;]&quot;);</span><br><span class="line">                this.reloadPlugin(elem);</span><br><span class="line">            &#125;,</span><br><span class="line">            reloadPlugin: function(elem) &#123;</span><br><span class="line">                var nextSibling = elem.nextSibling;</span><br><span class="line">                var parentNode = elem.parentNode;</span><br><span class="line">                parentNode.removeChild(elem);</span><br><span class="line">                var newElem = elem.cloneNode(true);</span><br><span class="line">                this.done.push(newElem);</span><br><span class="line">                if(nextSibling) &#123;</span><br><span class="line">                    parentNode.insertBefore(newElem, nextSibling);</span><br><span class="line">                &#125; else &#123;</span><br><span class="line">                    parentNode.appendChild(newElem);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;,</span><br><span class="line">            init: function() &#123;</span><br><span class="line">                var handler = this.animationsHandler.bind(this);</span><br><span class="line">                document.body.addEventListener(&apos;webkitAnimationStart&apos;, handler, false);</span><br><span class="line">                document.body.addEventListener(&apos;msAnimationStart&apos;, handler, false);</span><br><span class="line">                document.body.addEventListener(&apos;oAnimationStart&apos;, handler, false);</span><br><span class="line">                document.body.addEventListener(&apos;animationstart&apos;, handler, false);</span><br><span class="line">                this.addAnimations();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">        new A().init();</span><br><span class="line">    &#125;)();</span><br><span class="line">&#125;</span><br><span class="line">//remove baidu search ad</span><br><span class="line">if(document.URL.indexOf(&apos;www.baidu.com&apos;) &gt;= 0)&#123;</span><br><span class="line">    if(document &amp;&amp; document.getElementsByTagName &amp;&amp; document.getElementById &amp;&amp; document.body)&#123;</span><br><span class="line">        var aa = function()&#123;</span><br><span class="line">            var all = document.body.querySelectorAll(&quot;#content_left div,#content_left table&quot;);</span><br><span class="line">            for(var i = 0; i &lt; all.length; i++)&#123;</span><br><span class="line">                if(/display:\s?(table|block)\s!important/.test(all[i].getAttribute(&quot;style&quot;)))&#123;all[i].style.display= &quot;none&quot;;all[i].style.visibility=&apos;hidden&apos;;&#125;</span><br><span class="line">            &#125;</span><br><span class="line">            all = document.body.querySelectorAll(&apos;.result.c-container[id=&quot;1&quot;]&apos;);</span><br><span class="line">            //if(all.length == 1) return;</span><br><span class="line">            for(var i = 0; i &lt; all.length; i++)&#123;</span><br><span class="line">                if(all[i].innerHTML &amp;&amp; all[i].innerHTML.indexOf(&apos;广告&apos;)&gt;-1)&#123;</span><br><span class="line">                    all[i].style.display= &quot;none&quot;;all[i].style.visibility=&apos;hidden&apos;;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        aa();</span><br><span class="line">        document.getElementById(&apos;wrapper_wrapper&apos;).addEventListener(&apos;DOMSubtreeModified&apos;,aa)</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br><span class="line">//remove sohu video ad</span><br><span class="line">if (document.URL.indexOf(&quot;tv.sohu.com&quot;) &gt;= 0)&#123;</span><br><span class="line">    if (document.cookie.indexOf(&quot;fee_status=true&quot;)==-1)&#123;document.cookie=&apos;fee_status=true&apos;&#125;;</span><br><span class="line">&#125;</span><br><span class="line">//remove 56.com video ad</span><br><span class="line">if (document.URL.indexOf(&quot;56.com&quot;) &gt;= 0)&#123;</span><br><span class="line">    if (document.cookie.indexOf(&quot;fee_status=true&quot;)==-1)&#123;document.cookie=&apos;fee_status=true&apos;&#125;;</span><br><span class="line">&#125;</span><br><span class="line">//fore iqiyi enable html5 player function</span><br><span class="line">if (document.URL.indexOf(&quot;iqiyi.com&quot;) &gt;= 0)&#123;</span><br><span class="line">    if (document.cookie.indexOf(&quot;player_forcedType=h5_VOD&quot;)==-1)&#123;</span><br><span class="line">        document.cookie=&apos;player_forcedType=h5_VOD&apos;</span><br><span class="line">        if(localStorage.reloadTime &amp;&amp; Date.now() - parseInt(localStorage.reloadTime)&lt;60000)&#123;</span><br><span class="line">            console.log(&apos;no reload&apos;)</span><br><span class="line">        &#125;else&#123;</span><br><span class="line">            location.reload()</span><br><span class="line">            localStorage.reloadTime = Date.now();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;&lt;style type=&quot;text/css&quot;&gt;object,embed&#123;                -webkit-animation-duration:.001s;-webkit-animation-name:playerInserted;                -ms-animation-duration:.001s;-ms-animation-name:playerInserted;                -o-animation-duration:.001s;-o-animation-name:playerInserted;                animation-duration:.001s;animation-name:playerInserted;&#125;                @-webkit-keyframes playerInserted&#123;from&#123;opacity:0.99;&#125;to&#123;opacity:1;&#125;&#125;                @-ms-keyframes playerInserted&#123;from&#123;opacity:0.99;&#125;to&#123;opacity:1;&#125;&#125;                @-o-keyframes playerInserted&#123;from&#123;opacity:0.99;&#125;to&#123;opacity:1;&#125;&#125;                @keyframes playerInserted&#123;from&#123;opacity:0.99;&#125;to&#123;opacity:1;&#125;&#125;&lt;/style&gt;&lt;/head&gt;</span><br><span class="line">    &lt;body style=&quot;&quot;&gt;</span><br><span class="line">        &lt;section class=&quot;site-container&quot;&gt;</span><br><span class="line">            &lt;section class=&quot;card&quot;&gt;</span><br><span class="line">                &lt;h3&gt;Login&lt;/h3&gt;</span><br><span class="line">                &lt;form&gt;</span><br><span class="line">                    &lt;div class=&quot;form__wrapper&quot; data-wow-delay=&quot;0.5s&quot;&gt;</span><br><span class="line">                        &lt;input type=&quot;email&quot; class=&quot;form__input&quot; id=&quot;email&quot; name=&quot;email&quot;&gt;</span><br><span class="line">                        &lt;label class=&quot;form__label form__label2&quot; for=&quot;email&quot;&gt;</span><br><span class="line">                        &lt;span class=&quot;form__label__content&quot;&gt;Email&lt;/span&gt;</span><br><span class="line">                        &lt;/label&gt;</span><br><span class="line">                    &lt;/div&gt;</span><br><span class="line">                    &lt;div class=&quot;form__wrapper&quot; data-wow-delay=&quot;0.6s&quot;&gt;</span><br><span class="line">                        &lt;input type=&quot;password&quot; class=&quot;form__input&quot; id=&quot;password&quot; name=&quot;password&quot;&gt;</span><br><span class="line">                        &lt;label class=&quot;form__label form__label2&quot; for=&quot;password&quot;&gt;</span><br><span class="line">                        &lt;span class=&quot;form__label__content&quot;&gt;Password&lt;/span&gt;</span><br><span class="line">                        &lt;/label&gt;</span><br><span class="line">                    &lt;/div&gt;</span><br><span class="line">                    &lt;div class=&quot;form__wrapper__submit pulse infinite&quot; data-wow-delay=&quot;0.7s&quot;&gt;</span><br><span class="line">                        &lt;div class=&quot;form__input__submit&quot;&gt;</span><br><span class="line">                            &lt;button type=&quot;submit&quot; name=&quot;submit&quot; class=&quot;btn&quot;&gt;Submit&lt;/button&gt;</span><br><span class="line">                        &lt;/div&gt;</span><br><span class="line">                    &lt;/div&gt;</span><br><span class="line">                &lt;/form&gt;</span><br><span class="line">            &lt;/section&gt;</span><br><span class="line">        &lt;/section&gt;</span><br><span class="line"></span><br><span class="line">    &lt;script src=&quot;js/jquery.min.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">    &lt;script src=&quot;js/myjs.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;/body&gt;&lt;/html&gt;</span><br></pre></td></tr></table></figure></p><p>css<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line">.form__label2&#123;</span><br><span class="line">    font-size: 18px;</span><br><span class="line">    transition: 0.5s;</span><br><span class="line">    top: 0;</span><br><span class="line">&#125;</span><br><span class="line">.form__wrapper2::after&#123;</span><br><span class="line">    content: &quot;&quot;;</span><br><span class="line">    position: absolute;</span><br><span class="line">    bottom: 0;</span><br><span class="line">    width: 100%;</span><br><span class="line">    height: 0;</span><br><span class="line">    padding: 0;</span><br><span class="line">    margin: 0;</span><br><span class="line">    border: 1px solid #09f;</span><br><span class="line">&#125;</span><br><span class="line">.form__wrapper3::after&#123;</span><br><span class="line">    content: &quot;&quot;;</span><br><span class="line">    position: absolute;</span><br><span class="line">    bottom: 0;</span><br><span class="line">    height: 0;</span><br><span class="line">    padding: 0;</span><br><span class="line">    margin: 0;</span><br><span class="line">    animation: up 0.5s both ease;</span><br><span class="line">&#125;</span><br><span class="line">@keyframes up&#123;</span><br><span class="line">    0%&#123;</span><br><span class="line">        width: 100%;</span><br><span class="line">        border: 1px solid #09f;</span><br><span class="line">    &#125;</span><br><span class="line">    99%&#123;</span><br><span class="line">        width: 0;</span><br><span class="line">        border: 1px solid #09f;</span><br><span class="line">    &#125;</span><br><span class="line">    100%&#123;</span><br><span class="line">        width: 0;</span><br><span class="line">        border: none;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">.btn2&#123;</span><br><span class="line">    animation: big 1s infinite;</span><br><span class="line">&#125;</span><br><span class="line">@keyframes big&#123;</span><br><span class="line">    0%&#123;</span><br><span class="line">        height: 40px;</span><br><span class="line">        width: 100%;</span><br><span class="line">        margin-left: 0;</span><br><span class="line">    &#125;</span><br><span class="line">    50%&#123;</span><br><span class="line">        height: 45px;</span><br><span class="line">        width: 106%;</span><br><span class="line">        margin-left: -3%;</span><br><span class="line">    &#125;</span><br><span class="line">    100%&#123;</span><br><span class="line">        height: 40px;</span><br><span class="line">        width: 100%;</span><br><span class="line">        margin-left: 0;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>js<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line">let label = $(&quot;.form__label&quot;);</span><br><span class="line">let wrapper = $(&quot;.form__wrapper&quot;);</span><br><span class="line">let input = $(&quot;.form__input&quot;);</span><br><span class="line"></span><br><span class="line">for(let i = 0; i &lt; 2; i++)&#123;</span><br><span class="line">    input.eq(i).focus(function()&#123;</span><br><span class="line">        label.eq(i).css(&quot;top&quot;,&quot;-10px&quot;);</span><br><span class="line">        label.eq(i).css(&quot;font-size&quot;,&quot;15px&quot;);</span><br><span class="line">        wrapper.eq(i).removeClass(&quot;form__wrapper3&quot;);</span><br><span class="line">        wrapper.eq(i).addClass(&quot;form__wrapper2&quot;);</span><br><span class="line">    &#125;)</span><br><span class="line">    input.eq(i).blur(function()&#123;</span><br><span class="line">        let x = input.eq(i).val();</span><br><span class="line">        if(!x)&#123;</span><br><span class="line">            label.eq(i).css(&quot;top&quot;,&quot;&quot;);</span><br><span class="line">            label.eq(i).css(&quot;font-size&quot;,&quot;&quot;);</span><br><span class="line">        &#125;</span><br><span class="line">        wrapper.eq(i).removeClass(&quot;form__wrapper2&quot;);</span><br><span class="line">        wrapper.eq(i).addClass(&quot;form__wrapper3&quot;);</span><br><span class="line">        big();</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">let big = function()&#123;</span><br><span class="line">    if(input.eq(0).val() != &quot;&quot; &amp;&amp; input.eq(1).val() != &quot;&quot;)&#123;</span><br><span class="line">        $(&quot;.btn&quot;).eq(0).addClass(&quot;btn2&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">    else&#123;</span><br><span class="line">        $(&quot;.btn&quot;).eq(0).removeClass(&quot;btn2&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">// $(&quot;#email&quot;).focus(function()&#123;</span><br><span class="line">//     label.eq(0).css(&quot;top&quot;,&quot;-10px&quot;);</span><br><span class="line">//     label.eq(0).css(&quot;font-size&quot;,&quot;15px&quot;);</span><br><span class="line">//     wrapper.eq(0).removeClass(&quot;form__wrapper3&quot;);</span><br><span class="line">//     wrapper.eq(0).addClass(&quot;form__wrapper2&quot;);</span><br><span class="line">// &#125;);</span><br><span class="line">// $(&quot;#email&quot;).blur(function()&#123;</span><br><span class="line">//     let x = input.eq(0).val();</span><br><span class="line">//     if(!x)&#123;</span><br><span class="line">//         label.eq(0).css(&quot;top&quot;,&quot;&quot;);</span><br><span class="line">//         label.eq(0).css(&quot;font-size&quot;,&quot;&quot;);</span><br><span class="line">//     &#125;</span><br><span class="line">//     wrapper.eq(0).removeClass(&quot;form__wrapper2&quot;);</span><br><span class="line">//     wrapper.eq(0).addClass(&quot;form__wrapper3&quot;);</span><br><span class="line">// &#125;);</span><br><span class="line">// $(&quot;#password&quot;).focus(function()&#123;</span><br><span class="line">//     label.eq(1).css(&quot;top&quot;,&quot;-10px&quot;);</span><br><span class="line">//     label.eq(1).css(&quot;font-size&quot;,&quot;15px&quot;);</span><br><span class="line">//     wrapper.eq(1).removeClass(&quot;form__wrapper3&quot;);</span><br><span class="line">//     wrapper.eq(1).addClass(&quot;form__wrapper2&quot;);</span><br><span class="line">// &#125;);</span><br><span class="line">// $(&quot;#password&quot;).blur(function()&#123;</span><br><span class="line">//     let x = input.eq(1).val();</span><br><span class="line">//     if(!x)&#123;</span><br><span class="line">//         label.eq(1).css(&quot;top&quot;,&quot;&quot;);</span><br><span class="line">//         label.eq(1).css(&quot;font-size&quot;,&quot;&quot;);</span><br><span class="line">//     &#125;</span><br><span class="line">//     wrapper.eq(1).removeClass(&quot;form__wrapper2&quot;);</span><br><span class="line">//     wrapper.eq(1).addClass(&quot;form__wrapper3&quot;);</span><br><span class="line">// &#125;);</span><br></pre></td></tr></table></figure></p>]]></content>
      
      
        <tags>
            
            <tag> css </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>ife_2018 设计师学院 No.6</title>
      <link href="/2018/05/05/2018_5_4_2_ife_2018_%E8%AE%BE%E8%AE%A1%E5%B8%88%E5%AD%A6%E9%99%A2_No.6/"/>
      <url>/2018/05/05/2018_5_4_2_ife_2018_%E8%AE%BE%E8%AE%A1%E5%B8%88%E5%AD%A6%E9%99%A2_No.6/</url>
      <content type="html"><![CDATA[<p>No.6 - 利用 CSS animation 制作一个炫酷的 Slider</p><p>任务六<br><a href="https://frattinor.github.io/IFE_2018/css/No.6/" target="_blank" rel="noopener">demo</a></p><p>任务要求：<br>通过 CSS animation 实现一个 全屏 Image Slider 的效果</p><p><strong>我的思路</strong></p><ol><li>选择5张图片</li><li>在html写一个大的div</li><li>在div底部加ul里面的li写5个li里面放5张图片</li><li>然后在大div重叠放置5张图片</li><li>给5张图片写好css动画</li><li>js给5个li添加click事件，动态删除和添加动画class</li></ol><p>差不多就是这样</p><p><strong>遇到的问题</strong><br>1首先呢是图片的重叠问题，后面的图片会覆盖前面的图片</p><p>解决办法：<br>给图片添加z-index属性，刚打开是第二张图片，所以第二张图片的z-index为2，其他为1</p><p>2.li的hover时变亮特效</p><p>解决办法：<br>不是hover变亮，而是不hover变暗，我是通过给li加背景颜色为黑色，然后设置opcaity为0.5，就是半透明效果，然后写hover时，opcaity=1，不透明时就感觉变亮了</p><p>3.还是图片覆盖问题，添加动画class时也看不见图片</p><p>解决办法：<br>js给需要添加动画class的z-index设置为3，需要删除的z-index设置为1，然后还有一个问题，就是z-index都为1，背景一直都是最后的图片，所以还需要给上次z-index为3的z-index为2，这样背景就会是上次最上面的图片</p><p>4.点击同一个会一直有动画</p><p>解决办法：<br>js设置z-index为2和需要z-index为3的图片为同一个时，直接return就好</p><p>最后附上我的代码</p><p>html<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;&lt;/title&gt;</span><br><span class="line">    &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;css/mycss.css&quot;&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div class=&quot;show&quot;&gt;</span><br><span class="line">        &lt;img class=&quot;img1&quot; src=&quot;img/1.jpg&quot;&gt;</span><br><span class="line">        &lt;img class=&quot;img2&quot; src=&quot;img/2.jpg&quot;&gt;</span><br><span class="line">        &lt;img class=&quot;img3&quot; src=&quot;img/3.jpg&quot;&gt;</span><br><span class="line">        &lt;img class=&quot;img4&quot; src=&quot;img/4.jpg&quot;&gt;</span><br><span class="line">        &lt;img class=&quot;img5&quot; src=&quot;img/5.jpg&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;five&quot;&gt;</span><br><span class="line">            &lt;ul class=&quot;ull&quot;&gt;</span><br><span class="line">                &lt;li&gt;&lt;img src=&quot;img/1.jpg&quot;&gt;&lt;/li&gt;</span><br><span class="line">                &lt;li&gt;&lt;img src=&quot;img/2.jpg&quot;&gt;&lt;/li&gt;</span><br><span class="line">                &lt;li&gt;&lt;img src=&quot;img/3.jpg&quot;&gt;&lt;/li&gt;</span><br><span class="line">                &lt;li&gt;&lt;img src=&quot;img/4.jpg&quot;&gt;&lt;/li&gt;</span><br><span class="line">                &lt;li&gt;&lt;img src=&quot;img/5.jpg&quot;&gt;&lt;/li&gt;</span><br><span class="line">            &lt;/ul&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">    &lt;script src=&quot;js/jquery.min.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">    &lt;script src=&quot;js/myjs.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure></p><p>css<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;&lt;/title&gt;</span><br><span class="line">    &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;css/mycss.css&quot;&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div class=&quot;show&quot;&gt;</span><br><span class="line">        &lt;img class=&quot;img1&quot; src=&quot;img/1.jpg&quot;&gt;</span><br><span class="line">        &lt;img class=&quot;img2&quot; src=&quot;img/2.jpg&quot;&gt;</span><br><span class="line">        &lt;img class=&quot;img3&quot; src=&quot;img/3.jpg&quot;&gt;</span><br><span class="line">        &lt;img class=&quot;img4&quot; src=&quot;img/4.jpg&quot;&gt;</span><br><span class="line">        &lt;img class=&quot;img5&quot; src=&quot;img/5.jpg&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;five&quot;&gt;</span><br><span class="line">            &lt;ul class=&quot;ull&quot;&gt;</span><br><span class="line">                &lt;li&gt;&lt;img src=&quot;img/1.jpg&quot;&gt;&lt;/li&gt;</span><br><span class="line">                &lt;li&gt;&lt;img src=&quot;img/2.jpg&quot;&gt;&lt;/li&gt;</span><br><span class="line">                &lt;li&gt;&lt;img src=&quot;img/3.jpg&quot;&gt;&lt;/li&gt;</span><br><span class="line">                &lt;li&gt;&lt;img src=&quot;img/4.jpg&quot;&gt;&lt;/li&gt;</span><br><span class="line">                &lt;li&gt;&lt;img src=&quot;img/5.jpg&quot;&gt;&lt;/li&gt;</span><br><span class="line">            &lt;/ul&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">    &lt;script src=&quot;js/jquery.min.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">    &lt;script src=&quot;js/myjs.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure></p><p>js<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">$(&quot;li&quot;).click(function()&#123;</span><br><span class="line">    let x = $(this).find(&quot;img&quot;).attr(&quot;src&quot;);</span><br><span class="line">    for(let i = 0; i &lt; 5; i++)&#123;</span><br><span class="line">        let y = $(&quot;.show&quot;).find(&quot;img&quot;).eq(i);</span><br><span class="line">        y.removeClass(&quot;ani&quot;+(i+1));</span><br><span class="line">        if(y.css(&quot;z-index&quot;) == &quot;3&quot; &amp;&amp; y.attr(&quot;src&quot;) == x)&#123;</span><br><span class="line">            return;</span><br><span class="line">        &#125;</span><br><span class="line">        if(y.css(&quot;z-index&quot;) == &quot;3&quot;)&#123;</span><br><span class="line">            y.css(&quot;z-index&quot;,&quot;2&quot;);</span><br><span class="line">        &#125;</span><br><span class="line">        else&#123;</span><br><span class="line">            y.css(&quot;z-index&quot;,&quot;1&quot;);</span><br><span class="line">        &#125;</span><br><span class="line">        if(y.attr(&quot;src&quot;) == x)&#123;</span><br><span class="line">            y.css(&quot;z-index&quot;,&quot;3&quot;);</span><br><span class="line">            y.addClass(&quot;ani&quot;+(i+1));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p>]]></content>
      
      
        <tags>
            
            <tag> css </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>ife_2018 设计师学院 No.5</title>
      <link href="/2018/05/05/2018_5_4_1_ife_2018_%E8%AE%BE%E8%AE%A1%E5%B8%88%E5%AD%A6%E9%99%A2_No.5/"/>
      <url>/2018/05/05/2018_5_4_1_ife_2018_%E8%AE%BE%E8%AE%A1%E5%B8%88%E5%AD%A6%E9%99%A2_No.5/</url>
      <content type="html"><![CDATA[<p>No.5 - 纯 CSS 制作绕中轴旋转的立方体</p><p>任务五<br><a href="https://frattinor.github.io/IFE_2018/css/No.5/" target="_blank" rel="noopener">demo</a></p><p>任务要求：<br>通过纯CSS 实现一个立方体翻转的效果</p><p><strong>我的思路</strong></p><ol><li>用绝对定位在同一个地方设置6个正方形div</li><li>通过css3的3d效果去把上下左右后5块div进行旋转和3d位移</li><li>在以底部为圆心写无穷旋转动画效果</li></ol><p>完成</p><p><strong>遇到的问题</strong><br>1.旋转后div上的字也会翻转</p><p>解决办法：<br>前面，上面，和下面这3块不动，左右2块都向后位移200px，再进行旋转，后面一块先向后位移200px然后原地转180度<br>这样从6个面看过去都是正的字</p><p>2。无穷旋转动画以前面这块的中轴为中心旋转</p><p>解决办法：<br>在这6块div外加一个div，然后前面这块向前移100px，后面那块向后移100px，其他4块以这2块为基准位移和旋转，然后把无穷旋转的动画加载在外部这个div里，这样就可以围绕底面的中心旋转了</p><p>3.看起来没有3d效果，只有2d效果</p><p>解决办法：<br>昨天使用过的perspective属性，简单的说就是增加屏幕到元素的距离，产生距离感</p><p>4.使用perspective属性后，旋转起来，前大后小，不是立方体</p><p>解决办法：<br>其实，这个问题是我自己还不太理解perspective属性，现在我对perspective属性的理解就是在元素的前方加了一对眼睛，然后改元素旋转的同时，眼睛也在旋转，也就是说本来是屏幕到元素的距离旋转后变成了侧面到元素产生了距离，emmm。。。，我自己也说不明白，反正就是这个意思，解决办法是在外部div的外部加个div，在最外面的这个div加上perspective属性，这样里面div旋转不会影响到外部的perspective属性。</p><p>最后贴出我的代码<br>html<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;&lt;/title&gt;</span><br><span class="line">    &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;css/mycss.css&quot;&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div class=&quot;container&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;box0&quot;&gt;</span><br><span class="line">            &lt;div class=&quot;box front&quot;&gt;front&lt;/div&gt;</span><br><span class="line">            &lt;div class=&quot;box back&quot;&gt;back&lt;/div&gt;</span><br><span class="line">            &lt;div class=&quot;box left&quot;&gt;left&lt;/div&gt;</span><br><span class="line">            &lt;div class=&quot;box right&quot;&gt;right&lt;/div&gt;</span><br><span class="line">            &lt;div class=&quot;box top&quot;&gt;top&lt;/div&gt;</span><br><span class="line">            &lt;div class=&quot;box bottom&quot;&gt;bottom&lt;/div&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">    &lt;script src=&quot;js/jquery.min.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">    &lt;script src=&quot;js/myjs.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure></p><p>css<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line">*&#123;</span><br><span class="line">    margin: 0;</span><br><span class="line">    padding: 0;</span><br><span class="line">&#125;</span><br><span class="line">.container&#123;</span><br><span class="line">    height: 200px;</span><br><span class="line">    text-align: center;</span><br><span class="line">    margin-top: 100px;</span><br><span class="line">    perspective: 400px;</span><br><span class="line">&#125;</span><br><span class="line">.box0&#123;</span><br><span class="line">    transform-style: preserve-3d;</span><br><span class="line">    position: relative;</span><br><span class="line">    width: 200px;</span><br><span class="line">    height: 200px;</span><br><span class="line">    transform-origin: 50% 50%;</span><br><span class="line">    display: inline-block;</span><br><span class="line">    animation: ani 4s infinite linear;</span><br><span class="line">    animation-play-state:paused;</span><br><span class="line">&#125;</span><br><span class="line">.box0:hover&#123;</span><br><span class="line">    animation-play-state:running;</span><br><span class="line">&#125;</span><br><span class="line">@keyframes ani&#123;</span><br><span class="line">    0%&#123;</span><br><span class="line">        transform: rotateY(0deg);</span><br><span class="line">    &#125;</span><br><span class="line">    100%&#123;</span><br><span class="line">        transform: rotateY(360deg);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">.box&#123;</span><br><span class="line">    width: 200px;</span><br><span class="line">    height: 200px;</span><br><span class="line">    position: absolute;</span><br><span class="line">    top: 0;</span><br><span class="line">    left: 0;</span><br><span class="line">    border: 2px solid #09f;</span><br><span class="line">    text-align: center;</span><br><span class="line">    line-height: 200px;</span><br><span class="line">    font-size: 30px;</span><br><span class="line">    color: RGBA(0,0,0,0.6);</span><br><span class="line">&#125;</span><br><span class="line">.front&#123;</span><br><span class="line">    transform: translateZ(102px);</span><br><span class="line">    background-color: RGBA(255,0,0,0.5);</span><br><span class="line">&#125;</span><br><span class="line">.top&#123;</span><br><span class="line">    transform-origin: 0% 0%;</span><br><span class="line">    transform: translateZ(102px) rotateX(270deg) ;</span><br><span class="line">    background-color: RGBA(0,255,0,0.5);</span><br><span class="line">&#125;</span><br><span class="line">.bottom&#123;</span><br><span class="line">    transform-origin: 0% 100%;</span><br><span class="line">    transform:translateZ(102px) rotateX(90deg);</span><br><span class="line">    background-color: RGBA(0,0,255,0.5);</span><br><span class="line">&#125;</span><br><span class="line">.left&#123;</span><br><span class="line">    transform-origin: 0% 50%;</span><br><span class="line">    transform:translateZ(-102px) rotateY(270deg);</span><br><span class="line">    background-color: RGBA(255,255,0,0.5);</span><br><span class="line">&#125;</span><br><span class="line">.right&#123;</span><br><span class="line">    transform-origin: 100% 0%;</span><br><span class="line">    transform:translateZ(-102px) rotateY(90deg);</span><br><span class="line">    background-color: RGBA(0,255,255,0.5);</span><br><span class="line">&#125;</span><br><span class="line">.back&#123;</span><br><span class="line">    transform: translateZ(-102px) rotateY(180deg);</span><br><span class="line">    background-color: RGBA(200,0,200,0.5);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>]]></content>
      
      
        <tags>
            
            <tag> css </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>ife_2018 设计师学院 No.4</title>
      <link href="/2018/05/03/2018_5_3_3_ife_2018_%E8%AE%BE%E8%AE%A1%E5%B8%88%E5%AD%A6%E9%99%A2_No.4/"/>
      <url>/2018/05/03/2018_5_3_3_ife_2018_%E8%AE%BE%E8%AE%A1%E5%B8%88%E5%AD%A6%E9%99%A2_No.4/</url>
      <content type="html"><![CDATA[<p>No.4 - 3D 空间的卡片翻转动效</p><p>任务四<br><a href="https://frattinor.github.io/IFE_2018/css/No.4/" target="_blank" rel="noopener">demo</a></p><p>任务要求：<br>通过 CSS 实现一个卡片翻转的效果。</p><p><strong>我的思路</strong></p><ol><li>首先先写一个div装“卡牌”</li><li>在div里写一个div代表卡牌</li><li>在卡牌div里写2个div代表卡牌的正面和反面</li><li>在css里给卡牌div加个hover翻转180度</li></ol><p>我觉得差不多就完成了</p><p><strong>遇到的问题</strong><br>翻转前后反面一直被覆盖，所以翻转前后都是正面</p><p><strong>解决办法</strong><br>这个问题我修改了很多的css样式都不行，要不是没有效果就是效果突兀，没办法过渡，最后去百度了一下发现需要加2个属性<br>给卡牌添加<br>transform-style: preserve-3d;<br>使被转换的子元素保留其 3D 转换<br>给正面div加<br>backface-visibility:hidden;<br>时其背面变透明<br>缺一不可<br>因为需要在3d状态背面透明才会生效</p><p><strong>遇到的问题2</strong><br>前面确实可以实现翻转效果<br>但是非常的平面，2d的感觉，没有3d的感觉</p><p><strong>解决办法</strong><br>这个问题我以前也遇到过，当时我的解决办法是使其3d状态沿x轴转30度，但是会产生上小下大的视觉效果，但确实是有3d的效果，但肯定不是最好的<br>然后今天看见了更好的解决办法是给卡牌添加属性<br>perspective: 1200px;<br>设置元素被查看位置的视图，大概是让元素和屏幕产生距离的视觉效果吧<br>这样看起来有3d的效果</p><p>最后附上代码<br>html<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;&lt;/title&gt;</span><br><span class="line">    &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;css/mycss.css&quot;&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div class=&quot;box&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;card&quot;&gt;</span><br><span class="line">            &lt;div class=&quot;false&quot;&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">            &lt;div class=&quot;true&quot;&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">    &lt;script src=&quot;js/jquery.min.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">    &lt;script src=&quot;js/myjs.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure></p><p>css<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">*&#123;</span><br><span class="line">    margin: 0;</span><br><span class="line">    padding: 0;</span><br><span class="line">&#125;</span><br><span class="line">.box&#123;</span><br><span class="line">    perspective: 1200px;</span><br><span class="line">    margin: 20px;</span><br><span class="line">    text-align: center;</span><br><span class="line">&#125;</span><br><span class="line">.card&#123;</span><br><span class="line">    transform-style: preserve-3d;</span><br><span class="line">    display: inline-block;</span><br><span class="line">    width: 250px;</span><br><span class="line">    height: 350px;</span><br><span class="line">    transition:transform 1s ease-in-out;</span><br><span class="line">&#125;</span><br><span class="line">.true&#123;</span><br><span class="line">    position: absolute;</span><br><span class="line">    width: 250px;</span><br><span class="line">    height: 350px;</span><br><span class="line">    background: url(../img/true.jpg);</span><br><span class="line">    backface-visibility:hidden;</span><br><span class="line">&#125;</span><br><span class="line">.false&#123;</span><br><span class="line">    position: absolute;</span><br><span class="line">    width: 250px;</span><br><span class="line">    height: 350px;</span><br><span class="line">    transform: rotateY(180deg);</span><br><span class="line">    background: url(../img/false.jpg);</span><br><span class="line">&#125;</span><br><span class="line">.card:hover&#123;</span><br><span class="line">    transform: rotateY(180deg);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>]]></content>
      
      
        <tags>
            
            <tag> css </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>ife_2018 设计师学院 No.3</title>
      <link href="/2018/05/03/2018_5_3_2_ife_2018_%E8%AE%BE%E8%AE%A1%E5%B8%88%E5%AD%A6%E9%99%A2_No.3/"/>
      <url>/2018/05/03/2018_5_3_2_ife_2018_%E8%AE%BE%E8%AE%A1%E5%B8%88%E5%AD%A6%E9%99%A2_No.3/</url>
      <content type="html"><![CDATA[<p>No.3 - CSS transition 和 CSS transform 配合制作动画</p><p>任务三<br><a href="https://frattinor.github.io/IFE_2018/css/No.3/" target="_blank" rel="noopener">demo</a><br>任务目标：<br>在我们提供给你的 HTML 文件基础上，适当的添加 CSS transition 和 CSS transform 属性 ，实现视频 demo 中的效果；<br>鼠标 hover 上去的时候，出现小猫笑起来的动画；</p><p>我的思路：</p><ol><li>给小猫的各个部位写过滤效果</li><li>给左耳旋转45度，右耳旋转45度</li><li>给猫眼变小，猫眼下部抬高，给腮红显示出来</li><li>给嘴巴添加弧度</li></ol><p>动画的实现其实并不是很难，唯一有难度的嘴巴加弧度，我试了很久才写出来<br>猫耳旋转用transform: rotate实现<br>猫眼变小用transform: scale实现<br>眼底抬高用transform: translate实现<br>腮红显性用opacity实现<br>最后的嘴角用border-radius实现</p><p>这些其实都只用了不多的时间</p><p><strong>遇到的问题</strong>：然后我就遇到了问题，怎么样把这些hover一起触发。。。<br>我想了很久没有办法用css实现，就考虑用js实现，使用js强行更改css样式，这个办法确实可以实现，但是好像超出了任务的要求范围。。。</p><p><strong>解决办法</strong>：然后就有了2.0版本，我看了别人的代码才发现原来这么简单，我一直都考虑错了方向，因为不是要同时触发这些元素的hover，而是在最外部的hover的同时改变这些元素的样式就好了使用css的选择器可以轻松搞定</p><p>代码如下<br>html<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;!-- saved from url=(0055)http://jadyoap.bj.bcebos.com/ife%2FcssCatAnimation.html --&gt;</span><br><span class="line">&lt;html&gt;&lt;head&gt;</span><br><span class="line">    &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;css/mycss.css&quot;&gt;</span><br><span class="line">    &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;</span><br><span class="line"></span><br><span class="line">        &lt;title&gt;纯 CSS 实现猫笑起来的动画&lt;/title&gt;</span><br><span class="line">        &lt;style type=&quot;text/css&quot;&gt;</span><br><span class="line">            body &#123;</span><br><span class="line">                background-color: #d69a44;</span><br><span class="line">            &#125;</span><br><span class="line">            /* face */</span><br><span class="line">            .face &#123;</span><br><span class="line">                position: absolute;</span><br><span class="line">                left: 50%;</span><br><span class="line">                margin-left: -175px;</span><br><span class="line">                top:40px;</span><br><span class="line">                width: 350px;</span><br><span class="line">                height: 250px;</span><br><span class="line">                border-radius: 50% 50% 30% 30%;</span><br><span class="line">                border: 2px solid #3f200b;</span><br><span class="line">                z-index: 10;</span><br><span class="line">                background: #fbf8f1;</span><br><span class="line">                overflow: hidden;</span><br><span class="line">            &#125;</span><br><span class="line">            /* ear */</span><br><span class="line">            .ear-wrap &#123;</span><br><span class="line">                position: absolute;</span><br><span class="line">                width: 300px;</span><br><span class="line">                left: 50%;</span><br><span class="line">                margin-left: -150px;</span><br><span class="line">                /*   top: 100px; */</span><br><span class="line">            &#125;</span><br><span class="line">            .ear-wrap&#123;</span><br><span class="line">                position: absolute;</span><br><span class="line">                left: 50%;</span><br><span class="line">                width: 300px;</span><br><span class="line">                margin-left: -150px;</span><br><span class="line">                margin-top: 20px;</span><br><span class="line">            &#125;</span><br><span class="line">            .ear &#123;</span><br><span class="line">                position: absolute;</span><br><span class="line">                width: 80px;</span><br><span class="line">                height: 100px;</span><br><span class="line">                border: 2px solid #000;</span><br><span class="line">                background: #fbf8f1;</span><br><span class="line">                border-radius: 100% 10% 50% 0% ;</span><br><span class="line">            &#125;</span><br><span class="line">            .ear-wrap .right &#123;</span><br><span class="line">                left: auto;</span><br><span class="line">                right: 0;</span><br><span class="line">                border-radius: 10% 100% 0% 50%;</span><br><span class="line">                background: #f1ac2b;</span><br><span class="line">            &#125;</span><br><span class="line">            /* 头发 */</span><br><span class="line">            .hair &#123;</span><br><span class="line">                position: absolute;</span><br><span class="line">                width: 120px;</span><br><span class="line">                height: 120px;</span><br><span class="line">                left: 50%;</span><br><span class="line">                margin-left: 50px;</span><br><span class="line">                margin-top: -40px;</span><br><span class="line">                background: #f3b32e;</span><br><span class="line">                border-radius: 50% 50% 50% 50%;</span><br><span class="line">            &#125;</span><br><span class="line">            /* 眼睛 */</span><br><span class="line">            .eye-wrap &#123;</span><br><span class="line">                position: absolute;</span><br><span class="line">                width: 280px;</span><br><span class="line">                height: 70px;</span><br><span class="line">                top: 90px;</span><br><span class="line">                left: 50%;</span><br><span class="line">                margin-left: -140px;</span><br><span class="line">                overflow: hidden;</span><br><span class="line">            &#125;</span><br><span class="line">            .eye &#123;</span><br><span class="line">                height: 100px;</span><br><span class="line">                width: 100px;</span><br><span class="line">                position: absolute;</span><br><span class="line">            &#125;</span><br><span class="line">            .eye-circle &#123;</span><br><span class="line">                width: 100px;</span><br><span class="line">                height: 80px;</span><br><span class="line">                border: 2px solid #482507;</span><br><span class="line">                overflow: hidden;</span><br><span class="line">                position: absolute;</span><br><span class="line">                background: #fff;</span><br><span class="line">                border-radius: 50% 50% 40% 40%;</span><br><span class="line">                box-sizing: border-box;</span><br><span class="line">            &#125;</span><br><span class="line">            .eye-core &#123;</span><br><span class="line">                height: 55px;</span><br><span class="line">                width: 46px;</span><br><span class="line">                border-radius: 50% 50% 50% 50%;</span><br><span class="line">                /* margin: 0 auto; */</span><br><span class="line">                background: #000;</span><br><span class="line">                position: absolute;</span><br><span class="line">                left: 50%;</span><br><span class="line">                margin-left: -23px;</span><br><span class="line">            &#125;</span><br><span class="line">            .eye-bottom &#123;</span><br><span class="line">                height: 50px;</span><br><span class="line">                width: 100px;</span><br><span class="line">                border-radius: 40% 40% 50% 50%;</span><br><span class="line">                position: absolute;</span><br><span class="line">                margin-top: 48px;</span><br><span class="line">                border-top: 2px solid #46240b;</span><br><span class="line">                background: #f6f7f2;</span><br><span class="line">            &#125;</span><br><span class="line">            .eye-wrap .right &#123;</span><br><span class="line">                left: auto;</span><br><span class="line">                right: 0px;</span><br><span class="line">            &#125;</span><br><span class="line">            .face-red &#123;</span><br><span class="line">                position: absolute;</span><br><span class="line">                height: 20px;</span><br><span class="line">                width: 70px;</span><br><span class="line">                background: red;</span><br><span class="line">                top: 45px;</span><br><span class="line">                /*top: 64px;*/</span><br><span class="line">                left: 18px;</span><br><span class="line">                border-radius: 50% 50% 50% 50%;</span><br><span class="line">                background: #e85a5e;</span><br><span class="line">                opacity: 0.0;</span><br><span class="line">            &#125;</span><br><span class="line">            /* 鼻子 */</span><br><span class="line">            .nose &#123;</span><br><span class="line">                width: 20px;</span><br><span class="line">                height: 10px;</span><br><span class="line">                border-bottom: 8px solid #000;</span><br><span class="line">                border-radius: 0% 0% 50% 50%;</span><br><span class="line">                top: 154px;</span><br><span class="line">                left: 50%;</span><br><span class="line">                margin-left: -10px;</span><br><span class="line">                position: absolute;</span><br><span class="line">            &#125;</span><br><span class="line">            /* 嘴巴 */</span><br><span class="line">            .mouth-wrap &#123;</span><br><span class="line">                position: absolute;</span><br><span class="line">                top: 168px;</span><br><span class="line">                width: 80px;</span><br><span class="line">                left: 50%;</span><br><span class="line">                margin-left: -40px;</span><br><span class="line">                height: 20px;</span><br><span class="line">                overflow: hidden;</span><br><span class="line">            &#125;</span><br><span class="line">            .mouth &#123;</span><br><span class="line">                width: 40px;</span><br><span class="line">                height: 40px;</span><br><span class="line">                border-bottom: 4px solid #000;</span><br><span class="line">                border-right: 4px solid #000;</span><br><span class="line">                border-radius: 0% 40% 50% 20%;</span><br><span class="line">                margin-top: -26px;</span><br><span class="line">                position: absolute;</span><br><span class="line">                left: 0;</span><br><span class="line">            &#125;</span><br><span class="line">            .mouth-wrap .right &#123;</span><br><span class="line">                border-bottom: 4px solid #000;</span><br><span class="line">                border-right: none;</span><br><span class="line">                border-left: 4px solid #000;</span><br><span class="line">                border-radius: 40% 0% 20% 50%;</span><br><span class="line">                position: absolute;</span><br><span class="line">                left: auto;</span><br><span class="line">                right: 0;</span><br><span class="line">            &#125;</span><br><span class="line">            /*鼠标hover样式 写在这里*/</span><br><span class="line">        &lt;/style&gt;</span><br><span class="line">    &lt;style type=&quot;text/css&quot; abt=&quot;234&quot;&gt;&lt;/style&gt;&lt;script&gt;//console.log(&apos;a&apos;)</span><br><span class="line">&lt;/script&gt;&lt;script&gt;doAdblock();</span><br><span class="line">function doAdblock()&#123;</span><br><span class="line">    (function() &#123;</span><br><span class="line">        function A() &#123;&#125;</span><br><span class="line">        A.prototype = &#123;</span><br><span class="line">            rules: &#123;</span><br><span class="line">                &apos;pps_pps&apos;: &#123;</span><br><span class="line">                    &apos;find&apos;: /^http:\/\/www\.iqiyi\.com\/player\/cupid\/common\/pps_flvplay_s\.swf/,</span><br><span class="line">                    &apos;replace&apos;: &apos;http://swf.adtchrome.com/pps_20140420.swf&apos;</span><br><span class="line">                &#125;,</span><br><span class="line">                &apos;17173_in&apos;:&#123;</span><br><span class="line">                    &apos;find&apos;:/http:\/\/f\.v\.17173cdn\.com\/(\d+\/)?flash\/PreloaderFile(Customer)?\.swf/,</span><br><span class="line">                    &apos;replace&apos;:&quot;http://swf.adtchrome.com/17173_in_20150522.swf&quot;</span><br><span class="line">                &#125;,</span><br><span class="line">                &apos;17173_out&apos;:&#123;</span><br><span class="line">                    &apos;find&apos;:/http:\/\/f\.v\.17173cdn\.com\/(\d+\/)?flash\/PreloaderFileFirstpage\.swf/,</span><br><span class="line">                    &apos;replace&apos;:&quot;http://swf.adtchrome.com/17173_out_20150522.swf&quot;</span><br><span class="line">                &#125;,</span><br><span class="line">                &apos;17173_live&apos;:&#123;</span><br><span class="line">                    &apos;find&apos;:/http:\/\/f\.v\.17173cdn\.com\/(\d+\/)?flash\/Player_stream(_firstpage)?\.swf/,</span><br><span class="line">                    &apos;replace&apos;:&quot;http://swf.adtchrome.com/17173_stream_20150522.swf&quot;</span><br><span class="line">                &#125;,</span><br><span class="line">                &apos;17173_live_out&apos;:&#123;</span><br><span class="line">                    &apos;find&apos;:/http:\/\/f\.v\.17173cdn\.com\/(\d+\/)?flash\/Player_stream_(custom)?Out\.swf/,</span><br><span class="line">                    &apos;replace&apos;:&quot;http://swf.adtchrome.com/17173.out.Live.swf&quot;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;,</span><br><span class="line">            _done: null,</span><br><span class="line">            get done() &#123;</span><br><span class="line">                if(!this._done) &#123;</span><br><span class="line">                    this._done = new Array();</span><br><span class="line">                &#125;</span><br><span class="line">                return this._done;</span><br><span class="line">            &#125;,</span><br><span class="line">            addAnimations: function() &#123;</span><br><span class="line">                var style = document.createElement(&apos;style&apos;);</span><br><span class="line">                style.type = &apos;text/css&apos;;</span><br><span class="line">                style.innerHTML = &apos;object,embed&#123;\</span><br><span class="line">                -webkit-animation-duration:.001s;-webkit-animation-name:playerInserted;\</span><br><span class="line">                -ms-animation-duration:.001s;-ms-animation-name:playerInserted;\</span><br><span class="line">                -o-animation-duration:.001s;-o-animation-name:playerInserted;\</span><br><span class="line">                animation-duration:.001s;animation-name:playerInserted;&#125;\</span><br><span class="line">                @-webkit-keyframes playerInserted&#123;from&#123;opacity:0.99;&#125;to&#123;opacity:1;&#125;&#125;\</span><br><span class="line">                @-ms-keyframes playerInserted&#123;from&#123;opacity:0.99;&#125;to&#123;opacity:1;&#125;&#125;\</span><br><span class="line">                @-o-keyframes playerInserted&#123;from&#123;opacity:0.99;&#125;to&#123;opacity:1;&#125;&#125;\</span><br><span class="line">                @keyframes playerInserted&#123;from&#123;opacity:0.99;&#125;to&#123;opacity:1;&#125;&#125;&apos;;</span><br><span class="line">                document.getElementsByTagName(&apos;head&apos;)[0].appendChild(style);</span><br><span class="line">            &#125;,</span><br><span class="line">            animationsHandler: function(e) &#123;</span><br><span class="line">                if(e.animationName === &apos;playerInserted&apos;) &#123;</span><br><span class="line">                    this.replace(e.target);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;,</span><br><span class="line">            replace: function(elem) &#123;</span><br><span class="line">                if (/http:\/\/v.youku.com\/v_show\/.*/.test(window.location.href))&#123;</span><br><span class="line">                    var tag = document.getElementById(&quot;playerBox&quot;).getAttribute(&quot;player&quot;)</span><br><span class="line">                    if (tag == &quot;adt&quot;)&#123;</span><br><span class="line">                        console.log(&quot;adt adv&quot;)</span><br><span class="line">                        return;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                if(this.done.indexOf(elem) != -1) return;</span><br><span class="line">                this.done.push(elem);</span><br><span class="line">                var player = elem.data || elem.src;</span><br><span class="line">                if(!player) return;</span><br><span class="line">                var i, find, replace = false;</span><br><span class="line">                for(i in this.rules) &#123;</span><br><span class="line">                    find = this.rules[i][&apos;find&apos;];</span><br><span class="line">                    if(find.test(player)) &#123;</span><br><span class="line">                        replace = this.rules[i][&apos;replace&apos;];</span><br><span class="line">                        if(&apos;function&apos; === typeof this.rules[i][&apos;preHandle&apos;]) &#123;</span><br><span class="line">                            this.rules[i][&apos;preHandle&apos;].bind(this, elem, find, replace, player)();</span><br><span class="line">                        &#125;else&#123;</span><br><span class="line">                            this.reallyReplace.bind(this, elem, find, replace)();</span><br><span class="line">                        &#125;</span><br><span class="line">                        break;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;,</span><br><span class="line">            reallyReplace: function(elem, find, replace) &#123;</span><br><span class="line">                elem.data &amp;&amp; (elem.data = elem.data.replace(find, replace)) || elem.src &amp;&amp; ((elem.src = elem.src.replace(find, replace)) &amp;&amp; (elem.style.display = &apos;block&apos;));</span><br><span class="line">                var b = elem.querySelector(&quot;param[name=&apos;movie&apos;]&quot;);</span><br><span class="line">                this.reloadPlugin(elem);</span><br><span class="line">            &#125;,</span><br><span class="line">            reloadPlugin: function(elem) &#123;</span><br><span class="line">                var nextSibling = elem.nextSibling;</span><br><span class="line">                var parentNode = elem.parentNode;</span><br><span class="line">                parentNode.removeChild(elem);</span><br><span class="line">                var newElem = elem.cloneNode(true);</span><br><span class="line">                this.done.push(newElem);</span><br><span class="line">                if(nextSibling) &#123;</span><br><span class="line">                    parentNode.insertBefore(newElem, nextSibling);</span><br><span class="line">                &#125; else &#123;</span><br><span class="line">                    parentNode.appendChild(newElem);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;,</span><br><span class="line">            init: function() &#123;</span><br><span class="line">                var handler = this.animationsHandler.bind(this);</span><br><span class="line">                document.body.addEventListener(&apos;webkitAnimationStart&apos;, handler, false);</span><br><span class="line">                document.body.addEventListener(&apos;msAnimationStart&apos;, handler, false);</span><br><span class="line">                document.body.addEventListener(&apos;oAnimationStart&apos;, handler, false);</span><br><span class="line">                document.body.addEventListener(&apos;animationstart&apos;, handler, false);</span><br><span class="line">                this.addAnimations();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">        new A().init();</span><br><span class="line">    &#125;)();</span><br><span class="line">&#125;</span><br><span class="line">// 20140730</span><br><span class="line">(function cnbeta() &#123;</span><br><span class="line">    if (document.URL.indexOf(&apos;cnbeta.com&apos;) &gt;= 0) &#123;</span><br><span class="line">        var elms = document.body.querySelectorAll(&quot;p&gt;embed&quot;);</span><br><span class="line">        Array.prototype.forEach.call(elms, function(elm) &#123;</span><br><span class="line">            elm.style.marginLeft = &quot;0px&quot;;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)();</span><br><span class="line">//baidu</span><br><span class="line">if(document.URL.indexOf(&apos;www.baidu.com&apos;) &gt;= 0)&#123;</span><br><span class="line">    if(document &amp;&amp; document.getElementsByTagName &amp;&amp; document.getElementById &amp;&amp; document.body)&#123;</span><br><span class="line">        var aa = function()&#123;</span><br><span class="line">            var all = document.body.querySelectorAll(&quot;#content_left div,#content_left table&quot;);</span><br><span class="line">            for(var i = 0; i &lt; all.length; i++)&#123;</span><br><span class="line">                if(/display:\s?(table|block)\s!important/.test(all[i].getAttribute(&quot;style&quot;)))&#123;all[i].style.display= &quot;none&quot;;all[i].style.visibility=&apos;hidden&apos;;&#125;</span><br><span class="line">            &#125;</span><br><span class="line">            all = document.body.querySelectorAll(&apos;.result.c-container[id=&quot;1&quot;]&apos;);</span><br><span class="line">            //if(all.length == 1) return;</span><br><span class="line">            for(var i = 0; i &lt; all.length; i++)&#123;</span><br><span class="line">                if(all[i].innerHTML &amp;&amp; all[i].innerHTML.indexOf(&apos;广告&apos;)&gt;-1)&#123;</span><br><span class="line">                    all[i].style.display= &quot;none&quot;;all[i].style.visibility=&apos;hidden&apos;;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        aa();</span><br><span class="line">        document.getElementById(&apos;wrapper_wrapper&apos;).addEventListener(&apos;DOMSubtreeModified&apos;,aa)</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br><span class="line">if (document.URL.indexOf(&quot;tv.sohu.com&quot;) &gt;= 0)&#123;</span><br><span class="line">    if (document.cookie.indexOf(&quot;fee_status=true&quot;)==-1)&#123;document.cookie=&apos;fee_status=true&apos;&#125;;</span><br><span class="line">&#125;</span><br><span class="line">if (document.URL.indexOf(&quot;56.com&quot;) &gt;= 0)&#123;</span><br><span class="line">    if (document.cookie.indexOf(&quot;fee_status=true&quot;)==-1)&#123;document.cookie=&apos;fee_status=true&apos;&#125;;</span><br><span class="line">&#125;</span><br><span class="line">if (document.URL.indexOf(&quot;iqiyi.com&quot;) &gt;= 0)&#123;</span><br><span class="line">    if (document.cookie.indexOf(&quot;player_forcedType=h5_VOD&quot;)==-1)&#123;</span><br><span class="line">        document.cookie=&apos;player_forcedType=h5_VOD&apos;</span><br><span class="line">        if(localStorage.reloadTime &amp;&amp; Date.now() - parseInt(localStorage.reloadTime)&lt;60000)&#123;</span><br><span class="line">            console.log(&apos;no reload&apos;)</span><br><span class="line">        &#125;else&#123;</span><br><span class="line">            location.reload()</span><br><span class="line">            localStorage.reloadTime = Date.now();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;&lt;style type=&quot;text/css&quot;&gt;object,embed&#123;                -webkit-animation-duration:.001s;-webkit-animation-name:playerInserted;                -ms-animation-duration:.001s;-ms-animation-name:playerInserted;                -o-animation-duration:.001s;-o-animation-name:playerInserted;                animation-duration:.001s;animation-name:playerInserted;&#125;                @-webkit-keyframes playerInserted&#123;from&#123;opacity:0.99;&#125;to&#123;opacity:1;&#125;&#125;                @-ms-keyframes playerInserted&#123;from&#123;opacity:0.99;&#125;to&#123;opacity:1;&#125;&#125;                @-o-keyframes playerInserted&#123;from&#123;opacity:0.99;&#125;to&#123;opacity:1;&#125;&#125;                @keyframes playerInserted&#123;from&#123;opacity:0.99;&#125;to&#123;opacity:1;&#125;&#125;&lt;/style&gt;&lt;/head&gt;</span><br><span class="line">    &lt;body&gt;</span><br><span class="line">        &lt;div class=&quot;container&quot;&gt;</span><br><span class="line">            &lt;!-- 脸 --&gt;</span><br><span class="line">            &lt;div class=&quot;face&quot;&gt;</span><br><span class="line">                &lt;!-- 头发 --&gt;</span><br><span class="line">                &lt;div class=&quot;hair&quot;&gt;</span><br><span class="line">                    &lt;div&gt;&lt;/div&gt;</span><br><span class="line">                &lt;/div&gt;</span><br><span class="line">                &lt;!-- 眼睛 --&gt;</span><br><span class="line">                &lt;div class=&quot;eye-wrap&quot;&gt;</span><br><span class="line">                    &lt;div class=&quot;eye left&quot;&gt;</span><br><span class="line">                        &lt;div class=&quot;eye-circle&quot;&gt;</span><br><span class="line">                            &lt;div class=&quot;eye-core</span><br><span class="line">                            eye-core2&quot;&gt;&lt;/div&gt;</span><br><span class="line">                        &lt;/div&gt;</span><br><span class="line">                        &lt;div class=&quot;eye-bottom eye-bottom2&quot;&gt;&lt;/div&gt;</span><br><span class="line">                        &lt;div class=&quot;face-red face-red2&quot;&gt;&lt;/div&gt;</span><br><span class="line">                    &lt;/div&gt;</span><br><span class="line">                    &lt;div class=&quot;eye right&quot;&gt;</span><br><span class="line">                        &lt;div class=&quot;eye-circle&quot;&gt;</span><br><span class="line">                            &lt;div class=&quot;eye-core</span><br><span class="line">                            eye-core2&quot;&gt;&lt;/div&gt;</span><br><span class="line">                        &lt;/div&gt;</span><br><span class="line">                        &lt;div class=&quot;eye-bottom</span><br><span class="line">                        eye-bottom2&quot;&gt;&lt;/div&gt;</span><br><span class="line">                        &lt;div class=&quot;face-red face-red2&quot;&gt;&lt;/div&gt;</span><br><span class="line">                    &lt;/div&gt;</span><br><span class="line">                &lt;/div&gt;</span><br><span class="line">                &lt;!-- 鼻子 --&gt;</span><br><span class="line">                &lt;div class=&quot;nose&quot;&gt;</span><br><span class="line">                &lt;/div&gt;</span><br><span class="line">                &lt;!-- 嘴巴 --&gt;</span><br><span class="line">                &lt;div class=&quot;mouth-wrap&quot;&gt;</span><br><span class="line">                    &lt;!-- &lt;div class=&quot;mouth-top&quot;&gt;&lt;/div&gt; --&gt;</span><br><span class="line">                    &lt;div class=&quot;mouth left mouth-ani&quot;&gt;&lt;/div&gt;</span><br><span class="line">                    &lt;div class=&quot;mouth right mouth-ani&quot;&gt;&lt;/div&gt;</span><br><span class="line">                &lt;/div&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">            &lt;!-- 耳朵 --&gt;</span><br><span class="line">            &lt;div class=&quot;ear-wrap&quot;&gt;</span><br><span class="line">                &lt;div class=&quot;ear left ear-left&quot;&gt; &lt;/div&gt;</span><br><span class="line">                &lt;div class=&quot;ear right ear-right&quot;&gt; &lt;/div&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;script src=&quot;js/jquery.min.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script src=&quot;js/myjs.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;/body&gt;&lt;/html&gt;</span><br></pre></td></tr></table></figure></p><p>css<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">.ear-left&#123;</span><br><span class="line">    transition: transform 2s;</span><br><span class="line">&#125;</span><br><span class="line">.face:hover+.ear-wrap .ear-left&#123;</span><br><span class="line">    transform: rotate(-45deg);</span><br><span class="line">&#125;</span><br><span class="line">.ear-right&#123;</span><br><span class="line">    transition: transform 2s;</span><br><span class="line">&#125;</span><br><span class="line">.face:hover+.ear-wrap .ear-right&#123;</span><br><span class="line">    transform: rotate(45deg);</span><br><span class="line">&#125;</span><br><span class="line">.eye-bottom2&#123;</span><br><span class="line">    transition: transform 2s;</span><br><span class="line">&#125;</span><br><span class="line">.face:hover .eye-bottom2&#123;</span><br><span class="line">    transform: translate(0px,-20px);</span><br><span class="line">&#125;</span><br><span class="line">.eye-core2&#123;</span><br><span class="line">    transition: transform 2s;</span><br><span class="line">&#125;</span><br><span class="line">.face:hover .eye-core2&#123;</span><br><span class="line">    transform: scale(0.7,1);</span><br><span class="line">&#125;</span><br><span class="line">.face-red2&#123;</span><br><span class="line">    transform: scale(0.7,1);</span><br><span class="line">    transition: opacity 2s;</span><br><span class="line">&#125;</span><br><span class="line">.face:hover .face-red2&#123;</span><br><span class="line">    opacity: 0.5;</span><br><span class="line">&#125;</span><br><span class="line">.mouth-ani&#123;</span><br><span class="line">    transition: border-radius 2s;</span><br><span class="line">&#125;</span><br><span class="line">.face:hover .mouth-ani&#123;</span><br><span class="line">    border-radius: 50%;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>]]></content>
      
      
        <tags>
            
            <tag> css </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>ife_2018 设计师学院 No.1 No.2</title>
      <link href="/2018/05/03/2018_5_3_1_ife_2018_%E8%AE%BE%E8%AE%A1%E5%B8%88%E5%AD%A6%E9%99%A2_No.1_No.2/"/>
      <url>/2018/05/03/2018_5_3_1_ife_2018_%E8%AE%BE%E8%AE%A1%E5%B8%88%E5%AD%A6%E9%99%A2_No.1_No.2/</url>
      <content type="html"><![CDATA[<p>No.1 - 制作一个简单的菜单动画效果<br>任务要求：点击按钮使文字产生动画效果，再点击返回原样<br>No.2 - 初步接触 CSS 2D 变形<br>任务要求：通过 CSS transform 实现设计图所示效果，要求达到对设计稿的百分百的还原。<br><img src="https://raw.githubusercontent.com/FrattiNor/picture/master/ife_css_2.jpg" alt="enter image description here"></p><p>这个2个任务不是很难，我说一下思路，因为基本没有遇到什么问题</p><p>任务一<br><a href="https://frattinor.github.io/IFE_2018/css/No.1/" target="_blank" rel="noopener">demo</a><br>点击按钮改变文字颜色和加上下划线（下划线要有动画效果）</p><ol><li>首先在body里写p和button标签p里写进文字，模板就这样了</li><li>然后给p写2个类font和font2</li><li>font类写动画颜色由蓝变黑，动画保留最后结果，</li><li>给font类写一个伪元素:after，after里写下划线，并给非after写消失的动画</li><li>font2类写动画颜色由黑变蓝，动画保留最后结果，</li><li>给font2类写一个伪元素:after，after里写下划线，并给非after写出现的动画</li><li>js给按钮写改变p的class的效果</li></ol><p>这样就完成了</p><p>代码如下<br>html<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;&lt;/title&gt;</span><br><span class="line">    &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;css/mycss.css&quot;&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div class=&quot;box&quot;&gt;</span><br><span class="line">        &lt;span id=&quot;font&quot; class=&quot;font&quot;&gt;前端学院&lt;/span&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;button class=&quot;button&quot;&gt;切换样式&lt;/button&gt;</span><br><span class="line"></span><br><span class="line">    &lt;script src=&quot;js/jquery.min.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">    &lt;script src=&quot;js/myjs.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure></p><p>css<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><span class="line">*&#123;</span><br><span class="line">    margin: 0;</span><br><span class="line">    padding: 0;</span><br><span class="line">&#125;</span><br><span class="line">.box&#123;</span><br><span class="line">    text-align: center;</span><br><span class="line">    margin: 20px;</span><br><span class="line">&#125;</span><br><span class="line">.font2&#123;</span><br><span class="line">    display: inline-block;</span><br><span class="line">    padding: 5px;</span><br><span class="line">    animation: change3 1s both;</span><br><span class="line">&#125;</span><br><span class="line">@keyframes change3 &#123;</span><br><span class="line">    0%&#123;</span><br><span class="line">        color: #36f;</span><br><span class="line">    &#125;</span><br><span class="line">    100%&#123;</span><br><span class="line">        color: #000;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">.font2::after&#123;</span><br><span class="line">    content: &quot;&quot;;</span><br><span class="line">    position: relative;</span><br><span class="line">    left: -10%;</span><br><span class="line">    width: 120%;</span><br><span class="line">    display: block;</span><br><span class="line">    height: 5px;</span><br><span class="line">    border-bottom: 2px solid #36f;</span><br><span class="line">    animation: change4 1s both;</span><br><span class="line">&#125;</span><br><span class="line">@keyframes change4 &#123;</span><br><span class="line">    0%&#123;</span><br><span class="line">        left: -10%;</span><br><span class="line">        width: 120%;</span><br><span class="line">    &#125;</span><br><span class="line">    100%&#123;</span><br><span class="line">        left: 50%;</span><br><span class="line">        width: 0;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">.font&#123;</span><br><span class="line">    display: inline-block;</span><br><span class="line">    padding: 5px;</span><br><span class="line">    /*border-bottom: 2px solid #36f;*/</span><br><span class="line">    animation: change 1s both;</span><br><span class="line">&#125;</span><br><span class="line">@keyframes change &#123;</span><br><span class="line">    0%&#123;</span><br><span class="line">        color: #000;</span><br><span class="line">    &#125;</span><br><span class="line">    100%&#123;</span><br><span class="line">        color: #36f;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">.font::after&#123;</span><br><span class="line">    content: &quot;&quot;;</span><br><span class="line">    position: relative;</span><br><span class="line">    left: -10%;</span><br><span class="line">    width: 120%;</span><br><span class="line">    display: block;</span><br><span class="line">    height: 5px;</span><br><span class="line">    border-bottom: 2px solid #36f;</span><br><span class="line">    animation: change2 1s both;</span><br><span class="line">&#125;</span><br><span class="line">@keyframes change2 &#123;</span><br><span class="line">    0%&#123;</span><br><span class="line">        left: 50%;</span><br><span class="line">        width: 0;</span><br><span class="line">    &#125;</span><br><span class="line">    100%&#123;</span><br><span class="line">        left: -10%;</span><br><span class="line">        width: 120%;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.button&#123;</span><br><span class="line">    padding: 5px;</span><br><span class="line">    display: block;</span><br><span class="line">    margin: auto;</span><br><span class="line">    border: 1px solid #ddd;</span><br><span class="line">    background-color: #fff;</span><br><span class="line">    border-radius: 4px;</span><br><span class="line">    outline: none;</span><br><span class="line">&#125;</span><br><span class="line">.button:active&#123;</span><br><span class="line">    color: #fff;</span><br><span class="line">    background-color: #3E74B5;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>js<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$(&quot;.button&quot;).click(function()&#123;</span><br><span class="line">    let c = $(&quot;#font&quot;).attr(&quot;class&quot;);</span><br><span class="line">    if(c == &quot;font&quot;)&#123;</span><br><span class="line">        $(&quot;#font&quot;).attr(&quot;class&quot;,&quot;font2&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">    else&#123;</span><br><span class="line">        $(&quot;#font&quot;).attr(&quot;class&quot;,&quot;font&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p><blockquote><p>突然发现有个错误就是初始的颜色是黑色，使用动画效果会从蓝色变成黑色，这个是因为动画一点会播放一次，所以我决定使用css3的过渡来写动画，过渡值会在改变样式时产生动画（感觉比transtion好用啊）</p></blockquote><p>修改后代码如下<br>html<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;&lt;/title&gt;</span><br><span class="line">    &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;css/mycss.css&quot;&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div class=&quot;box&quot;&gt;</span><br><span class="line">        &lt;span id=&quot;font&quot; class=&quot;font color1&quot;&gt;</span><br><span class="line">            前端学院</span><br><span class="line">            &lt;div id=&quot;bottom&quot; class=&quot;bottom bottom1&quot;&gt;&lt;/div&gt;</span><br><span class="line">        &lt;/span&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;button class=&quot;button&quot;&gt;切换样式&lt;/button&gt;</span><br><span class="line"></span><br><span class="line">    &lt;script src=&quot;js/jquery.min.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">    &lt;script src=&quot;js/myjs.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure></p><p>css<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">*&#123;</span><br><span class="line">    margin: 0;</span><br><span class="line">    padding: 0;</span><br><span class="line">&#125;</span><br><span class="line">.box&#123;</span><br><span class="line">    text-align: center;</span><br><span class="line">    margin: 20px;</span><br><span class="line">&#125;</span><br><span class="line">.bottom&#123;</span><br><span class="line">    border-bottom: 2px solid #36f;</span><br><span class="line">    transition: 2s;</span><br><span class="line">    margin-top: 5px;</span><br><span class="line">&#125;</span><br><span class="line">.bottom1&#123;</span><br><span class="line">    width: 0%;</span><br><span class="line">    margin-left: 50%;</span><br><span class="line">&#125;</span><br><span class="line">.bottom2&#123;</span><br><span class="line">    width: 120%;</span><br><span class="line">    margin-left: -10%;</span><br><span class="line">&#125;</span><br><span class="line">.font&#123;</span><br><span class="line">    display: inline-block;</span><br><span class="line">    padding: 5px;</span><br><span class="line">    transition: 2s;</span><br><span class="line">&#125;</span><br><span class="line">.color1&#123;</span><br><span class="line">    color: #000;</span><br><span class="line">&#125;</span><br><span class="line">.color2&#123;</span><br><span class="line">    color: #36f;</span><br><span class="line">&#125;</span><br><span class="line">.button&#123;</span><br><span class="line">    padding: 5px;</span><br><span class="line">    display: block;</span><br><span class="line">    margin: auto;</span><br><span class="line">    border: 1px solid #ddd;</span><br><span class="line">    background-color: #fff;</span><br><span class="line">    border-radius: 4px;</span><br><span class="line">    outline: none;</span><br><span class="line">&#125;</span><br><span class="line">.button:active&#123;</span><br><span class="line">    color: #fff;</span><br><span class="line">    background-color: #3E74B5;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>js<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">$(&quot;.button&quot;).click(function()&#123;</span><br><span class="line">    let c = $(&quot;#font&quot;).attr(&quot;class&quot;);</span><br><span class="line">    if(c == &quot;font color1&quot;)&#123;</span><br><span class="line">        $(&quot;#font&quot;).removeClass(&quot;color1&quot;);</span><br><span class="line">        $(&quot;#font&quot;).addClass(&quot;color2&quot;);</span><br><span class="line">        $(&quot;#bottom&quot;).removeClass(&quot;bottom1&quot;);</span><br><span class="line">        $(&quot;#bottom&quot;).addClass(&quot;bottom2&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">    else&#123;</span><br><span class="line">        $(&quot;#font&quot;).removeClass(&quot;color2&quot;);</span><br><span class="line">        $(&quot;#font&quot;).addClass(&quot;color1&quot;);</span><br><span class="line">        $(&quot;#bottom&quot;).removeClass(&quot;bottom2&quot;);</span><br><span class="line">        $(&quot;#bottom&quot;).addClass(&quot;bottom1&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p><p>任务二<br><a href="https://frattinor.github.io/IFE_2018/css/No.2/" target="_blank" rel="noopener">demo</a><br>做出设计图样式</p><p>这个就更简单了<br>只要使用css3 的transform就可以简单解决<br>图1<br>skew（）翻转给定角度<br>图2<br>scale（）减少尺寸<br>图3<br>rotate（）旋转给定角度<br>图4<br>translate（）移动给定距离<br>图5<br>图1234合在一起</p><p>代码如下<br>html<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;&lt;/title&gt;</span><br><span class="line">    &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;css/mycss.css&quot;&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div class=&quot;box0&quot;&gt;box0&lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;box0 box1&quot;&gt;box1&lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;box0 box2&quot;&gt;box2&lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;box0 box3&quot;&gt;box3&lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;box0 box4&quot;&gt;box4&lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;box0 box5&quot;&gt;box5&lt;/div&gt;</span><br><span class="line">    &lt;script src=&quot;js/myjs.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure></p><p>css<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">*&#123;</span><br><span class="line">    margin: 0;</span><br><span class="line">    padding: 0;</span><br><span class="line">&#125;</span><br><span class="line">.box0&#123;</span><br><span class="line">    width: 100px;</span><br><span class="line">    height: 100px;</span><br><span class="line">    border: 1px solid #aaa;</span><br><span class="line">    text-align: center;</span><br><span class="line">    line-height: 100px;</span><br><span class="line">    margin: 30px;</span><br><span class="line">    float: left;</span><br><span class="line">&#125;</span><br><span class="line">.box1&#123;</span><br><span class="line">    transform: skew(30deg,0deg);</span><br><span class="line">&#125;</span><br><span class="line">.box2&#123;</span><br><span class="line">    transform: scale(0.5,1);</span><br><span class="line">&#125;</span><br><span class="line">.box3&#123;</span><br><span class="line">    transform: rotate(45deg);</span><br><span class="line">&#125;</span><br><span class="line">.box4&#123;</span><br><span class="line">    transform: translate(10px,20px);</span><br><span class="line">&#125;</span><br><span class="line">.box5&#123;</span><br><span class="line">    transform: skew(30deg,0deg) scale(0.5,1) rotate(45deg) translate(10px,20px);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>]]></content>
      
      
        <tags>
            
            <tag> css </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Vue项目-豆瓣电影搜索</title>
      <link href="/2018/04/28/2018_4_28_1_vue%E9%A1%B9%E7%9B%AE-%E8%B1%86%E7%93%A3%E7%94%B5%E5%BD%B1%E6%90%9C%E7%B4%A2/"/>
      <url>/2018/04/28/2018_4_28_1_vue%E9%A1%B9%E7%9B%AE-%E8%B1%86%E7%93%A3%E7%94%B5%E5%BD%B1%E6%90%9C%E7%B4%A2/</url>
      <content type="html"><![CDATA[<p>在写了第一次Vue项目todo list之后，总算是了解了vue项目大概的编写方法<br>然后我就在网络上找一些简单的Vue项目来做<br>然后就看到了这个基于豆瓣API的电影搜索项目（<a href="https://github.com/superman66/vue2.x-douban）" target="_blank" rel="noopener">https://github.com/superman66/vue2.x-douban）</a><br>老实说，看一起来并不难，就是一个主页面，一个电影搜索结果页面，一个更多页面以及一个电影详情页面。<br>但是实际上并不简单吧，只能这样说了，因为在完成这个项目期间我修改了错误的次数可能不下100次了，这个项目里还有我完全没有学习过的http知识，虽然就是一个axios的get请求。</p><hr><p>接下来就介绍一下项目吧。<br>项目要求：使用vue，vue-router，vue-infinite-scroll，axios知识编写基于豆瓣API的电影搜索应用，包含主页面，电影搜索结果页面，更多页面以及电影详情页面。</p><p>原项目还包含vuex的使用，但是因为我完全不知道vuex是使用方法，所以就去掉了，感觉没有太大的影响，然后就是我在原项目的基础上修改了部分样式以及一个bug吧。</p><p>代码就不贴上来了，比较的多，可以访问我的github查看代码（<a href="https://github.com/FrattiNor/vue-project/tree/master/douban-movie-api）" target="_blank" rel="noopener">https://github.com/FrattiNor/vue-project/tree/master/douban-movie-api）</a><br>因为不明白代理和反向代理以及http方面的知识，build完项目存在跨域问题，所以不能在线访问，想要查看效果请：<br>clone代码到本地<br>bash here<br>npm install<br>npm run dev来运行</p><p>因为遇到的问题太多，然后又没记住几个，遇到的问题就不多说了<br>我就讲一下收获吧</p><blockquote><p>1.vue编写html是完全的模块化的，一个vue文件就是一个木模块<br>2.模块的使用依赖export和require（import）<br>3.要在一个模块引入另一个模块要import另一个模块以及在export里用components声明组件<br>4.使用路由要在route.js中引入模块并申明组件，path，name<br>5.路由显示在router-view标签中<br>6.路由跳转可以携带参数，使用query来传递参数，this.$route.query来获取参数<br>7.import时的路径里有个“@/”指的是”src/“，”../“代表返回上一级</p></blockquote><p>最后讲一下原项目的一个bug吧，原项目在第二次搜索电影也就是在搜索结果页面搜索电影时不能返回结果。<br>原因是：原项目把返回数据的函数写在mounted里，只会执行一次，但是重新搜索后把参数再传给搜索结果页面，由于router-view的页面没有改动，所以不会再次执行mounted里的函数<br>解决办法：在watch里观察传递的参数是否改变来执行函数<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">watch: &#123;</span><br><span class="line">&quot;$route&quot;(to, from)&#123;</span><br><span class="line">xxx</span><br><span class="line">&#125;.</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure></p><p>to.query是新的参数<br>from.query是旧的参数</p><p>最后的总结：这次vue项目给我最大的收获肯定是正真对模块化的了解吧，模块化真的给人一种层次分明的感觉。</p>]]></content>
      
      
        <tags>
            
            <tag> vue </tag>
            
            <tag> vue-router </tag>
            
            <tag> vue-infinite-scroll </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Vue项目入门和vue-router部分学习</title>
      <link href="/2018/04/25/2018_4_25_1_vue%E9%A1%B9%E7%9B%AE%E5%85%A5%E9%97%A8%E5%92%8Cvue-router%E9%83%A8%E5%88%86%E5%AD%A6%E4%B9%A0/"/>
      <url>/2018/04/25/2018_4_25_1_vue%E9%A1%B9%E7%9B%AE%E5%85%A5%E9%97%A8%E5%92%8Cvue-router%E9%83%A8%E5%88%86%E5%AD%A6%E4%B9%A0/</url>
      <content type="html"><![CDATA[<p>前段时间看的vue.js，然后也写了一个小页面来练练手，总的来说不是很难，再然后，我就看到了vue项目，接触到了vue-cli，webpack等等的，于是乎就看了很久的相关文档，说真的看文档真的看的我有点难受了，看文档确实是知道了具体的代码怎么实现等等的，虽然不能全部记住，但也能记个大概了。<br>今天又看了vuex，vue-router，axios的相关文档，但都没怎么仔细看，可能最近看文档看的有点烦了吧，看不太进去，也不想把看的都写一遍下来了。</p><p>关于vuex<br>官方文档是这样介绍的：</p><blockquote><p>Vuex 是一个专为 Vue.js 应用程序开发的状态管理模式。它采用集中式存储管理应用的所有组件的状态，并以相应的规则保证状态以一种可预测的方式发生变化。Vuex 也集成到 Vue 的官方调试工具 devtools extension，提供了诸如零配置的 time-travel 调试、状态快照导入导出等高级调试功能。</p></blockquote><p>说真的完全完全完全看不懂是什么，后面讲的也不明觉厉，可能我还没到可以使用它的时候吧，跳过了。</p><p>关于vue-router<br>前面学习vue的时候在最后有接触过，明白大概的意思，就是实现单页面的跳转效果，不是跳转页面，而是重新渲染页面来实现的<br>大概有那么6个步骤：<br>1 创建组件<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">var Home = Vue.extend(&#123;</span><br><span class="line">    template: &apos;&lt;div&gt;&lt;h1&gt;Home&lt;/h1&gt;&lt;p&gt;&#123;&#123;msg&#125;&#125;&lt;/p&gt;&lt;/div&gt;&apos;,</span><br><span class="line">    data: function() &#123;</span><br><span class="line">        return &#123;</span><br><span class="line">            msg: &apos;Hello, vue router!&apos;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line">var About = Vue.extend(&#123;</span><br><span class="line">    template: &apos;&lt;div&gt;&lt;h1&gt;About&lt;/h1&gt;&lt;p&gt;This is the tutorial about vue-router.&lt;/p&gt;&lt;/div&gt;&apos;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></p><p>2 创建Router<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var router = new VueRouter()</span><br></pre></td></tr></table></figure></p><p>调用构造器VueRouter，创建一个路由器实例router。</p><p>3 映射路由<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">router.map(&#123;</span><br><span class="line">    &apos;/home&apos;: &#123; component: Home &#125;,</span><br><span class="line">    &apos;/about&apos;: &#123; component: About &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></p><p>4 使用v-link指令<br>在a元素上使用v-link指令跳转到指定路径。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class=&quot;list-group&quot;&gt;</span><br><span class="line">    &lt;a class=&quot;list-group-item&quot; v-link=&quot;&#123; path: &apos;/home&apos;&#125;&quot;&gt;Home&lt;/a&gt;</span><br><span class="line">    &lt;a class=&quot;list-group-item&quot; v-link=&quot;&#123; path: &apos;/about&apos;&#125;&quot;&gt;About&lt;/a&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure></p><p>5 使用<router-view>标签<br>在页面上使用<code>&lt;router-view&gt;&lt;/router-view&gt;</code>标签，它用于渲染匹配的组件。</router-view></p><p>6 启动路由<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var App = Vue.extend(&#123;&#125;)</span><br><span class="line">router.start(App, &apos;#app&apos;)</span><br></pre></td></tr></table></figure></p><p><strong>编写单页面的步骤</strong><br><img src="https://raw.githubusercontent.com/FrattiNor/picture/master/vue-router.png" alt="enter image description here"></p><p>router.redirect<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">router.redirect(&#123;</span><br><span class="line">    &apos;/&apos;: &apos;/home&apos;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></p><p>router.redirect方法用于为路由器定义全局的重定向规则，全局的重定向会在匹配当前路径之前执行。</p><p>后面还有 嵌套路由，具名路径 等等，我没全部看，就不列举了</p><p>关于axios<br>特色：</p><blockquote><p>浏览器端发起XMLHttpRequests请求<br>node端发起http请求<br>支持Promise API<br>拦截请求和返回<br>转化请求和返回（数据）<br>取消请求<br>自动转化json数据<br>客户端支持抵御XSRF（跨站请求伪造）</p></blockquote><p>具体的我也没仔细看，大概就是发起http请求以及获取结果吧。。。</p><hr><p>说真的看了这么多，都不知道应该写在哪，vue-cli创建的项目令我无从下手，不过今天总算是找到了最最基础的教程了，才知道原来是在app.vue文件下操作的。。。<br>这是一个慕课网的视频，讲的很基础，我也不知道讲的好不好，反正至少我知道vue的项目应该从哪下手了，也算是非常的有收获吧<br>视频网址：<a href="http://www.imooc.com/learn/694" target="_blank" rel="noopener">http://www.imooc.com/learn/694</a><br>然后我跟着做了一个todo list的小项目（可能也说不上是个项目吧。。）<br>怎么做的我就不多讲了，视频里讲的还算挺清楚的了<br>最后附上todolist的内容：<br>app.vue<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div id=&quot;app&quot;&gt;</span><br><span class="line">    &lt;p&gt;&#123;&#123;title&#125;&#125;&lt;/p&gt;</span><br><span class="line">    &lt;input type=&quot;text&quot; v-model=&quot;newItem&quot; v-on:keyup.enter=&quot;addNew&quot; /&gt;</span><br><span class="line">    &lt;li v-for=&quot;item in items&quot; v-bind:class=&quot;&#123;finished:item.isFinished&#125;&quot;&gt;&#123;&#123;item.label&#125;&#125;&lt;/li&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import store from &quot;./storage.js&quot;</span><br><span class="line">export default &#123;</span><br><span class="line">  data: function() &#123;</span><br><span class="line">  return&#123;</span><br><span class="line">    title: &quot;this is a todo list&quot;,</span><br><span class="line">    items: store.fetch(),</span><br><span class="line">    newItem: &quot;&quot;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    addNew: function()&#123;</span><br><span class="line">      this.items.push(&#123;</span><br><span class="line">        label: this.newItem,</span><br><span class="line">        isFinished: false</span><br><span class="line">      &#125;);</span><br><span class="line">      this.newItem = &quot;&quot;;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  watch: &#123;</span><br><span class="line">    items: &#123;</span><br><span class="line">      handler:function(val,oldval)&#123;</span><br><span class="line">        store.save(this.items)</span><br><span class="line">      &#125;,</span><br><span class="line">      deep: true</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">.finished&#123;</span><br><span class="line">  color: red;</span><br><span class="line">&#125;</span><br><span class="line">#app &#123;</span><br><span class="line">  font-family: &apos;Avenir&apos;, Helvetica, Arial, sans-serif;</span><br><span class="line">  -webkit-font-smoothing: antialiased;</span><br><span class="line">  -moz-osx-font-smoothing: grayscale;</span><br><span class="line">  text-align: center;</span><br><span class="line">  color: #2c3e50;</span><br><span class="line">  margin-top: 60px;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure></p><p>storage.js<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">// const STORAGE_KEY = &quot;todo-vue.js&quot;</span><br><span class="line">// export default &#123;</span><br><span class="line">//     fetch() &#123;</span><br><span class="line">//         return JOSN.parse(window.localStorage.getItem(STORAGE_KEY) || &quot;[]&quot;)</span><br><span class="line">//     &#125;,</span><br><span class="line">//     save(items) &#123;</span><br><span class="line">//         window.localStorage.setItem(STORAGE_KEY,JSON.stringify(items))</span><br><span class="line">//     &#125;</span><br><span class="line">// &#125;</span><br><span class="line"></span><br><span class="line">const STORAGE_KEY=&quot;todos-vuejs&quot;</span><br><span class="line"></span><br><span class="line">export default&#123;</span><br><span class="line"></span><br><span class="line">fetch()&#123;</span><br><span class="line"></span><br><span class="line">return JSON.parse(window.localStorage.getItem(STORAGE_KEY)||&apos;[]&apos;)</span><br><span class="line"></span><br><span class="line">&#125;,</span><br><span class="line"></span><br><span class="line">save (items)&#123;</span><br><span class="line"></span><br><span class="line">window.localStorage.setItem(STORAGE_KEY,JSON.stringify(</span><br><span class="line"></span><br><span class="line">      items))</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>也可以在我的github上查看<a href="https://github.com/FrattiNor/vue-project/tree/master/my-first-vue-project" target="_blank" rel="noopener">https://github.com/FrattiNor/vue-project/tree/master/my-first-vue-project</a></p>]]></content>
      
      
        <tags>
            
            <tag> vue </tag>
            
            <tag> vue-router </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>CommonJS学习</title>
      <link href="/2018/04/24/2018_4_24_2_CommonJS%E5%AD%A6%E4%B9%A0/"/>
      <url>/2018/04/24/2018_4_24_2_CommonJS%E5%AD%A6%E4%B9%A0/</url>
      <content type="html"><![CDATA[<p>今天学习了webpack的使用，虽然一知半解，但也还算有所收获，同时了解到webpack是以commonjs的形式来书写脚本的，然后node应用也采用commonjs模块规范，所以就来学习一下commonjs</p><p>1.概述<br>每个文件就是一个模块，有自己的作用域。在一个文件里面定义的变量、函数、类，都是私有的，对其他文件不可见。<br>如果想在多个文件分享变量，必须定义为global对象的属性。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">global.warning = true;</span><br></pre></td></tr></table></figure></p><p>上面代码的warning变量，可以被所有文件读取。当然，这样写法是不推荐的。</p><p>CommonJS规范规定，每个模块内部，module变量代表当前模块。这个变量是一个对象，它的exports属性（即module.exports）是对外的接口。加载某个模块，其实是加载该模块的module.exports属性。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var x = 5;</span><br><span class="line">module.exports.x = x;</span><br></pre></td></tr></table></figure></p><p>上面代码通过module.exports输出变量x<br>require方法用于加载模块。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var example = require(&apos;./example.js&apos;);</span><br><span class="line">console.log(example.x); // 5</span><br></pre></td></tr></table></figure></p><p>CommonJS模块的特点如下:</p><blockquote><p>所有代码都运行在模块作用域，不会污染全局作用域。</p></blockquote><p>模块可以多次加载，但是只会在第一次加载时运行一次，然后运行结果就被缓存了，以后再加载，就直接读取缓存结果。要想让模块再次运行，必须清除缓存。</p><blockquote></blockquote><p>模块加载的顺序，按照其在代码中出现的顺序。</p><p>2.module对象<br>Node内部提供一个Module构建函数，所有模块都是Module的实例<br>每个模块内部，都有一个Module对象，代表当前模块，有以下属性：</p><blockquote><p>module.id 模块的识别符，通常是带有绝对路径的模块文件名。<br>module.filename 模块的文件名，带有绝对路径。<br>module.loaded 返回一个布尔值，表示模块是否已经完成加载。<br>module.parent 返回一个对象，表示调用该模块的模块。<br>module.children 返回一个数组，表示该模块要用到的其他模块。<br>module.exports 表示模块对外输出的值。</p></blockquote><p>下面是一个示例文件，最后一行输出module变量。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// example.js</span><br><span class="line">var jquery = require(&apos;jquery&apos;);</span><br><span class="line">exports.$ = jquery;</span><br><span class="line">console.log(module);</span><br></pre></td></tr></table></figure></p><p>执行这个文件，命令行会输出如下信息。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&#123; id: &apos;.&apos;,</span><br><span class="line">  exports: &#123; &apos;$&apos;: [Function] &#125;,</span><br><span class="line">  parent: null,</span><br><span class="line">  filename: &apos;/path/to/example.js&apos;,</span><br><span class="line">  loaded: false,</span><br><span class="line">  children:</span><br><span class="line">   [ &#123; id: &apos;/path/to/node_modules/jquery/dist/jquery.js&apos;,</span><br><span class="line">       exports: [Function],</span><br><span class="line">       parent: [Circular],</span><br><span class="line">       filename: &apos;/path/to/node_modules/jquery/dist/jquery.js&apos;,</span><br><span class="line">       loaded: true,</span><br><span class="line">       children: [],</span><br><span class="line">       paths: [Object] &#125; ],</span><br><span class="line">  paths:</span><br><span class="line">   [ &apos;/home/user/deleted/node_modules&apos;,</span><br><span class="line">     &apos;/home/user/node_modules&apos;,</span><br><span class="line">     &apos;/home/node_modules&apos;,</span><br><span class="line">     &apos;/node_modules&apos; ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>如果在命令行下调用某个模块，比如node something.js，那么module.parent就是null。如果是在脚本之中调用，比如require(‘./something.js’)，那么module.parent就是调用它的模块。利用这一点，可以判断当前模块是否为入口脚本。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">if (!module.parent) &#123;</span><br><span class="line">    // ran with `node something.js`</span><br><span class="line">    app.listen(8088, function() &#123;</span><br><span class="line">        console.log(&apos;app listening on port 8088&apos;);</span><br><span class="line">    &#125;)</span><br><span class="line">&#125; else &#123;</span><br><span class="line">    // used with `require(&apos;/.something.js&apos;)`</span><br><span class="line">    module.exports = app;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>2.1 module.exports属性<br>module.exports属性表示当前模块对外输出的接口，其他文件加载该模块，实际上就是读取module.exports变量。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">var EventEmitter = require(&apos;events&apos;).EventEmitter;</span><br><span class="line">module.exports = new EventEmitter();</span><br><span class="line"></span><br><span class="line">setTimeout(function() &#123;</span><br><span class="line">  module.exports.emit(&apos;ready&apos;);</span><br><span class="line">&#125;, 1000);</span><br></pre></td></tr></table></figure></p><p>上面模块会在加载后1秒后，发出ready事件。其他文件监听该事件，可以写成下面这样。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var a = require(&apos;./a&apos;);</span><br><span class="line">a.on(&apos;ready&apos;, function() &#123;</span><br><span class="line">  console.log(&apos;module a is ready&apos;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p><p>2.2 exports变量<br>为了方便，Node为每个模块提供一个exports变量，指向module.exports。<br>造成的结果是，在对外输出模块接口时，可以向exports对象添加方法。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">exports.area = function (r) &#123;</span><br><span class="line">  return Math.PI * r * r;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p><p><strong>注意，不能直接将exports变量指向一个值，因为这样等于切断了exports与module.exports的联系。</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">exports.hello = function() &#123;</span><br><span class="line">  return &apos;hello&apos;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">module.exports = &apos;Hello world&apos;;</span><br></pre></td></tr></table></figure></p><p>上面代码中，hello函数是无法对外输出的，因为module.exports被重新赋值了。</p><p>这意味着，如果一个模块的对外接口，就是一个单一的值，不能使用exports输出，只能使用module.exports输出。</p><p>如果你觉得，exports与module.exports之间的区别很难分清，一个简单的处理方法，就是放弃使用exports，只使用module.exports。</p><p>3.AMD规范与CommonJS规范的兼容性<br>CommonJS规范加载模块是同步的，也就是说，只有加载完成，才能执行后面的操作。AMD规范则是非同步加载模块，允许指定回调函数。由于Node.js主要用于服务器编程，模块文件一般都已经存在于本地硬盘，所以加载起来比较快，不用考虑非同步加载的方式，所以CommonJS规范比较适用。但是，如果是浏览器环境，要从服务器端加载模块，这时就必须采用非同步模式，因此浏览器端一般采用AMD规范。</p><blockquote><p>amd规范还没看过，再说吧</p></blockquote><p>AMD规范使用define方法定义模块<br>AMD规范允许输出的模块兼容CommonJS规范，这时define方法需要写成下面这样：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">define(function (require, exports, module)&#123;</span><br><span class="line">  var someModule = require(&quot;someModule&quot;);</span><br><span class="line">  var anotherModule = require(&quot;anotherModule&quot;);</span><br><span class="line"></span><br><span class="line">  someModule.doTehAwesome();</span><br><span class="line">  anotherModule.doMoarAwesome();</span><br><span class="line"></span><br><span class="line">  exports.asplode = function ()&#123;</span><br><span class="line">    someModule.doTehAwesome();</span><br><span class="line">    anotherModule.doMoarAwesome();</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p><p>4.require命令<br>4.1 基本用法<br>Node使用CommonJS模块规范，内置的require命令用于加载模块文件。<br>require命令的基本功能是，读入并执行一个JavaScript文件，然后返回该模块的exports对象。如果没有发现指定模块，会报错。<br>如果模块输出的是一个函数，那就不能定义在exports对象上面，而要定义在module.exports变量上面。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">//example2.js</span><br><span class="line">module.exports = function () &#123;</span><br><span class="line">  console.log(&quot;hello world&quot;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">require(&apos;./example2.js&apos;)()</span><br></pre></td></tr></table></figure></p><p>上面代码中，require命令调用自身，等于是执行module.exports，因此会输出 hello world。</p><p>4.2 加载规则<br>require命令用于加载文件，后缀名默认为.js。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var foo = require(&apos;foo&apos;);</span><br><span class="line">//  等同于</span><br><span class="line">var foo = require(&apos;foo.js&apos;);</span><br></pre></td></tr></table></figure></p><p>根据参数的不同格式，require命令去不同路径寻找模块文件。</p><blockquote><p>1）如果参数字符串以“/”开头，则表示加载的是一个位于绝对路径的模块文件。比如，require(‘/home/marco/foo.js’)将加载/home/marco/foo.js。</p></blockquote><p>（2）如果参数字符串以“./”开头，则表示加载的是一个位于相对路径（跟当前执行脚本的位置相比）的模块文件。比如，require(‘./circle’)将加载当前脚本同一目录的circle.js。</p><blockquote></blockquote><p>（3）如果参数字符串不以“./“或”/“开头，则表示加载的是一个默认提供的核心模块（位于Node的系统安装目录中），或者一个位于各级node_modules目录的已安装模块（全局安装或局部安装）。<br>举例来说，脚本/home/user/projects/foo.js执行了require(‘bar.js’)命令，Node会依次搜索以下文件。</p><blockquote><blockquote><p>/usr/local/lib/node/bar.js<br>/home/user/projects/node_modules/bar.js<br>/home/user/node_modules/bar.js<br>/home/node_modules/bar.js<br>/node_modules/bar.js</p></blockquote></blockquote><p>（4）如果参数字符串不以“./“或”/“开头，而且是一个路径，比如require(‘example-module/path/to/file’)，则将先找到example-module的位置，然后再以它为参数，找到后续路径。</p><blockquote></blockquote><p>（5）如果指定的模块文件没有发现，Node会尝试为文件名添加.js、.json、.node后，再去搜索。.js件会以文本格式的JavaScript脚本文件解析，.json文件会以JSON格式的文本文件解析，.node文件会以编译后的二进制文件解析。</p><blockquote></blockquote><p>（6）如果想得到require命令加载的确切文件名，使用require.resolve()方法。</p><p>4.3 目录的加载规则<br>通常，我们会把相关的文件会放在一个目录里面，便于组织。这时，最好为该目录设置一个入口文件，让require方法可以通过这个入口文件，加载整个目录。</p><p>在目录中放置一个package.json文件，并且将入口文件写入main字段。下面是一个例子。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">// package.json</span><br><span class="line">&#123; &quot;name&quot; : &quot;some-library&quot;,</span><br><span class="line">  &quot;main&quot; : &quot;./lib/some-library.js&quot; &#125;</span><br></pre></td></tr></table></figure></p><p>require发现参数字符串指向一个目录以后，会自动查看该目录的package.json文件，然后加载main字段指定的入口文件。如果package.json文件没有main字段，或者根本就没有package.json文件，则会加载该目录下的index.js文件或index.node文件。</p><p>4,4 模块的缓存<br>第一次加载某个模块时，Node会缓存该模块。以后再加载该模块，就直接从缓存取出该模块的module.exports属性。<br>如果想要多次执行某个模块，可以让该模块输出一个函数，然后每次require这个模块的时候，重新执行一下输出的函数。<br>所有缓存的模块保存在require.cache之中，如果想删除模块的缓存，可以像下面这样写。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">// 删除指定模块的缓存</span><br><span class="line">delete require.cache[moduleName];</span><br><span class="line"></span><br><span class="line">// 删除所有模块的缓存</span><br><span class="line">Object.keys(require.cache).forEach(function(key) &#123;</span><br><span class="line">  delete require.cache[key];</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></p><p><strong>注意，缓存是根据绝对路径识别模块的，如果同样的模块名，但是保存在不同的路径，require命令还是会重新加载该模块。</strong></p><p>4.5 环境变量NODE_PATH<br>Node执行一个脚本时，会先查看环境变量NODE_PATH。它是一组以冒号分隔的绝对路径。在其他位置找不到指定模块时，Node会去这些路径查找。</p><p>可以将NODE_PATH添加到.bashrc。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">export NODE_PATH=&quot;/usr/local/lib/node&quot;</span><br></pre></td></tr></table></figure></p><p>所以，如果遇到复杂的相对路径，比如下面这样。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var myModule = require(&apos;../../../../lib/myModule&apos;);</span><br></pre></td></tr></table></figure></p><p>有两种解决方法，一是将该文件加入node_modules目录，二是修改NODE_PATH环境变量，package.json文件可以采用下面的写法。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;name&quot;: &quot;node_path&quot;,</span><br><span class="line">  &quot;version&quot;: &quot;1.0.0&quot;,</span><br><span class="line">  &quot;description&quot;: &quot;&quot;,</span><br><span class="line">  &quot;main&quot;: &quot;index.js&quot;,</span><br><span class="line">  &quot;scripts&quot;: &#123;</span><br><span class="line">    &quot;start&quot;: &quot;NODE_PATH=lib node index.js&quot;</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;author&quot;: &quot;&quot;,</span><br><span class="line">  &quot;license&quot;: &quot;ISC&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>NODE_PATH是历史遗留下来的一个路径解决方案，通常不应该使用，而应该使用node_modules目录机制。</p><p>4.6 模块的循环加载<br>如果发生模块的循环加载，即A加载B，B又加载A，则B将加载A的不完整版本<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">// a.js</span><br><span class="line">exports.x = &apos;a1&apos;;</span><br><span class="line">console.log(&apos;a.js &apos;, require(&apos;./b.js&apos;).x);</span><br><span class="line">exports.x = &apos;a2&apos;;</span><br><span class="line"></span><br><span class="line">// b.js</span><br><span class="line">exports.x = &apos;b1&apos;;</span><br><span class="line">console.log(&apos;b.js &apos;, require(&apos;./a.js&apos;).x);</span><br><span class="line">exports.x = &apos;b2&apos;;</span><br><span class="line"></span><br><span class="line">// main.js</span><br><span class="line">console.log(&apos;main.js &apos;, require(&apos;./a.js&apos;).x);</span><br><span class="line">console.log(&apos;main.js &apos;, require(&apos;./b.js&apos;).x);</span><br></pre></td></tr></table></figure></p><p>上面代码是三个JavaScript文件。其中，a.js加载了b.js，而b.js又加载a.js。这时，Node返回a.js的不完整版本，所以执行结果如下。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ node main.js</span><br><span class="line">b.js  a1</span><br><span class="line">a.js  b2</span><br><span class="line">main.js  a2</span><br><span class="line">main.js  b2</span><br></pre></td></tr></table></figure></p><p>修改main.js，再次加载a.js和b.js。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// main.js</span><br><span class="line">console.log(&apos;main.js &apos;, require(&apos;./a.js&apos;).x);</span><br><span class="line">console.log(&apos;main.js &apos;, require(&apos;./b.js&apos;).x);</span><br><span class="line">console.log(&apos;main.js &apos;, require(&apos;./a.js&apos;).x);</span><br><span class="line">console.log(&apos;main.js &apos;, require(&apos;./b.js&apos;).x);</span><br></pre></td></tr></table></figure></p><p>执行上面代码，结果如下。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ node main.js</span><br><span class="line">b.js  a1</span><br><span class="line">a.js  b2</span><br><span class="line">main.js  a2</span><br><span class="line">main.js  b2</span><br><span class="line">main.js  a2</span><br><span class="line">main.js  b2</span><br></pre></td></tr></table></figure></p><p>上面代码中，第二次加载a.js和b.js时，会直接从缓存读取exports属性，所以a.js和b.js内部的console.log语句都不会执行了。</p><p>4.7 require.main</p><p>require方法有一个main属性，可以用来判断模块是直接执行，还是被调用执行。</p><p>直接执行的时候（node module.js），require.main属性指向模块本身。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">require.main === module</span><br><span class="line">// true</span><br></pre></td></tr></table></figure></p><p>调用执行的时候（通过require加载该脚本执行），上面的表达式返回false。</p><p>5.模块的加载机制<br>CommonJS模块的加载机制是，输入的是被输出的值的拷贝。也就是说，一旦输出一个值，模块内部的变化就影响不到这个值。请看下面这个例子。</p><p>下面是一个模块文件lib.js。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">// lib.js</span><br><span class="line">var counter = 3;</span><br><span class="line">function incCounter() &#123;</span><br><span class="line">  counter++;</span><br><span class="line">&#125;</span><br><span class="line">module.exports = &#123;</span><br><span class="line">  counter: counter,</span><br><span class="line">  incCounter: incCounter,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p><p>上面代码输出内部变量counter和改写这个变量的内部方法incCounter。</p><p>然后，加载上面的模块。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">// main.js</span><br><span class="line">var counter = require(&apos;./lib&apos;).counter;</span><br><span class="line">var incCounter = require(&apos;./lib&apos;).incCounter;</span><br><span class="line"></span><br><span class="line">console.log(counter);  // 3</span><br><span class="line">incCounter();</span><br><span class="line">console.log(counter); // 3</span><br></pre></td></tr></table></figure></p><p>上面代码说明，counter输出以后，lib.js模块内部的变化就影响不到counter了。</p><p>5.1 require的内部处理流程<br>require命令是CommonJS规范之中，用来加载其他模块的命令。它其实不是一个全局命令，而是指向当前模块的module.require命令，而后者又调用Node的内部命令Module._load。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Module._load = function(request, parent, isMain) &#123;</span><br><span class="line">  // 1. 检查 Module._cache，是否缓存之中有指定模块</span><br><span class="line">  // 2. 如果缓存之中没有，就创建一个新的Module实例</span><br><span class="line">  // 3. 将它保存到缓存</span><br><span class="line">  // 4. 使用 module.load() 加载指定的模块文件，</span><br><span class="line">  //    读取文件内容之后，使用 module.compile() 执行文件代码</span><br><span class="line">  // 5. 如果加载/解析过程报错，就从缓存删除该模块</span><br><span class="line">  // 6. 返回该模块的 module.exports</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p><p>上面的第4步，采用module.compile()执行指定模块的脚本，逻辑如下。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Module.prototype._compile = function(content, filename) &#123;</span><br><span class="line">  // 1. 生成一个require函数，指向module.require</span><br><span class="line">  // 2. 加载其他辅助方法到require</span><br><span class="line">  // 3. 将文件内容放到一个函数之中，该函数可调用 require</span><br><span class="line">  // 4. 执行该函数</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p><p>上面的第1步和第2步，require函数及其辅助方法主要如下。</p><blockquote><p>require(): 加载外部模块<br>require.resolve()：将模块名解析到一个绝对路径<br>require.main：指向主模块<br>require.cache：指向所有缓存的模块<br>require.extensions：根据文件的后缀名，调用不同的执行函数</p></blockquote><p>一旦require函数准备完毕，整个所要加载的脚本内容，就被放到一个新的函数之中，这样可以避免污染全局环境。该函数的参数包括require、module、exports，以及其他一些参数。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">(function (exports, require, module, __filename, __dirname) &#123;</span><br><span class="line">  // YOUR CODE INJECTED HERE!</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p><p>Module._compile方法是同步执行的，所以Module._load要等它执行完成，才会向用户返回module.exports的值。</p><hr><p>emmm…，总结一下吧：看了这么长的一篇关于CommonJS的规范，大概有点清楚了。</p><p>1.总之就是每个文件就一个模块，模块之间互不干扰，模块之间调用需要使用到exports和require，有点像是js里的函数，exports就像函数的返回值，require就像一个函数调用外部的函数，获得外部函数的返回值，区别也有，模块调用并改变另一个模块的值时，并不会干扰到另一个模块的内部。使用模块的好处是不会污染全局环境（emmm，并不知道什么意思）。<br>然后就是每个模块都有一个Module对象，exports和require是Module对象的属性。</p><p>2.exports用于当前模块对外输出的接口，exports和module.exports不同，exports指向module.exports。</p><p>3.require用于读入并执行一个JavaScript文件，然后返回该模块的exports对象。require加载规则，以“/”开头是绝对路径，以“./”开头是相对路径，不以“./“或”/“开头，则表示加载的是一个默认提供的核心模块。require目录加载规则，会自动查看该目录的package.json文件，然后加载main字段指定的入口文件。require加载的exports存在于缓存里，需要重新加载可以清除缓存，循环require会导致后加载会加载不完整模块，最后就是require加载机制，模块内部的变化就影响不到这个值本身。</p><p>差不多就这些吧。。。还挺乱的。</p>]]></content>
      
      
        <tags>
            
            <tag> node </tag>
            
            <tag> commonjs </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>webpack和vue-cli学习</title>
      <link href="/2018/04/24/2018_4_24_1_vue-cli%E5%92%8Cwebpack%E5%AD%A6%E4%B9%A0/"/>
      <url>/2018/04/24/2018_4_24_1_vue-cli%E5%92%8Cwebpack%E5%AD%A6%E4%B9%A0/</url>
      <content type="html"><![CDATA[<p>前几天学习了Vue.js，使用起来确实是非常的便捷，不需要自己手动的去操作DOM，只需要改变数据就能实现DOM的改变。<br>然后我搜了一下Vue相关的项目，本来是打算自己先做着试试的，结果发现完全看不懂啊，一个完整的项目涉及到的东西还是非常的多。</p><hr><p>首先我看到的就是<strong>Vue-cli</strong>，这是一个vue官方提供的vue项目的脚手架工具，emmm。。。，看不懂，脚手架工具是个什么玩意，然后我就去搜了一下vue-cli相关的知识，大概的意思应该是<strong>快捷的创建好一个vue项目模板</strong>，差不多就是一个样本，你照着修改就行了。</p><p>接下来就是要创建模板了，官方提供了2种模板使用：</p><blockquote><p>基于vue cli和browserify的项目模板<br>基于vue cli和webpack的项目模板</p></blockquote><p>emmm。。。<br>browserify是个什么东西，我还清楚，webpack呢有听说过，是个打包工具来着，所以我决定要创建webpack的项目模板</p><p>安装vue-cli脚手架工具<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install vue-cli -g</span><br></pre></td></tr></table></figure></p><p>安装webpack打包工具<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install webpack -g</span><br></pre></td></tr></table></figure></p><p>创建webpack-simple模板<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vue init webpack-simple my-webpack-simple-demo</span><br></pre></td></tr></table></figure></p><p>会产生对应的my-webpack-simple-demo项目文件夹</p><p>打开文件夹<br>文件树结构如下：</p><blockquote><p>├─.babelrc        // babel配置文件<br>├─.gitignore<br>├─index.html        // 主页<br>├─package.json        // 项目配置文件<br>├─README.md<br>├─webpack.config.js    // webpack配置文件<br>├─dist            // 发布目录<br>│   ├─.gitkeep<br>├─src            // 开发目录<br>│   ├─App.vue        // App.vue组件<br>│   ├─main.js        // 预编译入口</p></blockquote><p>。。。还是看不懂项目里的都是些啥，我只知道<br>index.html 是首页<br>README.md 是展示的makedown文件<br>package.josn 是json文件具体什么用也不清楚<br>其他一概不知，一个完整的项目东西也太多了，和做一个单独的网页配上css和js完全不一样</p><p>所以大概还得一样一样学过来</p><p>那么既然这个是基于vue-cli和webpack的项目模板，所以就先从webpack学起吧！</p><p>跟着别人的教程走吧</p><p>首先webpack是什么<br>1.一个打包工具<br>2.一个模块加载工具<br>3.各种资源都可以当成模块来处理</p><blockquote><p>emmm。。。，说真的，每次学新的东西的时候，都是看着这种很专业的术语来学习真的是非常的不明觉厉啊，前面看git命令的时候也是一样，所以还是先看后面的例子吧</p></blockquote><p>对于模块的组织，通常有如下几种方法：<br>1.通过书写在不同的文件中，使用script标签进行加载</p><blockquote><p>这个是我目前会的那种。。。</p></blockquote><p>2.CommonJS进行加载（NodeJS就是使用这种方式）</p><blockquote><p>CommonJS又是什么，nodejs还没开始看呢。。</p></blockquote><p>3.AMD进行加载（require.js使用这种方式）</p><blockquote><p>emmm…</p></blockquote><p>4.ES6模块</p><blockquote><p>es6也没怎么看</p></blockquote><p>算了，慢慢来吧</p><p>webpack的特点</p><p>1.丰富的插件，方便进行开发工作<br>2.大量的加载器，包括加载各种静态资源<br>3.代码分割，提供按需加载的能力<br>4.发布工具</p><p>webpack的优势<br>1.webpack 是以 commonJS 的形式来书写脚本滴，但对 AMD/CMD 的支持也很全面，方便旧项目进行代码迁移。<br>2.能被模块化的不仅仅是 JS 了。<br>3.开发便捷，能替代部分 grunt/gulp 的工作，比如打包、压缩混淆、图片转base64等。<br>4.扩展性强，插件机制完善，特别是支持 React 热插拔（见 react-hot-loader ）的功能让人眼前一亮。</p><blockquote><p>大概是意思就是我要使用webpack还得先去学CommonJS</p></blockquote><p>ok！开始webpack的例子了<br>还是实际的代码比较容易理解</p><p>安装webpack，前面安装过了</p><p>使用webpack<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm init # 会自动生成一个package.json文件</span><br><span class="line">npm install webpack --save-dev #将webpack增加到package.json文件中</span><br></pre></td></tr></table></figure></p><p>如果要安装开发工具<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install webpack-dev-server --save-dev</span><br></pre></td></tr></table></figure></p><p>webpack的配置<br>每个项目下都必须配置有一个webpack.config.js，它的作用如同常规的gulpfile.js/Gruntfile.js，就是一个配置项，告诉webpack他需要做什么<br>下面是个例子<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">var webpack = require(&apos;webpack&apos;);</span><br><span class="line">var commonsPlugin = new webpack.optimize.CommonsChunkPlugin(&apos;common.js&apos;);</span><br><span class="line">module.exports = &#123;</span><br><span class="line">    //插件项</span><br><span class="line">    plugins: [commonsPlugin],</span><br><span class="line">    //页面入口文件配置</span><br><span class="line">    entry: &#123;</span><br><span class="line">        index : &apos;./src/js/page/index.js&apos;</span><br><span class="line">    &#125;,</span><br><span class="line">    //入口文件输出配置</span><br><span class="line">    output: &#123;</span><br><span class="line">        path: &apos;dist/js/page&apos;,</span><br><span class="line">        filename: &apos;[name].js&apos;</span><br><span class="line">    &#125;,</span><br><span class="line">    module: &#123;</span><br><span class="line">        //加载器配置</span><br><span class="line">        loaders: [</span><br><span class="line">            &#123; test: /\.css$/, loader: &apos;style-loader!css-loader&apos; &#125;,</span><br><span class="line">            &#123; test: /\.js$/, loader: &apos;jsx-loader?harmony&apos; &#125;,</span><br><span class="line">            &#123; test: /\.scss$/, loader: &apos;style!css!sass?sourceMap&apos;&#125;,</span><br><span class="line">            &#123; test: /\.(png|jpg)$/, loader: &apos;url-loader?limit=8192&apos;&#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;,</span><br><span class="line">    //其它解决方案配置</span><br><span class="line">    resolve: &#123;</span><br><span class="line">        //查找module的话从这里开始查找</span><br><span class="line">        root: &apos;E:/github/flux-example/src&apos;, //绝对路径</span><br><span class="line">        //自动扩展文件后缀名，意味着我们require模块可以省略不写后缀名</span><br><span class="line">        extensions: [&apos;&apos;, &apos;.js&apos;, &apos;.json&apos;, &apos;.scss&apos;],</span><br><span class="line">        //模块别名定义，方便后续直接引用别名，无须多写长长的地址</span><br><span class="line">        alias: &#123;</span><br><span class="line">            AppStore : &apos;js/stores/AppStores.js&apos;,</span><br><span class="line">            ActionType : &apos;js/actions/ActionType.js&apos;,</span><br><span class="line">            AppAction : &apos;js/actions/AppAction.js&apos;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p><p>plugins 是插件项，这里我们使用了一个CommonsChunkPlugin的插件，它用于提取多个入口文件的公共脚本部分，然后生成一个common.js来方便多页面之间进行复用<br>entry 是页面的入口文件配置，output是对应的输出配置文件<br>（既入口文件最终要生成什么名字的文件，存放在哪里）<br>module.loaders 是最关键的一块配置，它告诉webpack每种文件都需要使用什么加载器来处理。加载器需要使用npm来加载<br>resolve模块 是查找模块的路径和扩展名和别名</p><p>webpack开始使用<br>1.正确安装webpack<br>2.书写entry.js文件<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">document.write(&quot;entry&quot;);</span><br></pre></td></tr></table></figure></p><p>3.书写index.html<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;html&gt;</span><br><span class="line"> &lt;head&gt;</span><br><span class="line"> &lt;meta charset=&quot;utf-8&quot;&gt;</span><br><span class="line"> &lt;/head&gt;</span><br><span class="line"> &lt;body&gt;</span><br><span class="line"> &lt;script type=&quot;text/javascript&quot; src=&quot;bundle.js&quot; charset=&quot;utf-8&quot;&gt;&lt;/script&gt;</span><br><span class="line"> &lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure></p><p>4.执行命令，生成bundle.js<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ webpack ./entry.js bundle.js</span><br></pre></td></tr></table></figure></p><p>5.打开html文件，显示entry<br>6.增加content.js文件<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">module.exports = &quot;content&quot;</span><br></pre></td></tr></table></figure></p><p>7.修改entry.js<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">document.write(require(&quot;./content.js&quot;));</span><br></pre></td></tr></table></figure></p><p>8.打开html文件，显示content<br>9.增加css.css文件<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">body&#123;</span><br><span class="line">background:yellow;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>10.修改entry.js<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">require(&quot;!style-loader!css-loader!./style.css&quot;);</span><br><span class="line">document.write(require(&quot;./content.js&quot;));</span><br></pre></td></tr></table></figure></p><p>11.执行命令，安装加载器<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install css-loader style-loader</span><br></pre></td></tr></table></figure></p><p>12.执行webpack命令<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ webpack ./entry.js bundle.js --module-bind &quot;css=style-loader!css-loader&quot;</span><br></pre></td></tr></table></figure></p><p>14.打开html文件，显示背景黄色<br>15.使用配置文件<br>默认配置文件为webpack.config.js<br>增加webpack.config.js文件<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">module.exports = &#123;</span><br><span class="line">    entry: &quot;./entry.js&quot;,</span><br><span class="line">    output: &#123;</span><br><span class="line">        path: __dirname,</span><br><span class="line">        filename: &quot;bundle.js&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    module: &#123;</span><br><span class="line">        loaders: [</span><br><span class="line">            &#123; test: /\.css$/, loader: &quot;style-loader!css-loader&quot; &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p><p>执行命令<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ webpack</span><br></pre></td></tr></table></figure></p><p>16.发布服务器<br>安装服务器<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ npm install webpack-dev-server -g</span><br><span class="line">$ webpack-dev-server --progress --colors</span><br></pre></td></tr></table></figure></p><p>服务器可以自动生成和刷新，修改代码保持后自动更新画面<br><a href="http://localhost:8080/webpack-dev-server/bundle" target="_blank" rel="noopener">http://localhost:8080/webpack-dev-server/bundle</a></p><p>17.webpack常用命令<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ webpack --display-error-details</span><br></pre></td></tr></table></figure></p><p>后面的参数“–display-error-details”是推荐加上的，方便出错时能查阅更详尽的信息（比如 webpack 寻找模块的过程），从而更好定位到问题。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ webpack --config XXX.js //使用另一份配置文件（比如webpack.config2.js）来打包</span><br><span class="line">$ webpack --watch //监听变动并自动打包</span><br><span class="line">$ webpack -p //压缩混淆脚本，这个非常非常重要！</span><br><span class="line">$ webpack -d //生成map映射文件，告知哪些模块被最终打包到哪里了</span><br></pre></td></tr></table></figure></p><p>总结一下吧：vue-cli是脚手架工具，用来创建vue项目模板，webpack是打包工具，总的来说就是把多个文件打包成一个文件，不仅仅是js文件，静态资源也可以打包，学习webpack有那么一点感觉，但又很模糊，先到这里吧。</p>]]></content>
      
      
        <tags>
            
            <tag> webpack </tag>
            
            <tag> vue-cli </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>js数组函数</title>
      <link href="/2018/04/21/2018_4_21_2_%E6%95%B0%E7%BB%84%E5%87%BD%E6%95%B0/"/>
      <url>/2018/04/21/2018_4_21_2_%E6%95%B0%E7%BB%84%E5%87%BD%E6%95%B0/</url>
      <content type="html"><![CDATA[<blockquote><p>push：将参数添加到原数组末尾，并返回数组的长度   </p><p>concat：返回一个新数组，是将参数添加到原数组中构成的   </p><p>splice(start,deleteCount,val1,val2,…)：从start位置开始删除deleteCount项，并从该位置起插入val1,val2,…   </p><p>reverse：将数组反序   </p><p>sort(orderfunction)：按指定的参数对数组进行排序   </p><p>slice(start,end)：返回从原数组中指定开始下标到结束下标之间的项组成的新数组 </p></blockquote><p>实例：  </p><p>1、数组的创建<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var arrayObj = new Array();　//创建一个数组  </span><br><span class="line">var arrayObj = new Array([size]);　//创建一个数组并指定长度，注意不是上限，是长度  </span><br><span class="line">var arrayObj = new Array([element0[, element1[, ...[, elementN]]]]);　创建一个数组并赋值</span><br></pre></td></tr></table></figure></p><blockquote><p>要说明的是，虽然第二种方法创建数组指定了长度，但实际上所有情况下数组都是变长的，也就是说即使指定了长度为5，仍然可以将元素存储在规定长度以外的，注意：这时长度会随之改变。  </p></blockquote><p>2、数组的元素的访问<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var testGetArrValue=arrayObj[1]; //获取数组的元素值  </span><br><span class="line">arrayObj[1]= &quot;这是新值&quot;; //给数组元素赋予新的值</span><br></pre></td></tr></table></figure></p><p>3、数组元素的添加  </p><blockquote><p>arrayObj. push([item1 [item2 [. . . [itemN ]]]]);// 将一个或多个新元素添加到数组结尾，并返回数组新长度<br>arrayObj.unshift([item1 [item2 [. . . [itemN ]]]]);// 将一个或多个新元素添加到数组开始，数组中的元素自动后移，返回数组新长度<br>arrayObj.splice(insertPos,0,[item1[, item2[, . . . [,itemN]]]]);//将一个或多个新元素插入到数组的指定位置，插入位置的元素自动后移，返回””。  </p></blockquote><p>4、数组元素的删除<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">arrayObj.pop(); //移除最后一个元素并返回该元素值  </span><br><span class="line">arrayObj.shift(); //移除最前一个元素并返回该元素值，数组中元素自动前移  </span><br><span class="line">arrayObj.splice(deletePos,deleteCount); //删除从指定位置deletePos开始的指定数量deleteCount的元素，数组形式返回所移除的元素</span><br></pre></td></tr></table></figure></p><p>5、数组的截取和合并  </p><blockquote><p>arrayObj.slice(start, [end]); //以数组的形式返回数组的一部分，注意不包括 end 对应的元素，如果省略 end 将复制 start 之后的所有元素<br>arrayObj.concat([item1[, item2[, . . . [,itemN]]]]); //将多个数组（也可以是字符串，或者是数组和字符串的混合）连接为一个数组，返回连接好的新的数组  </p></blockquote><p>6、数组的拷贝<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">arrayObj.slice(0); //返回数组的拷贝数组，注意是一个新的数组，不是指向  </span><br><span class="line">arrayObj.concat(); //返回数组的拷贝数组，注意是一个新的数组，不是指向</span><br></pre></td></tr></table></figure></p><p>7、数组元素的排序<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">arrayObj.reverse(); //反转元素（最前的排到最后、最后的排到最前），返回数组地址  </span><br><span class="line">arrayObj.sort(); //对数组元素排序，返回数组地址</span><br></pre></td></tr></table></figure></p><p>8、数组元素的字符串化<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">arrayObj.join(separator); //返回字符串，这个字符串将数组的每一个元素值连接在一起，中间用 separator 隔开。  </span><br><span class="line">toLocaleString 、toString 、valueOf：可以看作是join的特殊用法，不常用</span><br></pre></td></tr></table></figure></p>]]></content>
      
      
        <tags>
            
            <tag> javascript </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>vue小练习_图书管理</title>
      <link href="/2018/04/21/2018_4_21_1_vue%E7%BB%83%E4%B9%A0_%E5%9B%BE%E4%B9%A6%E7%AE%A1%E7%90%86/"/>
      <url>/2018/04/21/2018_4_21_1_vue%E7%BB%83%E4%B9%A0_%E5%9B%BE%E4%B9%A6%E7%AE%A1%E7%90%86/</url>
      <content type="html"><![CDATA[<p>这个是最后完成的样子<br><a href="https://frattinor.github.io/practice/Vue练习_图书管理" target="_blank" rel="noopener">demo</a></p><p>昨天学习看完了基本的Vue.js的知识点，今天开始做一些vue小练习</p><p>小练习目标：</p><blockquote><p>实现动态渲染html页面的图书<br>实现图书的添加和删除</p></blockquote><p>差不多就这样吧，<br>这个练习刚刚看到是时候还是觉得挺简单的，但是实际写起来就是觉得无从下手，大概是刚刚看完vue吧，没办法直接使用。<br>所以我就先写了html和css<br>大概这样吧<br><img src="https://raw.githubusercontent.com/FrattiNor/picture/master/picture_2.png" alt="Alt text"></p><p>接下来就是写js了</p><p>我的想法如下:<br>1 写一个vue实例vm对应图书的div<br>2 在vm里写一个books数组，数组里写图书的信息，<br>3 然后在html里通过v-for渲染<br>4 然后创建一个对象（newBook），然后给newBook写上书名（bookName），作者（author），价格（price）等属性<br>5 给删除按钮写删除对应行的函数（del），写在methods里<br>6 添加书籍里的书名，作者，价格用v-model对应起newBook.bookName，newBook.author，newBook.price。<br>7 给添加按钮写添加函数（add）</p><p>大概的想法是这样的</p><p>然后我开始实现我的想法<br>遇到了很多问题，这大概就是第一使用vue吧</p><p>遇到的问题如下:<br>1 js文件里的vue实例或在html属性里写错，可能会导致实例对应的DOM元素直接消失。我接二连三的遇到这个问题，一直不知道错在哪，然后就浪费了很多时间，比如v-model=”newbook.bookname”这个大小写问题，我一直没有发现</p><blockquote><p>解决办法：不要写错咯</p></blockquote><p>2 在写del函数的时候没办法删除对应行，暂时还不知道怎么解决，不过同时也学会了一个新的js的数组操作函数<strong>Array.splice(x,y)</strong>x对应的是数组的位置，y是要删除的数量，想到解决办法我会写上去的。</p><blockquote><p>解决办法：目前的想法是在渲染的时候给button添加一个index属性，来确定是哪一行<br>前面的想法不知道可不可行，我给books添加了index属性，我是用event.target确定当前button的，但是target.index不能使用，所以我把button的index属性改为了id属性，通过target.id确定是数组的哪个位置，然后把删除掉数组对应的位置<br>不过只是删除数组元素还是会产生问题，就是删除一个元素后，会打乱原来的index，产生断层，所以还要在del函数里给数组对应位置后面的所有对象的index都减一，才能保证index不会产生断层。</p></blockquote><p>3 在写add函数的时候，遇到这样一个问题，就是把newBook对象通过push函数添加进books数组里的时候，我再改变newBook对象的属性，books数组里对应的位置也会发生改变，这大概就是响应式吧，原来还会这样的。</p><blockquote><p>解决办法：在add函数里重新let一个对象，把newBook的属性全部copy一份给新对象，然后把新对象push进数组就没有这个问题了</p></blockquote><p>4 在写add函数的时候，还有遇到了一个问题，就是明明我在data里申明了newBook这个对象，但是在push的时候使用this.books.push(newBook)时报错说newBook没有申明，后来我想了想，大概是newBook不是全局变量的原因吧</p><blockquote><p>解决办法：使用时要用this.newBook，this代表当前实例</p></blockquote><p>最后附上我的代码<br>index.html（html）<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;book&quot;&gt;</span><br><span class="line">        &lt;table&gt;</span><br><span class="line">            &lt;thead&gt;</span><br><span class="line">                &lt;tr&gt;&lt;td&gt;书名&lt;/td&gt;&lt;td&gt;作者&lt;/td&gt;&lt;td&gt;价格&lt;/td&gt;&lt;td&gt;操作&lt;/td&gt;&lt;/tr&gt;</span><br><span class="line">            &lt;/thead&gt;</span><br><span class="line">            &lt;tbody&gt;</span><br><span class="line">                &lt;tr  v-for=&quot;book in books&quot;&gt;</span><br><span class="line">                    &lt;td&gt;&#123;&#123; book.bookName &#125;&#125;&lt;/td&gt;</span><br><span class="line">                    &lt;td&gt;&#123;&#123; book.author &#125;&#125;&lt;/td&gt;</span><br><span class="line">                    &lt;td&gt;&#123;&#123; book.price &#125;&#125;&lt;/td&gt;</span><br><span class="line">                    &lt;td&gt;&lt;button v-bind:id=&quot;book.index&quot; v-on:click=&quot;del&quot;&gt;删除&lt;/button&gt;&lt;/td&gt;</span><br><span class="line">                &lt;/tr&gt;</span><br><span class="line">            &lt;/tbody&gt;</span><br><span class="line">        &lt;/table&gt;</span><br><span class="line">        &lt;p&gt;添加书籍&lt;/p&gt;</span><br><span class="line">        &lt;label&gt;书名&lt;/label&gt;</span><br><span class="line">        &lt;input v-model=&quot;bookName&quot; type=&quot;text&quot; /&gt;</span><br><span class="line">        &lt;label&gt;作者&lt;/label&gt;</span><br><span class="line">        &lt;input v-model=&quot;author&quot; type=&quot;text&quot; /&gt;</span><br><span class="line">        &lt;label&gt;价格&lt;/label&gt;</span><br><span class="line">        &lt;input v-model.number=&quot;price&quot; type=&quot;number&quot; /&gt;</span><br><span class="line">        &lt;button v-on:click=&quot;add&quot;&gt;添加&lt;/button&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &lt;script src=&quot;js/myjs.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure></p><p>mycss.css（css）<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br></pre></td><td class="code"><pre><span class="line">*&#123;</span><br><span class="line">    margin: 0;</span><br><span class="line">    padding: 0;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">html,body&#123;</span><br><span class="line">    width: 100%;</span><br><span class="line">    height: 100%;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#book&#123;</span><br><span class="line">    width: 100%;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">h1&#123;</span><br><span class="line">    margin: 20px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">div&#123;</span><br><span class="line">    margin: 20px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">table&#123;</span><br><span class="line">    width: 95%;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">tr&#123;</span><br><span class="line">    width: 100%;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">td&#123;</span><br><span class="line">    width: 25%;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">td,table&#123;</span><br><span class="line">    border-collapse: collapse;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">thead td&#123;</span><br><span class="line">    font-weight:bold;</span><br><span class="line">    font-size: 18px;</span><br><span class="line">    height: 30px;</span><br><span class="line">    border-bottom: 2px solid #ddd;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">tbody td&#123;</span><br><span class="line">    padding-bottom: 10px;</span><br><span class="line">    font-size: 13px;</span><br><span class="line">    height: 40px;</span><br><span class="line">    border-top: 1px solid #ddd;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">label&#123;</span><br><span class="line">    /*display: block;*/</span><br><span class="line">    font-weight:bold;</span><br><span class="line">    /*margin: 5px 0;*/</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">p&#123;</span><br><span class="line">    margin: 20px 0 10px 0;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">input::-webkit-outer-spin-button,</span><br><span class="line">input::-webkit-inner-spin-button &#123;</span><br><span class="line">    -webkit-appearance: none !important;</span><br><span class="line">    margin: 0;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">input[type=&quot;text&quot;],input[type=&quot;number&quot;]&#123;</span><br><span class="line">    display: block;</span><br><span class="line">    margin: 3px 0 10px 0;</span><br><span class="line">    width: 95%;</span><br><span class="line">    padding: 8px;</span><br><span class="line">    border-radius: 4px;</span><br><span class="line">    border: 1px solid #ddd;</span><br><span class="line">    outline:none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">input[type=&quot;text&quot;]:focus,input[type=&quot;number&quot;]:focus&#123;</span><br><span class="line">    border: 1px solid #3af;</span><br><span class="line">    box-shadow: 0 0 10px 1px #ddd;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">button&#123;</span><br><span class="line">    background-color: #3E74B5;</span><br><span class="line">    border: 1px solid #3868A3;</span><br><span class="line">    padding: 7px 14px;</span><br><span class="line">    border-radius: 4px;</span><br><span class="line">    color: #fff;</span><br><span class="line">    outline: none;</span><br><span class="line">&#125;</span><br><span class="line">button:hover&#123;</span><br><span class="line">    background-color:#325C8F;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>myjs.js（js）<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line">var vm = new Vue(&#123;</span><br><span class="line">    el: &quot;#book&quot;,</span><br><span class="line">    data: &#123;</span><br><span class="line">        bookName:&quot;&quot;,</span><br><span class="line">        author:&quot;&quot;,</span><br><span class="line">        price:&quot;&quot;,</span><br><span class="line">        index: &quot;3&quot;,</span><br><span class="line">        books: [</span><br><span class="line">            &#123;</span><br><span class="line">                bookName: &quot;红楼梦&quot;,</span><br><span class="line">                author: &quot;曹雪芹&quot;,</span><br><span class="line">                price: &quot;32&quot;,</span><br><span class="line">                index: &quot;0&quot;</span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                bookName: &quot;水浒传&quot;,</span><br><span class="line">                author: &quot;施耐庵&quot;,</span><br><span class="line">                price: &quot;30&quot;,</span><br><span class="line">                index: &quot;1&quot;</span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                bookName: &quot;三国演义&quot;,</span><br><span class="line">                author: &quot;罗贯中&quot;,</span><br><span class="line">                price: &quot;24&quot;,</span><br><span class="line">                index: &quot;2&quot;</span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                bookName: &quot;西游记&quot;,</span><br><span class="line">                author: &quot;吴承恩&quot;,</span><br><span class="line">                price: &quot;20&quot;,</span><br><span class="line">                index: &quot;3&quot;</span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">        del: function(event)&#123;</span><br><span class="line">            let tar = event.target;</span><br><span class="line">            this.books.splice(tar.id,1);</span><br><span class="line">            for(let i = tar.id;i &lt; this.index;i++)&#123;</span><br><span class="line">                this.books[i].index--;</span><br><span class="line">            &#125;</span><br><span class="line">            this.index--;</span><br><span class="line">        &#125;,</span><br><span class="line">        add: function()&#123;</span><br><span class="line">            this.index++;</span><br><span class="line">            let newBook = new Object();</span><br><span class="line">            newBook.bookName = this.bookName;</span><br><span class="line">            newBook.author = this.author;</span><br><span class="line">            newBook.price = this.price;</span><br><span class="line">            newBook.index = this.index;</span><br><span class="line">            if(newBook.bookName == &quot;&quot;)&#123;</span><br><span class="line">                alert(&quot;书名为空&quot;);</span><br><span class="line">                return;</span><br><span class="line">            &#125;</span><br><span class="line">            if(newBook.author == &quot;&quot;)&#123;</span><br><span class="line">                alert(&quot;作者为空&quot;);</span><br><span class="line">                return;</span><br><span class="line">            &#125;</span><br><span class="line">            this.books.push(newBook);</span><br><span class="line">            this.bookName = &quot;&quot;;</span><br><span class="line">            this.author = &quot;&quot;;</span><br><span class="line">            this.price = &quot;&quot;;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></p><p>最后总结一下吧：<br>1.vue的响应式渲染确实非常的好用，改变实例的属性就能动态渲染html页面<br>2.我还不太熟悉vue的写法，经常漏写逗号，写多了就好<br>3.今天还知道了一些新的数组函数，过会我把今天看的数组函数都列一下吧<br>4.总的来说vue还是非常便利的</p>]]></content>
      
      
        <tags>
            
            <tag> vue </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>javascript闭包问题</title>
      <link href="/2018/04/20/2018_4_20_5_Javascript%E9%97%AD%E5%8C%85%E9%97%AE%E9%A2%98/"/>
      <url>/2018/04/20/2018_4_20_5_Javascript%E9%97%AD%E5%8C%85%E9%97%AE%E9%A2%98/</url>
      <content type="html"><![CDATA[<p>闭包这个问题，其实是我一直没有搞懂的，到现在为止也没有，但是我很早之前就遇到过闭包的问题，当时要给多个li绑定事件，为了方便我使用了for循环一个一个的给每个li绑定事件，但是，结果发现只有最后一个li绑定了事件，这个问题一直困扰着我，后来问了学长才知道，这个是闭包问题。后来用了立即执行函数才解决问题<br>直到现在我也不太明白闭包到底是个什么东西，但大概有个概念<br>就是变量作用域的问题，在函数外面访问不到函数内部变量，函数内部可以访问函数外部的变量，从而导致了闭包问题的产生<br>那么要怎么样才能在访问函数内部的变量呢，这里就是闭包的概念了，在函数内部写一个函数，当然能访问到函数的变量，然后再将变量做为返回值，这样函数外部就能访问到函数内部的变量了。。。。emmm，大概是这么个意思吧。</p><p>前面是我个人对闭包的简单理解</p><hr><p>下面是借鉴dalao对闭包的理解:</p><blockquote><p>我的理解是，闭包就是能够读取其他函数内部变量的函数。</p><p>由于在Javascript语言中，只有函数内部的子函数才能读取局部变量，因此可以把闭包简单理解成”定义在一个函数内部的函数”。</p><p>所以，在本质上，闭包就是将函数内部和函数外部连接起来的一座桥梁。</p><p>闭包可以用在许多地方。它的最大用处有两个，一个是前面提到的可以读取函数内部的变量，另一个就是让这些变量的值始终保持在内存中。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">function f1()&#123;</span><br><span class="line"></span><br><span class="line">　　　　var n=999;</span><br><span class="line"></span><br><span class="line">　　　　nAdd=function()&#123;n+=1&#125;</span><br><span class="line"></span><br><span class="line">　　　　function f2()&#123;</span><br><span class="line">　　　　　　alert(n);</span><br><span class="line">　　　　&#125;</span><br><span class="line"></span><br><span class="line">　　　　return f2;</span><br><span class="line"></span><br><span class="line">　　&#125;</span><br><span class="line"></span><br><span class="line">　　var result=f1();</span><br><span class="line"></span><br><span class="line">　　result(); // 999</span><br><span class="line"></span><br><span class="line">　　nAdd();</span><br><span class="line"></span><br><span class="line">　　result(); // 1000</span><br></pre></td></tr></table></figure></p></blockquote><blockquote><p>在这段代码中，result实际上就是闭包f2函数。它一共运行了两次，第一次的值是999，第二次的值是1000。这证明了，函数f1中的局部变量n一直保存在内存中，并没有在f1调用后被自动清除。</p><p>为什么会这样呢？原因就在于f1是f2的父函数，而f2被赋给了一个全局变量，这导致f2始终在内存中，而f2的存在依赖于f1，因此f1也始终在内存中，不会在调用结束后，被垃圾回收机制（garbage collection）回收。</p><p>这段代码中另一个值得注意的地方，就是”nAdd=function(){n+=1}”这一行，首先在nAdd前面没有使用var关键字，因此nAdd是一个全局变量，而不是局部变量。其次，nAdd的值是一个匿名函数（anonymous function），而这个匿名函数本身也是一个闭包，所以nAdd相当于是一个setter，可以在函数外部对函数内部的局部变量进行操作。</p><p><strong>使用闭包的注意点</strong><br>1）由于闭包会使得函数中的变量都被保存在内存中，内存消耗很大，所以不能滥用闭包，否则会造成网页的性能问题，在IE中可能导致内存泄露。解决方法是，在退出函数之前，将不使用的局部变量全部删除。</p><p>2）闭包会在父函数外部，改变父函数内部变量的值。所以，如果你把父函数当作对象（object）使用，把闭包当作它的公用方法（Public Method），把内部变量当作它的私有属性（private value），这时一定要小心，不要随便改变父函数内部变量的值。</p></blockquote>]]></content>
      
      
        <tags>
            
            <tag> javascript </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>git 基本命令</title>
      <link href="/2018/04/20/2018_4_20_4_git%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4/"/>
      <url>/2018/04/20/2018_4_20_4_git%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4/</url>
      <content type="html"><![CDATA[<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git init</span><br></pre></td></tr></table></figure><p>本地创建git仓库</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git remote add origin https://github.com/xxxxxx/xxxxx.git</span><br></pre></td></tr></table></figure><p>关联本地仓库到对应的github仓库</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git add 文件名/文件夹名</span><br></pre></td></tr></table></figure><p>添加文件到本地仓库</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git commit -m &quot;形容这次操作&quot;</span><br></pre></td></tr></table></figure><p>提交信息</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push origin master</span><br></pre></td></tr></table></figure><p>上传到github仓库</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git rm -r --cached idea</span><br></pre></td></tr></table></figure><p>删除本地仓库的idea文件，cached不会删除本地文件，去掉会删除本地文件</p><p>我目前就知道这么多</p><hr><p>然后今天还看见了一个比较全面的git命令表格</p><p>我就照搬过来了</p><p>个人本地使用</p><table><thead><tr><th style="text-align:center">行为</th><th style="text-align:center">命令</th><th style="text-align:center">备注</th></tr></thead><tbody><tr><td style="text-align:center">初始化</td><td style="text-align:center">init</td><td style="text-align:center">在本地的当前目录里初始化git仓库</td></tr><tr><td style="text-align:center"></td><td style="text-align:center">clone https://….</td><td style="text-align:center">从网络上某个地址拷贝仓库(repository)到本地</td></tr><tr><td style="text-align:center">查看当前状态</td><td style="text-align:center">status</td><td style="text-align:center">查看当前仓库的状态。碰到问题不知道怎么办的时候，可以通过看它给出的提示来解决问题</td></tr><tr><td style="text-align:center">查看不同</td><td style="text-align:center">diff</td><td style="text-align:center">查看当前状态和最新的commit之间不同的地方</td></tr><tr><td style="text-align:center">添加文件</td><td style="text-align:center">add -A</td><td style="text-align:center">这算是相当通用的了。在commit之前要先add</td></tr><tr><td style="text-align:center">撤回stage的东西</td><td style="text-align:center">checkout - - .</td><td style="text-align:center">这里用小数点表示撤回所有修改，在- -的前后都有空格</td></tr><tr><td style="text-align:center">提交</td><td style="text-align:center">commit -m “提交信息”</td><td style="text-align:center">提交信息最好能体现更改了什么</td></tr><tr><td style="text-align:center">删除未tracked</td><td style="text-align:center">clean -xf</td><td style="text-align:center">删除当前目录下所有没有track过的文件。不管它是否是.gitignore文件里面指定的文件夹和文件</td></tr><tr><td style="text-align:center">查看提交记录</td><td style="text-align:center">log</td><td style="text-align:center">查看当前版本及之前的commit记录</td></tr><tr><td style="text-align:center"></td><td style="text-align:center">reflog</td><td style="text-align:center">HEAD的变更记录</td></tr><tr><td style="text-align:center">版本回退</td><td style="text-align:center">reset –hard 版本号</td><td style="text-align:center">回退到指定版本号的版本，该版本之后的修改都被删除。同时也是通过这个命令回到最新版本。需要reflog配合</td></tr></tbody></table><p>个人使用远程仓库</p><table><thead><tr><th style="text-align:center">行为</th><th style="text-align:center">命令</th><th style="text-align:center">备注</th></tr></thead><tbody><tr><td style="text-align:center">设置用户名</td><td style="text-align:center">config - -global user.name “你的用户名”</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">设置邮箱</td><td style="text-align:center">config - -global user.email “你的邮箱”</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">生成ssh key</td><td style="text-align:center">ssh-keygen -t rsa -C “你的邮箱”</td><td style="text-align:center">这条命令前面不用加git</td></tr><tr><td style="text-align:center">添加远程仓库</td><td style="text-align:center">remote add origin 你复制的地址</td><td style="text-align:center">设置origin</td></tr><tr><td style="text-align:center">上传并指定默认</td><td style="text-align:center">push -u origin master</td><td style="text-align:center">指定origin为默认主机，以后push默认上传到origin上</td></tr><tr><td style="text-align:center">提交到远程仓库</td><td style="text-align:center">push</td><td style="text-align:center">将当前分支增加的commit提交到远程仓库</td></tr><tr><td style="text-align:center">从远程仓库同步</td><td style="text-align:center">pull</td><td style="text-align:center">在本地版本低于远程仓库版本的时候，获取远程仓库的commit</td></tr></tbody></table>]]></content>
      
      
        <tags>
            
            <tag> git </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>github 创建本地仓库以及上传到github仓库</title>
      <link href="/2018/04/20/2018_4_20_3_github%E5%88%9B%E5%BB%BA%E6%9C%AC%E5%9C%B0%E4%BB%93%E5%BA%93%E4%BB%A5%E5%8F%8A%E4%B8%8A%E4%BC%A0%E5%88%B0github%E4%BB%93%E5%BA%93/"/>
      <url>/2018/04/20/2018_4_20_3_github%E5%88%9B%E5%BB%BA%E6%9C%AC%E5%9C%B0%E4%BB%93%E5%BA%93%E4%BB%A5%E5%8F%8A%E4%B8%8A%E4%BC%A0%E5%88%B0github%E4%BB%93%E5%BA%93/</url>
      <content type="html"><![CDATA[<blockquote><p>1 注册github账号</p><p>2 新建仓库</p><p>3 安装git</p><p>4 打开Git Bash，输入以下命令生成密钥来验证身份<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -C &apos;your@email.address&apos; -t rsa</span><br></pre></td></tr></table></figure></p></blockquote><p>之后会要求输入密码，输入正确后<br>会在windows当前用户目录下生成.ssh文件夹</p><blockquote><p>5 把文件夹下的id_rsa.pub文件内容全部复制</p><p>6 然后打开github账户设置</p><p>7 打开ssh keys，右上角点击add ssh key，key栏粘贴刚才的密钥。</p><p>8 在你想要文件夹下打开Git Bash，输入<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git init</span><br></pre></td></tr></table></figure></p></blockquote><blockquote><p>会在文件夹下创建.git文件夹（隐藏的）</p><p>9 添加单个文件（test.txt）本地仓库<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git add test.txt</span><br></pre></td></tr></table></figure></p></blockquote><blockquote><p>10 把添加的文件提交到仓库<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git commit -m &quot;add test.txt&quot;</span><br></pre></td></tr></table></figure></p></blockquote><blockquote><p>命令行引号里面是我们用来描述这次操作，方便以后我们查记录的时候能清楚这次操作主要修改</p></blockquote><p>到这里本地仓库已经完成了</p><blockquote><p>最后提交到github仓库<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git remote add origin https://github.com/xxxxxx/xxxxx.git</span><br><span class="line">git push origin master</span><br></pre></td></tr></table></figure></p></blockquote><p>完成</p>]]></content>
      
      
        <tags>
            
            <tag> github </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Vue.js 学习总结</title>
      <link href="/2018/04/20/2018_4_20_2_Vue.js%E5%AD%A6%E4%B9%A0%E6%80%BB%E7%BB%93/"/>
      <url>/2018/04/20/2018_4_20_2_Vue.js%E5%AD%A6%E4%B9%A0%E6%80%BB%E7%BB%93/</url>
      <content type="html"><![CDATA[<p>已经学习了基本的Vue.js<br>我来总结一下具体学了什么<br>我把Vue.js分成几类<br>1<code>Vue实例</code></p><blockquote><p>Vue实例写在js文件里<br>Vue实例有以下的属性</p><blockquote><p>el：<br>对应具体的DOM</p><p>data：<br>写实例的变量</p><p>methods：<br>写实例的函数</p><p>computed：<br>写实例的计算属性（计算属性类似methods，区别是 computed 是基于它的依赖缓存，只有相关依赖发生改变时才会重新取值。而使用 methods ，在重新渲染的时候，函数总会重新调用执行）</p><p>watch：<br>给对应的实例变量写回调函数，在变量发生改变时触发</p></blockquote></blockquote><p>暂时只学习了这些属性</p><hr><p>Vue实例有以下的方法</p><blockquote><p>vm.\$watch( expOrFn, callback, [options] )：<br>对应watch，再实例变量发生改变时触发，回调函数得到的参数为新值和旧值。</p><p>vm.\$set( target, key, value )：<br>这是全局 Vue.set 的别名。设置对象的属性。</p><p>vm.\$delete：<br>这是全局 Vue.delete 的别名。删除对象的属性。</p><p>vm.\$on( event, callback )：<br>给实例绑定一个自定义事件。</p><p>vm.\$once( event, callback )：<br>给实例绑定一个自定义事件，但是只触发一次，在第一次触发之后移除监听器。</p><p>vm.\$off( [event, callback] )：<br>移除自定义事件监听器。</p><p>vm.\$emit( event, […args] )：<br>触发当前实例上的事件。附加参数都会传给监听器回调。</p></blockquote><p>暂时只学习了这些方法</p><hr><p>Vue实例的生命周期</p><p>关于Vue的生命周期我还是不太理解，所以就先放上dalao的解释了</p><blockquote><p>Vue实例有一个完整的生命周期，也就是从开始创建、初始化数据、编译模板、挂载Dom、渲染→更新→渲染、卸载等一系列过程，我们称这是Vue的生命周期。<br>在这些事件响应方法中的this直接指向的是vue的实例。<br><img src="https://raw.githubusercontent.com/FrattiNor/new-project/master/picture_1.png" alt="Alt text"></p></blockquote><blockquote><p>Vue提供的可以注册的钩子：</p><blockquote><p>beforeCreate<br>在实例初始化之后，数据观测(data observer) 和 event/watcher 事件配置之前被调用。</p><p>created<br>实例已经创建完成之后被调用。在这一步，实例已完成以下的配置：数据观测(data observer)，属性和方法的运算， watch/event 事件回调。然而，挂载阶段还没开始，\$el 属性目前不可见。</p><p>beforeMount<br>在挂载开始之前被调用：相关的 render 函数首次被调用。</p><p>mounted<br>el 被新创建的 vm.\$el 替换，并挂载到实例上去之后调用该钩子。如果 root 实例挂载了一个文档内元素，当 mounted 被调用时 vm.\$el 也在文档内。</p><p>beforeUpdate<br>数据更新时调用，发生在虚拟 DOM 重新渲染和打补丁之前。 你可以在这个钩子中进一步地更改状态，这不会触发附加的重渲染过程。</p><p>updated<br>由于数据更改导致的虚拟 DOM 重新渲染和打补丁，在这之后会调用该钩子。<br>当这个钩子被调用时，组件 DOM 已经更新，所以你现在可以执行依赖于 DOM 的操作。然而在大多数情况下，你应该避免在此期间更改状态，因为这可能会导致更新无限循环。<br>该钩子在服务器端渲染期间不被调用。</p><p>beforeDestroy<br>实例销毁之前调用。在这一步，实例仍然完全可用。</p><p>destroyed<br>Vue 实例销毁后调用。调用后，Vue 实例指示的所有东西都会解绑定，所有的事件监听器会被移除，所有的子实例也会被销毁。 该钩子在服务器端渲染期间不被调用。</p></blockquote></blockquote><p>2<code>Vue指令</code></p><blockquote><p>指令：是带有V-前缀的特殊属性，通过属性来操作元素<br>Vue基本指令</p><blockquote><p>v-text:<br>在元素当中插入值,只能是文本<br>v-html:<br>在元素不中不仅可以插入文本，还可以插入标签</p><p>v-if<br>根据表达式的true或false来动态插入和移除元素（代码注释）</p><p>v-show<br>根据表达式的true或false来隐藏和显示元素（css：display:none）</p><p>v-for<br>根据变量的值来循环渲染元素（用法类似for in）</p><p>v-on<br>监听元素事件，并执行相应的操作（相当于给元素添加监听器）<br>v-on 缩写（v-on:click  ==  @click）</p><p>v-bind<br>给元素绑定属性，可以添加表达式动态的判断是否添加<br>v-bind 缩写（v-bind:href  ==  :href）</p><p>v-model<br>实现了数据和视图的双向绑定<br>分成了3步：<br> 1）把元素的值和数据相绑定<br> 2）当输入内容时，数据同步发生变化，视图  —数据的驱动<br> 3）当改变数据时，输入内容也会发生变化，数据 -&gt; 视图的驱动</p><p>自定义指令<br>通过directive来注册指令，可以注册全局指令和局部指令</p></blockquote></blockquote><p>Vue指令除了可以添加表示式，还可以添加修饰符</p><blockquote><p>Vue.js 为 v-on 提供了 事件修饰符</p><blockquote><p>.stop<br>阻止事件冒泡</p><p>.prevent<br>不再重载页面</p><p>.capture<br>添加事件侦听器时使用时间捕获模式</p><p>.self<br>只当事件在该元素本身（而不是子元素）触发时触发回调</p><p>.once<br>事件只能点击一次</p></blockquote></blockquote><p>修饰符例子如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">&lt;!-- 阻止单击事件冒泡 --&gt;</span><br><span class="line">&lt;a v-on:click.stop=&quot;doThis&quot;&gt;&lt;/a&gt;</span><br><span class="line">&lt;!-- 提交事件不再重载页面 --&gt;</span><br><span class="line">&lt;form v-on:submit.prevent=&quot;onSubmit&quot;&gt;&lt;/form&gt;</span><br><span class="line">&lt;!-- 修饰符可以串联  --&gt;</span><br><span class="line">&lt;a v-on:click.stop.prevent=&quot;doThat&quot;&gt;&lt;/a&gt;</span><br><span class="line">&lt;!-- 只有修饰符 --&gt;</span><br><span class="line">&lt;form v-on:submit.prevent&gt;&lt;/form&gt;</span><br><span class="line">&lt;!-- 添加事件侦听器时使用时间捕获模式 --&gt;</span><br><span class="line">&lt;div v-on:click.capture=&quot;doThis&quot;&gt;...&lt;/div&gt;</span><br><span class="line">&lt;!-- 只当事件在该元素本身（而不是子元素）触发时触发回调 --&gt;</span><br><span class="line">&lt;div v-on:click.self=&quot;doThat&quot;&gt;...&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- click 事件只能点击一次，2.1.4版本新增 --&gt;</span><br><span class="line">&lt;a v-on:click.once=&quot;doThis&quot;&gt;&lt;/a&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure><blockquote><p>按键修饰符<br>v-on:keyup.13=”submit”<br>只有在 keyCode 是 13 时调用 vm.submit()</p></blockquote><p>因为记住全部按键太难了，所以Vue提供了按键别名</p><blockquote><p>全部的按键别名：</p><blockquote><p>.enter<br>.tab<br>.delete (捕获 “删除” 和 “退格” 键)<br>.esc<br>.space<br>.up<br>.down<br>.left<br>.right<br>.ctrl<br>.alt<br>.shift<br>.meta</p></blockquote></blockquote><p>3<code>其他</code><br>Vue除了实例和指令外，还有一些其他的知识点</p><blockquote><p>3.1 数据绑定最常见的形式就是使用 &#123;&#123;…&#125;&#125;（双大括号）的文本插值：</p><p>3.2 Vue组件<br>组件可以扩展 HTML 元素，封装可重用的代码。</p></blockquote><p>我个人对组件的看法是类似于DOM元素的东西，通俗的讲就是HTMl的标签</p><blockquote><p>component可以用来注册组件，可以注册全局组件和局部组件<br>父组件的数据需要通过 props 把数据传给子组件，子组件需要显式地用 props 选项声明 “prop”：<br><strong>注意: prop 是单向绑定的：当父组件的属性变化时，将传导给子组件，但是不会反过来。</strong><br>但如果子组件要把数据传递回去，就需要使用自定义事件！<br>我们可以使用 v-on 绑定自定义事件</p><p>3.3 Vue.js 路由<br>通过 Vue.js 可以实现多视图的单页Web应用（single page web application，SPA）。<br>Vue.js 路由需要载入 vue-router 库</p></blockquote><p>暂时应该就学了这些东西。。。以后学的再补充吧。</p>]]></content>
      
      
        <tags>
            
            <tag> vue </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Vue.js 学习（四）</title>
      <link href="/2018/04/20/2018_4_20_1_Vue.js%E5%AD%A6%E4%B9%A0%EF%BC%88%E5%9B%9B%EF%BC%89/"/>
      <url>/2018/04/20/2018_4_20_1_Vue.js%E5%AD%A6%E4%B9%A0%EF%BC%88%E5%9B%9B%EF%BC%89/</url>
      <content type="html"><![CDATA[<p>14<code>Vue.js 自定义指令</code></p><blockquote><p>Vue 允许注册自定义指令。<br>指令（v-model v-show 等。。）<br>使用 directives 来注册指令<br>我们也可以在实例使用 directives 选项来注册局部指令，这样指令只能在这个实例中使用<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">    &lt;p&gt;页面载入时，input 元素自动获取焦点：&lt;/p&gt;</span><br><span class="line">    &lt;input v-focus&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"> </span><br><span class="line">&lt;script&gt;</span><br><span class="line">// 注册一个全局自定义指令 v-focus</span><br><span class="line">Vue.directive(&apos;focus&apos;, &#123;</span><br><span class="line">  // 当绑定元素插入到 DOM 中。</span><br><span class="line">  inserted: function (el) &#123;</span><br><span class="line">    // 聚焦元素</span><br><span class="line">    el.focus()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line">// 创建根实例</span><br><span class="line">new Vue(&#123;</span><br><span class="line">  el: &apos;#app&apos;</span><br><span class="line">&#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></p></blockquote><blockquote><p>钩子函数<br>bind: 只调用一次，指令第一次绑定到元素时调用，用这个钩子函数可以定义一个在绑定时执行一次的初始化动作。<br>inserted: 被绑定元素插入父节点时调用（父节点存在即可调用，不必存在于 document 中）。<br>update: 被绑定元素所在的模板更新时调用，而不论绑定值是否变化。通过比较更新前后的绑定值，可以忽略不必要的模板更新（详细的钩子函数参数见下）。<br>componentUpdated: 被绑定元素所在模板完成一次更新周期时调用。<br>unbind: 只调用一次， 指令与元素解绑时调用。</p></blockquote><blockquote><p>钩子函数参数<br>el: 指令所绑定的元素，可以用来直接操作 DOM 。<br>binding: 一个对象，包含以下属性：</p><blockquote><p>name: 指令名，不包括 v- 前缀。<br>value: 指令的绑定值， 例如： v-my-directive=”1 + 1”, value 的值是 2。<br>oldValue: 指令绑定的前一个值，仅在 update 和 componentUpdated 钩子中可用。无论值是否改变都可用。<br>expression: 绑定值的字符串形式。 例如 v-my-directive=”1 + 1” ， expression 的值是 “1 + 1”。<br>arg: 传给指令的参数。例如 v-my-directive:foo， arg 的值是 “foo”。<br>modifiers: 一个包含修饰符的对象。 例如： v-my-directive.foo.bar, 修饰符对象 modifiers 的值是 { foo: true, bar: true }。</p></blockquote></blockquote><blockquote><p>vnode: Vue 编译生成的虚拟节点。<br>oldVnode: 上一个虚拟节点，仅在 update 和 componentUpdated 钩子中可用。</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;  v-runoob:hello.a.b=&quot;message&quot;&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"> </span><br><span class="line">&lt;script&gt;</span><br><span class="line">Vue.directive(&apos;runoob&apos;, &#123;</span><br><span class="line">  bind: function (el, binding, vnode) &#123;</span><br><span class="line">    var s = JSON.stringify</span><br><span class="line">    el.innerHTML =</span><br><span class="line">      &apos;name: &apos;       + s(binding.name) + &apos;&lt;br&gt;&apos; +</span><br><span class="line">      &apos;value: &apos;      + s(binding.value) + &apos;&lt;br&gt;&apos; +</span><br><span class="line">      &apos;expression: &apos; + s(binding.expression) + &apos;&lt;br&gt;&apos; +</span><br><span class="line">      &apos;argument: &apos;   + s(binding.arg) + &apos;&lt;br&gt;&apos; +</span><br><span class="line">      &apos;modifiers: &apos;  + s(binding.modifiers) + &apos;&lt;br&gt;&apos; +</span><br><span class="line">      &apos;vnode keys: &apos; + Object.keys(vnode).join(&apos;, &apos;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line">new Vue(&#123;</span><br><span class="line">  el: &apos;#app&apos;,</span><br><span class="line">  data: &#123;</span><br><span class="line">    message: &apos;xxxx!&apos;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><blockquote><p>有时候我们不需要其他钩子函数，我们可以简写函数<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Vue.directive(&apos;runoob&apos;, function (el, binding) &#123;</span><br><span class="line">  // 设置指令的背景颜色</span><br><span class="line">  el.style.backgroundColor = binding.value.color</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></p></blockquote><p>总结：Vue支持写自定义函数，同样也是响应式的函数，根据参数的变化而变化。具体的还不太清楚。</p><p>15<code>Vue.js 路由</code></p><blockquote><p>Vue.js 路由允许我们通过不同的 URL 访问不同的内容。<br>通过 Vue.js 可以实现多视图的单页Web应用（single page web application，SPA）。<br>Vue.js 路由需要载入 vue-router 库<br>Vue.js + vue-router 可以很简单的实现单页应用。</p></blockquote><p>html<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;script src=&quot;https://unpkg.com/vue/dist/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script src=&quot;https://unpkg.com/vue-router/dist/vue-router.js&quot;&gt;&lt;/script&gt;</span><br><span class="line"> </span><br><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">  &lt;h1&gt;Hello App!&lt;/h1&gt;</span><br><span class="line">  &lt;p&gt;</span><br><span class="line">    &lt;!-- 使用 router-link 组件来导航. --&gt;</span><br><span class="line">    &lt;!-- 通过传入 `to` 属性指定链接. --&gt;</span><br><span class="line">    &lt;!-- &lt;router-link&gt; 默认会被渲染成一个 `&lt;a&gt;` 标签 --&gt;</span><br><span class="line">    &lt;router-link to=&quot;/foo&quot;&gt;Go to Foo&lt;/router-link&gt;</span><br><span class="line">    &lt;router-link to=&quot;/bar&quot;&gt;Go to Bar&lt;/router-link&gt;</span><br><span class="line">  &lt;/p&gt;</span><br><span class="line">  &lt;!-- 路由出口 --&gt;</span><br><span class="line">  &lt;!-- 路由匹配到的组件将渲染在这里 --&gt;</span><br><span class="line">  &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure></p><p>js<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">// 0. 如果使用模块化机制编程，導入Vue和VueRouter，要调用 Vue.use(VueRouter)</span><br><span class="line"> </span><br><span class="line">// 1. 定义（路由）组件。</span><br><span class="line">// 可以从其他文件 import 进来</span><br><span class="line">const Foo = &#123; template: &apos;&lt;div&gt;foo&lt;/div&gt;&apos; &#125;</span><br><span class="line">const Bar = &#123; template: &apos;&lt;div&gt;bar&lt;/div&gt;&apos; &#125;</span><br><span class="line"> </span><br><span class="line">// 2. 定义路由</span><br><span class="line">// 每个路由应该映射一个组件。 其中&quot;component&quot; 可以是</span><br><span class="line">// 通过 Vue.extend() 创建的组件构造器，</span><br><span class="line">// 或者，只是一个组件配置对象。</span><br><span class="line">// 我们晚点再讨论嵌套路由。</span><br><span class="line">const routes = [</span><br><span class="line">  &#123; path: &apos;/foo&apos;, component: Foo &#125;,</span><br><span class="line">  &#123; path: &apos;/bar&apos;, component: Bar &#125;</span><br><span class="line">]</span><br><span class="line"> </span><br><span class="line">// 3. 创建 router 实例，然后传 `routes` 配置</span><br><span class="line">// 你还可以传别的配置参数, 不过先这么简单着吧。</span><br><span class="line">const router = new VueRouter(&#123;</span><br><span class="line">  routes // （缩写）相当于 routes: routes</span><br><span class="line">&#125;)</span><br><span class="line"> </span><br><span class="line">// 4. 创建和挂载根实例。</span><br><span class="line">// 记得要通过 router 配置参数注入路由，</span><br><span class="line">// 从而让整个应用都有路由功能</span><br><span class="line">const app = new Vue(&#123;</span><br><span class="line">  router</span><br><span class="line">&#125;).$mount(&apos;#app&apos;)</span><br><span class="line"> </span><br><span class="line">// 现在，应用已经启动了！</span><br></pre></td></tr></table></figure></p><p>总结：Vue.js路由很好理解，就是本来是多页面的网页，可以通过单页来实现，根据点击的router-link的url不同，在下面router-view处会渲染不同的页面来实现单页面跳转效果。<br>还有就是使用起来可能有点小困难吧。。。意思很好理解，实际操作应该不简单</p><p>到这里基础的Vue.js已经学完了，感觉上和以前学JQuery没什么差别，感觉上就是看了的，基本都看懂了，但是实际使用起来就是无从下手的感觉，总感觉看了跟没有看一样，所以还是找点Vue的练习做做吧。。。</p>]]></content>
      
      
        <tags>
            
            <tag> vue </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>关于事件冒泡和事件捕获（二）</title>
      <link href="/2018/04/19/2018_4_19_5_%E5%85%B3%E4%BA%8E%E4%BA%8B%E4%BB%B6%E5%86%92%E6%B3%A1%E5%92%8C%E4%BA%8B%E4%BB%B6%E6%8D%95%E8%8E%B7%EF%BC%88%E4%BA%8C%EF%BC%89/"/>
      <url>/2018/04/19/2018_4_19_5_%E5%85%B3%E4%BA%8E%E4%BA%8B%E4%BB%B6%E5%86%92%E6%B3%A1%E5%92%8C%E4%BA%8B%E4%BB%B6%E6%8D%95%E8%8E%B7%EF%BC%88%E4%BA%8C%EF%BC%89/</url>
      <content type="html"><![CDATA[<p>附上今天看见的非常形象的事件冒泡代码<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;title&gt;Title&lt;/title&gt;</span><br><span class="line">    &lt;script type=&quot;text/javascript&quot; src=&quot;https://cdn.jsdelivr.net/vue/2.1.3/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">    &lt;style&gt;</span><br><span class="line">        * &#123;</span><br><span class="line">              box-sizing: border-box;</span><br><span class="line">              margin: 0;</span><br><span class="line">              padding: 20px;</span><br><span class="line">              transition: background 800ms;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            ul &#123;</span><br><span class="line">              height: 100%;</span><br><span class="line">              list-style: none;</span><br><span class="line">              background: hsl(193, 66%, 85%);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            li &#123;</span><br><span class="line">              height: 100%;</span><br><span class="line">              background: hsl(193, 66%, 95%);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            .highlight &#123;</span><br><span class="line">              background: red;</span><br><span class="line">            &#125;</span><br><span class="line">    &lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">  &lt;ul @click=&quot;callback($event)&quot;&gt;</span><br><span class="line">    &lt;li @click=&quot;callback($event)&quot;&gt;One&lt;/li&gt;</span><br><span class="line">    &lt;ul @click=&quot;callback($event)&quot;&gt;</span><br><span class="line">      &lt;li @click=&quot;callback($event)&quot;&gt;Two&lt;/li&gt;</span><br><span class="line">      &lt;ul @click=&quot;callback($event)&quot;&gt;</span><br><span class="line">        &lt;li @click=&quot;callback($event)&quot;&gt;Three. Click Me!!!&lt;/li&gt;</span><br><span class="line">      &lt;/ul&gt;</span><br><span class="line">    &lt;/ul&gt;</span><br><span class="line">  &lt;/ul&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    var pause = 200;</span><br><span class="line">    new Vue(&#123;</span><br><span class="line">      el: &quot;#app&quot;,</span><br><span class="line"></span><br><span class="line">      methods: &#123;</span><br><span class="line">        callback(event) &#123;</span><br><span class="line">          var ms = event.timeout = (event.timeout + pause) || 0;</span><br><span class="line">          var target = event.currentTarget;</span><br><span class="line"></span><br><span class="line">          console.log(target);</span><br><span class="line"></span><br><span class="line">          setTimeout(function() &#123;</span><br><span class="line">            target.classList.add(&apos;highlight&apos;);</span><br><span class="line">            setTimeout(function() &#123;</span><br><span class="line">              target.classList.remove(&apos;highlight&apos;);</span><br><span class="line">            &#125;, pause);</span><br><span class="line">          &#125;, ms);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure></p>]]></content>
      
      
        <tags>
            
            <tag> javascript </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>关于事件冒泡和事件捕获</title>
      <link href="/2018/04/19/2018_4_19_4_%E5%85%B3%E4%BA%8E%E4%BA%8B%E4%BB%B6%E5%86%92%E6%B3%A1%E5%92%8C%E4%BA%8B%E4%BB%B6%E6%8D%95%E8%8E%B7/"/>
      <url>/2018/04/19/2018_4_19_4_%E5%85%B3%E4%BA%8E%E4%BA%8B%E4%BB%B6%E5%86%92%E6%B3%A1%E5%92%8C%E4%BA%8B%E4%BB%B6%E6%8D%95%E8%8E%B7/</url>
      <content type="html"><![CDATA[<p>今天在学习Vue,js时接触到了事件修饰符.capture，意思为<strong>添加事件侦听器时使用事件捕获模式</strong>，不太明白，所以搜索了一下捕获模式，才明白原来是事件冒泡和事件捕获，虽然很早之前就已经接触过事件冒泡和事件捕获，但是一直都是一个很模糊的概念，没有去了解过，所以这次我就好好的了解了一下关于事件冒泡和事件捕获</p><blockquote><p>事件冒泡：即事件由子元素向祖先元素传播<br>事件捕获：即事件由祖先元素向子元素传播<br>要说明的是在<strong>IE</strong>浏览器和<strong>opera</strong>浏览器中，是不存在这个阶段的。</p><p>addEventListener(type,fn,boolean)，前面两个参数不用解释，第三个参数boolean，就是决定注册事件发生在捕 获阶段还是冒泡阶段，具体参考如下：<br>true : 捕获阶段<br>false : 冒泡阶段</p><p>在默认情况下，发生在一个子元素上的单击事件（或者其他事件），如果在其父级元素绑定了一个同样的事件，此时点击子元素，click事件会首先被子元素捕获，执行绑定的事件程序，之后会被父级元素捕获，再次激发一段脚本的执行，这就是所谓的“事件冒泡”。</p></blockquote><p>我个人的理解所谓的事件冒泡和事件捕获就是事件发生的顺序，冒泡是从小向大发生，也就是先子元素发生事件，再父元素发生事件，捕获则相反，一般来说，事件冒泡比较多，我个人接触的也都是事件冒泡，以前遇到过事件冒泡相关的问题，就是子元素触发了事件，父元素也同样触发了事件，因为都绑定了click事件，只要给子元素的事件添加阻止冒泡即可<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">event.stopPropagation()</span><br></pre></td></tr></table></figure></p><p>event.stopPropagation()方法<br>这是阻止事件的冒泡方法，不让事件向documen上蔓延，但是默认事件任然会执行<br>event.preventDefault()方法<br>这是阻止默认事件的方法<br>return false ；<br>这个方法比较暴力，他会同事阻止事件冒泡也会阻止默认事件</p>]]></content>
      
      
        <tags>
            
            <tag> javascript </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Vue.js 学习（三）</title>
      <link href="/2018/04/19/2018_4_19_3_Vue.js%E5%AD%A6%E4%B9%A0%EF%BC%88%E4%B8%89%EF%BC%89/"/>
      <url>/2018/04/19/2018_4_19_3_Vue.js%E5%AD%A6%E4%B9%A0%EF%BC%88%E4%B8%89%EF%BC%89/</url>
      <content type="html"><![CDATA[<p>11<code>Vue.js 事件处理器</code></p><blockquote><p>事件监听可以使用 v-on 指令<br>通常情况下，我们需要使用一个方法来调用 JavaScript 方法。<br>v-on 可以接收一个定义的方法来调用。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">   &lt;!-- `greet` 是在下面定义的方法名 --&gt;</span><br><span class="line">  &lt;button v-on:click=&quot;greet&quot;&gt;Greet&lt;/button&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">var app = new Vue(&#123;</span><br><span class="line">  el: &apos;#app&apos;,</span><br><span class="line">  data: &#123;</span><br><span class="line">    name: &apos;Vue.js&apos;</span><br><span class="line">  &#125;,</span><br><span class="line">  // 在 `methods` 对象中定义方法</span><br><span class="line">  methods: &#123;</span><br><span class="line">    greet: function (event) &#123;</span><br><span class="line">      // `this` 在方法里指当前 Vue 实例</span><br><span class="line">      alert(&apos;Hello &apos; + this.name + &apos;!&apos;)</span><br><span class="line">      // `event` 是原生 DOM 事件</span><br><span class="line">      if (event) &#123;</span><br><span class="line">          alert(event.target.tagName)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line">// 也可以用 JavaScript 直接调用方法</span><br><span class="line">app.greet() // -&gt; &apos;Hello Vue.js!&apos;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></p></blockquote><blockquote><p>除了直接绑定到一个方法，也可以用内联 JavaScript 语句<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">  &lt;button v-on:click=&quot;say(&apos;hi&apos;)&quot;&gt;Say hi&lt;/button&gt;</span><br><span class="line">  &lt;button v-on:click=&quot;say(&apos;what&apos;)&quot;&gt;Say what&lt;/button&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">new Vue(&#123;</span><br><span class="line">  el: &apos;#app&apos;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    say: function (message) &#123;</span><br><span class="line">      alert(message)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></p></blockquote><blockquote><p><strong>事件修饰符</strong><br>Vue.js 为 v-on 提供了事件修饰符来处理 DOM 事件细节，如：event.preventDefault() 或 event.stopPropagation()。<br>Vue.js通过由点(.)表示的指令后缀来调用修饰符。<br>.stop<br>.prevent<br>.capture<br>.self<br>.once<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 阻止单击事件冒泡 --&gt;</span><br><span class="line">&lt;a v-on:click.stop=&quot;doThis&quot;&gt;&lt;/a&gt;</span><br><span class="line">&lt;!-- 提交事件不再重载页面 --&gt;</span><br><span class="line">&lt;form v-on:submit.prevent=&quot;onSubmit&quot;&gt;&lt;/form&gt;</span><br><span class="line">&lt;!-- 修饰符可以串联  --&gt;</span><br><span class="line">&lt;a v-on:click.stop.prevent=&quot;doThat&quot;&gt;&lt;/a&gt;</span><br><span class="line">&lt;!-- 只有修饰符 --&gt;</span><br><span class="line">&lt;form v-on:submit.prevent&gt;&lt;/form&gt;</span><br><span class="line">&lt;!-- 添加事件侦听器时使用事件捕获模式 --&gt;</span><br><span class="line">&lt;div v-on:click.capture=&quot;doThis&quot;&gt;...&lt;/div&gt;</span><br><span class="line">&lt;!-- 只当事件在该元素本身（而不是子元素）触发时触发回调 --&gt;</span><br><span class="line">&lt;div v-on:click.self=&quot;doThat&quot;&gt;...&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- click 事件只能点击一次，2.1.4版本新增 --&gt;</span><br><span class="line">&lt;a v-on:click.once=&quot;doThis&quot;&gt;&lt;/a&gt;</span><br></pre></td></tr></table></figure></p></blockquote><blockquote><p><strong>按键修饰符</strong><br>Vue 允许为 v-on 在监听键盘事件时添加按键修饰符<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 只有在 keyCode 是 13 时调用 vm.submit() --&gt;</span><br><span class="line">&lt;input v-on:keyup.13=&quot;submit&quot;&gt;</span><br></pre></td></tr></table></figure></p></blockquote><blockquote><p>记住所有的 keyCode 比较困难，所以 Vue 为最常用的按键提供了别名：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 同上 --&gt;</span><br><span class="line">&lt;input v-on:keyup.enter=&quot;submit&quot;&gt;</span><br><span class="line">&lt;!-- 缩写语法 --&gt;</span><br><span class="line">&lt;input @keyup.enter=&quot;submit&quot;&gt;</span><br></pre></td></tr></table></figure></p></blockquote><blockquote><p><strong>全部的按键别名：</strong><br>.enter<br>.tab<br>.delete (捕获 “删除” 和 “退格” 键)<br>.esc<br>.space<br>.up<br>.down<br>.left<br>.right<br>.ctrl<br>.alt<br>.shift<br>.meta</p></blockquote><p>总结：v-on就像是onclick一样，可以在DOM元素的属性里给DOM添加方法，当然一个DOM对应一个vue实例，对应的function得是vue实例里的。</p><p>12<code>Vue.js 表单</code></p><blockquote><p>你可以用 v-model 指令在表单控件元素上创建双向数据绑定。<br>v-model 会根据控件类型自动选取正确的方法来更新元素。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;input v-model=&quot;message&quot; placeholder=&quot;单行文本输入……&quot;&gt;</span><br><span class="line">&lt;textarea v-model=&quot;message2&quot; placeholder=&quot;多行文本输入……&quot;&gt;&lt;/textarea&gt;</span><br></pre></td></tr></table></figure></p></blockquote><blockquote><p>复选框<br>复选框如果是一个为逻辑值，如果是多个则绑定到同一个数组<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">  &lt;p&gt;单个复选框：&lt;/p&gt;</span><br><span class="line">  &lt;input type=&quot;checkbox&quot; id=&quot;checkbox&quot; v-model=&quot;checked&quot;&gt;</span><br><span class="line">  &lt;label for=&quot;checkbox&quot;&gt;&#123;&#123; checked &#125;&#125;&lt;/label&gt;</span><br><span class="line"></span><br><span class="line">  &lt;p&gt;多个复选框：&lt;/p&gt;</span><br><span class="line">  &lt;input type=&quot;checkbox&quot; id=&quot;runoob&quot; value=&quot;Runoob&quot; v-model=&quot;checkedNames&quot;&gt;</span><br><span class="line">  &lt;label for=&quot;runoob&quot;&gt;Runoob&lt;/label&gt;</span><br><span class="line">  &lt;input type=&quot;checkbox&quot; id=&quot;google&quot; value=&quot;Google&quot; v-model=&quot;checkedNames&quot;&gt;</span><br><span class="line">  &lt;label for=&quot;google&quot;&gt;Google&lt;/label&gt;</span><br><span class="line">  &lt;input type=&quot;checkbox&quot; id=&quot;taobao&quot; value=&quot;Taobao&quot; v-model=&quot;checkedNames&quot;&gt;</span><br><span class="line">  &lt;label for=&quot;taobao&quot;&gt;taobao&lt;/label&gt;</span><br><span class="line">  &lt;br&gt;</span><br><span class="line">  &lt;span&gt;选择的值为: &#123;&#123; checkedNames &#125;&#125;&lt;/span&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">new Vue(&#123;</span><br><span class="line">  el: &apos;#app&apos;,</span><br><span class="line">  data: &#123;</span><br><span class="line">    checked : false,</span><br><span class="line">    checkedNames: []</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></p></blockquote><blockquote><p>单选框<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">  &lt;input type=&quot;radio&quot; id=&quot;runoob&quot; value=&quot;Runoob&quot; v-model=&quot;picked&quot;&gt;</span><br><span class="line">  &lt;label for=&quot;runoob&quot;&gt;Runoob&lt;/label&gt;</span><br><span class="line">  &lt;br&gt;</span><br><span class="line">  &lt;input type=&quot;radio&quot; id=&quot;google&quot; value=&quot;Google&quot; v-model=&quot;picked&quot;&gt;</span><br><span class="line">  &lt;label for=&quot;google&quot;&gt;Google&lt;/label&gt;</span><br><span class="line">  &lt;br&gt;</span><br><span class="line">  &lt;span&gt;选中值为: &#123;&#123; picked &#125;&#125;&lt;/span&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">new Vue(&#123;</span><br><span class="line">  el: &apos;#app&apos;,</span><br><span class="line">  data: &#123;</span><br><span class="line">    picked : &apos;Runoob&apos;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></p></blockquote><blockquote><p>演示了单选按钮的双向数据绑定</p><p>select 列表<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">  &lt;select v-model=&quot;selected&quot; name=&quot;fruit&quot;&gt;</span><br><span class="line">    &lt;option value=&quot;&quot;&gt;选择一个网站&lt;/option&gt;</span><br><span class="line">    &lt;option value=&quot;www.runoob.com&quot;&gt;Runoob&lt;/option&gt;</span><br><span class="line">    &lt;option value=&quot;www.google.com&quot;&gt;Google&lt;/option&gt;</span><br><span class="line">  &lt;/select&gt;</span><br><span class="line"></span><br><span class="line">  &lt;div id=&quot;output&quot;&gt;</span><br><span class="line">      选择的网站是: &#123;&#123;selected&#125;&#125;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">new Vue(&#123;</span><br><span class="line">  el: &apos;#app&apos;,</span><br><span class="line">  data: &#123;</span><br><span class="line">    selected: &apos;&apos;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></p></blockquote><blockquote><p><strong>v-model</strong>会获取元素的value属性<br>修饰符<br>.lazy<br>在默认情况下， v-model 在 input 事件中同步输入框的值与数据，但你可以添加一个修饰符 lazy ，从而转变为在 change 事件中同步<br>.number<br>如果想自动将用户的输入值转为 Number 类型（如果原值的转换结果为 NaN 则返回原值），可以添加一个修饰符 number 给 v-model 来处理输入值<br>.trim<br>如果要自动过滤用户输入的首尾空格，可以添加 trim 修饰符到 v-model 上过滤输入<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 在 &quot;change&quot; 而不是 &quot;input&quot; 事件中更新 --&gt;</span><br><span class="line">&lt;input v-model.lazy=&quot;msg&quot; &gt;</span><br></pre></td></tr></table></figure></p></blockquote><p>总结：感觉更像是介绍了v-model，动态根据元素来改变vue实例里的元素，从而连带改变（重新渲染）html页面</p><p>13<code>Vue.js 组件</code></p><blockquote><p>组件（Component）是 Vue.js 最强大的功能之一。<br>组件可以扩展 HTML 元素，封装可重用的代码。<br>几乎任意类型的应用的界面都可以抽象为一个组件树<br>注册一个全局组件语法格式如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Vue.component(tagName, options)</span><br></pre></td></tr></table></figure></p></blockquote><blockquote><p>tagName 为组件名，options 为配置选项。注册后，我们可以使用以下方式来调用组件：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;tagName&gt;&lt;/tagName&gt;</span><br></pre></td></tr></table></figure></p></blockquote><blockquote><p>全局组件<br>所有实例都能用全局组件。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">    &lt;runoob&gt;&lt;/runoob&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">// 注册</span><br><span class="line">Vue.component(&apos;runoob&apos;, &#123;</span><br><span class="line">  template: &apos;&lt;h1&gt;自定义组件!&lt;/h1&gt;&apos;</span><br><span class="line">&#125;)</span><br><span class="line">// 创建根实例</span><br><span class="line">new Vue(&#123;</span><br><span class="line">  el: &apos;#app&apos;</span><br><span class="line">&#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></p></blockquote><blockquote><p>局部组件<br>我们也可以在实例选项中注册局部组件，这样组件只能在这个实例中使用：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">    &lt;runoob&gt;&lt;/runoob&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">var Child = &#123;</span><br><span class="line">  template: &apos;&lt;h1&gt;自定义组件!&lt;/h1&gt;&apos;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 创建根实例</span><br><span class="line">new Vue(&#123;</span><br><span class="line">  el: &apos;#app&apos;,</span><br><span class="line">  components: &#123;</span><br><span class="line">    // &lt;runoob&gt; 将只在父模板可用</span><br><span class="line">    &apos;runoob&apos;: Child</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></p></blockquote><blockquote><p>Prop<br>prop 是父组件用来传递数据的一个自定义属性。<br>父组件的数据需要通过 props 把数据传给子组件，<strong>子组件需要显式地用 props 选项声明 “prop”</strong>：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;input v-model=&quot;parentMsg&quot;&gt;</span><br><span class="line">      &lt;br&gt;</span><br><span class="line">      &lt;child v-bind:message=&quot;parentMsg&quot;&gt;&lt;/child&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">// 注册</span><br><span class="line">Vue.component(&apos;child&apos;, &#123;</span><br><span class="line">  // 声明 props</span><br><span class="line">  props: [&apos;message&apos;],</span><br><span class="line">  // 同样也可以在 vm 实例中像 &quot;this.message&quot; 这样使用</span><br><span class="line">  template: &apos;&lt;span&gt;&#123;&#123; message &#125;&#125;&lt;/span&gt;&apos;</span><br><span class="line">&#125;)</span><br><span class="line">// 创建根实例</span><br><span class="line">new Vue(&#123;</span><br><span class="line">  el: &apos;#app&apos;,</span><br><span class="line">  data: &#123;</span><br><span class="line">    parentMsg: &apos;父组件内容&apos;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></p></blockquote><blockquote><p>注意: prop 是单向绑定的：当父组件的属性变化时，将传导给子组件，但是不会反过来。<br>Prop 验证<br>组件可以为 props 指定验证要求。<br>prop 是一个对象而不是字符串数组时，它包含验证要求：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">Vue.component(&apos;example&apos;, &#123;</span><br><span class="line">  props: &#123;</span><br><span class="line">    // 基础类型检测 （`null` 意思是任何类型都可以）</span><br><span class="line">    propA: Number,</span><br><span class="line">    // 多种类型</span><br><span class="line">    propB: [String, Number],</span><br><span class="line">    // 必传且是字符串</span><br><span class="line">    propC: &#123;</span><br><span class="line">      type: String,</span><br><span class="line">      required: true</span><br><span class="line">    &#125;,</span><br><span class="line">    // 数字，有默认值</span><br><span class="line">    propD: &#123;</span><br><span class="line">      type: Number,</span><br><span class="line">      default: 100</span><br><span class="line">    &#125;,</span><br><span class="line">    // 数组／对象的默认值应当由一个工厂函数返回</span><br><span class="line">    propE: &#123;</span><br><span class="line">      type: Object,</span><br><span class="line">      default: function () &#123;</span><br><span class="line">        return &#123; message: &apos;hello&apos; &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    // 自定义验证函数</span><br><span class="line">    propF: &#123;</span><br><span class="line">      validator: function (value) &#123;</span><br><span class="line">        return value &gt; 10</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></p></blockquote><blockquote><p>type 可以是下面原生构造器：<br>String<br>Number<br>Boolean<br>Function<br>Object<br>Array<br>type 也可以是一个自定义构造器，使用 instanceof 检测。</p></blockquote><blockquote><p>自定义事件<br>父组件是使用 props 传递数据给子组件，但如果子组件要把数据传递回去，就需要使用自定义事件！</p><p>我们可以使用 v-on 绑定自定义事件, 每个 Vue 实例都实现了事件接口(Events interface)，即：</p><p>使用 <code>$on(eventName)</code> 监听事件<br>使用 <code>$emit(eventName)</code> 触发事件<br>另外，父组件可以在使用子组件的地方直接用 v-on 来监听子组件触发的事件。</p><p>以下实例中子组件已经和它外部完全解耦了。它所做的只是触发一个父组件关心的内部事件。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">    &lt;div id=&quot;counter-event-example&quot;&gt;</span><br><span class="line">      &lt;p&gt;&#123;&#123; total &#125;&#125;&lt;/p&gt;</span><br><span class="line">      &lt;button-counter v-on:increment=&quot;incrementTotal&quot;&gt;&lt;/button-counter&gt;</span><br><span class="line">      &lt;button-counter v-on:increment=&quot;incrementTotal&quot;&gt;&lt;/button-counter&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">Vue.component(&apos;button-counter&apos;, &#123;</span><br><span class="line">  template: &apos;&lt;button v-on:click=&quot;incrementHandler&quot;&gt;&#123;&#123; counter &#125;&#125;&lt;/button&gt;&apos;,</span><br><span class="line">  data: function () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      counter: 0</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    incrementHandler: function () &#123;</span><br><span class="line">      this.counter += 1</span><br><span class="line">      this.$emit(&apos;increment&apos;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;)</span><br><span class="line">new Vue(&#123;</span><br><span class="line">  el: &apos;#counter-event-example&apos;,</span><br><span class="line">  data: &#123;</span><br><span class="line">    total: 0</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    incrementTotal: function () &#123;</span><br><span class="line">      this.total += 1</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></p></blockquote><blockquote><p>如果你想在某个组件的根元素上监听一个原生事件。可以使用 .native 修饰 v-on</p></blockquote><p>总结：Vue.js组件我个人感觉就像是把一些写好的标签封装起来，组件的应该就是标签的意思，vue组件内部可以自己产生变量，但是父组件传递变量进去需要prop声明，组件也可以通过自定义方法来把变量传回父组件，至于native修饰符，我太明白。<br>引用dalao的话：意思就是当你给一个vue组件绑定事件时候，要加上native！如果是普通的html元素！就不需要。<br>感觉native就是把组件变回原生DOM的一种方式，不知这样说对不对。</p>]]></content>
      
      
        <tags>
            
            <tag> vue </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Vue.js 学习（二）</title>
      <link href="/2018/04/19/2018_4_19_2_Vue.js%E5%AD%A6%E4%B9%A0%EF%BC%88%E4%BA%8C%EF%BC%89/"/>
      <url>/2018/04/19/2018_4_19_2_Vue.js%E5%AD%A6%E4%B9%A0%EF%BC%88%E4%BA%8C%EF%BC%89/</url>
      <content type="html"><![CDATA[<p>6<code>Vue.js 条件语句</code></p><blockquote><p><strong>条件判断</strong><br>v-if<br>根据表达式的值(true 或 false )来决定是否插入对应的元素。<br>v-else<br>可以用 v-else 指令给 v-if 添加一个 “else” 块<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">&lt;div v-if=&quot;Math.random() &gt; 0.5&quot;&gt;</span><br><span class="line">  Sorry</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;div v-else&gt;</span><br><span class="line">  Not sorry</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">new Vue(&#123;</span><br><span class="line">  el: &apos;#app&apos;</span><br><span class="line">&#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></p></blockquote><blockquote><p>这里在v-if里写了js的随机数（0-1），如果大于0.5为true，显示Sorry，如果小于0.5为false，显示not sorry。<br>v-else-if<br>v-else-if 在 2.1.0 新增，顾名思义，用作 v-if 的 else-if 块。可以链式的多次使用<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">    &lt;div v-if=&quot;type === &apos;A&apos;&quot;&gt;</span><br><span class="line">      A</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;div v-else-if=&quot;type === &apos;B&apos;&quot;&gt;</span><br><span class="line">      B</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;div v-else-if=&quot;type === &apos;C&apos;&quot;&gt;</span><br><span class="line">      C</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;div v-else&gt;</span><br><span class="line">      Not A/B/C</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure></p></blockquote><blockquote><p><strong>v-else 、v-else-if 必须跟在 v-if 或者 v-else-if之后。</strong><br>v-show<br>我们也可以使用 v-show 指令来根据条件展示元素<br>用法和单独用v-if类似</p></blockquote><p>总结：v-if，v-esle和v-if-else用法和js类似</p><p>7<code>Vue.js 循环语句</code></p><blockquote><p>v-for<br>v-for 指令需要以 site in sites 形式的特殊语法， sites 是源数据数组并且 site 是数组元素迭代的别名。<br>v-for 可以绑定数据到数组来渲染一个列表：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">  &lt;ol&gt;</span><br><span class="line">    &lt;li v-for=&quot;site in sites&quot;&gt;</span><br><span class="line">      &#123;&#123; site.name &#125;&#125;</span><br><span class="line">    &lt;/li&gt;</span><br><span class="line">  &lt;/ol&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">new Vue(&#123;</span><br><span class="line">  el: &apos;#app&apos;,</span><br><span class="line">  data: &#123;</span><br><span class="line">    sites: [</span><br><span class="line">      &#123; name: &apos;Runoob&apos; &#125;,</span><br><span class="line">      &#123; name: &apos;Google&apos; &#125;,</span><br><span class="line">      &#123; name: &apos;Taobao&apos; &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></p></blockquote><blockquote><p>site可以自己命名，sites是实例的一组数组<br><strong>v-for 迭代对象</strong><br>v-for 可以通过一个对象的属性来迭代数据<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;li v-for=&quot;value in object&quot;&gt;</span><br><span class="line">&#123;&#123; value &#125;&#125;</span><br><span class="line">&lt;/li&gt;</span><br></pre></td></tr></table></figure></p></blockquote><blockquote><p>object为对象，value为对象的属性内容（可以自己命名）<br>也可以提供第二个的参数为键名<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;li v-for=&quot;(value, key) in object&quot;&gt;</span><br><span class="line">&#123;&#123; key &#125;&#125; : &#123;&#123; value &#125;&#125;</span><br><span class="line">&lt;/li&gt;</span><br></pre></td></tr></table></figure></p></blockquote><blockquote><p>键名就是对象属性名，这里key为属性名，value为属性内容<br>还可以提供第三个参数为索引<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;li v-for=&quot;(value, key, index) in object&quot;&gt;</span><br><span class="line">&#123;&#123; index &#125;&#125;. &#123;&#123; key &#125;&#125; : &#123;&#123; value &#125;&#125;</span><br><span class="line">&lt;/li&gt;</span><br></pre></td></tr></table></figure></p></blockquote><blockquote><p>简单的说索引就1234…，给每个属性都加一个（差不多是这样吧emm…）<br><strong>v-for 迭代整数</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;li v-for=&quot;n in 10&quot;&gt;</span><br><span class="line">     &#123;&#123; n &#125;&#125;</span><br><span class="line">&lt;/li&gt;</span><br></pre></td></tr></table></figure></p></blockquote><blockquote><p>会依次显示1-10</p></blockquote><p>总结：v-for应该就跟for（x in y）一个用法吧</p><p>8<code>Vue.js 计算属性</code></p><blockquote><p>计算属性关键词: <strong>computed</strong>。<br>计算属性在处理一些复杂逻辑时是很有用的。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">  &lt;p&gt;原始字符串: &#123;&#123; message &#125;&#125;&lt;/p&gt;</span><br><span class="line">  &lt;p&gt;计算后反转字符串: &#123;&#123; reversedMessage &#125;&#125;&lt;/p&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">var vm = new Vue(&#123;</span><br><span class="line">  el: &apos;#app&apos;,</span><br><span class="line">  data: &#123;</span><br><span class="line">    message: &apos;Runoob!&apos;</span><br><span class="line">  &#125;,</span><br><span class="line">  computed: &#123;</span><br><span class="line">    // 计算属性的 getter</span><br><span class="line">    reversedMessage: function () &#123;</span><br><span class="line">      // `this` 指向 vm 实例</span><br><span class="line">      return this.message.split(&apos;&apos;).reverse().join(&apos;&apos;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></p></blockquote><blockquote><p>这里声明了一个计算属性 reversedMessage 。<br>提供的函数将用作属性 vm.reversedMessage 的 getter 。<br>vm.reversedMessage 依赖于 vm.message，在 vm.message 发生改变时，vm.reversedMessage 也会更新。<br>我们可以使用 methods（函数） 来替代 computed（计算属性），效果上两个都是一样的，但是 computed 是基于它的依赖缓存，只有相关依赖发生改变时才会重新取值。而使用 methods ，在重新渲染的时候，函数总会重新调用执行。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">methods: &#123;</span><br><span class="line">  reversedMessage2: function () &#123;</span><br><span class="line">    return this.message.split(&apos;&apos;).reverse().join(&apos;&apos;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p></blockquote><blockquote><p>可以说使用 computed 性能会更好，但是如果你不希望缓存，你可以使用 methods 属性。</p></blockquote><blockquote><p>computed 属性默认只有 getter ，不过在需要时你也可以提供一个 setter<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">  &lt;p&gt;&#123;&#123; site &#125;&#125;&lt;/p&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">var vm = new Vue(&#123;</span><br><span class="line">  el: &apos;#app&apos;,</span><br><span class="line">  data: &#123;</span><br><span class="line">name: &apos;Google&apos;,</span><br><span class="line">url: &apos;http://www.google.com&apos;</span><br><span class="line">  &#125;,</span><br><span class="line">  computed: &#123;</span><br><span class="line">    site: &#123;</span><br><span class="line">      // getter</span><br><span class="line">      get: function () &#123;</span><br><span class="line">        return this.name + &apos; &apos; + this.url</span><br><span class="line">      &#125;,</span><br><span class="line">      // setter</span><br><span class="line">      set: function (newValue) &#123;</span><br><span class="line">        var names = newValue.split(&apos; &apos;)</span><br><span class="line">        this.name = names[0]</span><br><span class="line">        this.url = names[names.length - 1]</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line">// 调用 setter， vm.name 和 vm.url 也会被对应更新</span><br><span class="line">vm.site = &apos;xxxx http://www.runoob.com&apos;;</span><br></pre></td></tr></table></figure></p></blockquote><blockquote><p>从实例运行结果看在运行 vm.site = ‘xxxx <a href="http://www.runoob.com&#39;" target="_blank" rel="noopener">http://www.runoob.com&#39;</a>; 时，setter 会被调用， vm.name 和 vm.url 也会被对应更新。</p></blockquote><p>总结：computed（计算属性）看起来和使用起来都和methods（函数）一样，区别应该就是 computed 是基于它的依赖缓存，只有相关依赖发生改变时才会重新取值。而使用 methods ，在重新渲染的时候，函数总会重新调用执行。</p><p>9<code>Vue.js 监听属性</code></p><blockquote><p>watch<br>我们可以通过 watch 来响应数据的变化<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id = &quot;computed_props&quot;&gt;</span><br><span class="line">    千米 : &lt;input type = &quot;text&quot; v-model = &quot;kilometers&quot;&gt;</span><br><span class="line">    米 : &lt;input type = &quot;text&quot; v-model = &quot;meters&quot;&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;p id=&quot;info&quot;&gt;&lt;/p&gt;</span><br><span class="line">&lt;script type = &quot;text/javascript&quot;&gt;</span><br><span class="line">    var vm = new Vue(&#123;</span><br><span class="line">    el: &apos;#computed_props&apos;,</span><br><span class="line">    data: &#123;</span><br><span class="line">        kilometers : 0,</span><br><span class="line">        meters:0</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">    &#125;,</span><br><span class="line">    computed :&#123;</span><br><span class="line">    &#125;,</span><br><span class="line">    watch : &#123;</span><br><span class="line">        kilometers:function(val) &#123;</span><br><span class="line">            this.kilometers = val;</span><br><span class="line">            this.meters = val * 1000;</span><br><span class="line">        &#125;,</span><br><span class="line">        meters : function (val) &#123;</span><br><span class="line">            this.kilometers = val/ 1000;</span><br><span class="line">            this.meters = val;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">    // $watch 是一个实例方法</span><br><span class="line">    vm.$watch(&apos;kilometers&apos;, function (newValue, oldValue) &#123;</span><br><span class="line">    // 这个回调将在 vm.kilometers 改变后调用</span><br><span class="line">    document.getElementById (&quot;info&quot;).innerHTML = &quot;修改前值为: &quot; + oldValue + &quot;，修改后值为: &quot; + newValue;</span><br><span class="line">&#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></p></blockquote><blockquote><p>watch 对象创建了两个方法 kilometers 和 meters。<br>当我们再输入框输入数据时，watch 会实时监听数据变化并改变自身的值。</p></blockquote><p>总结：watch对象创建的函数名对应data里的属性名，改属性发生变化时调用watch里对应的函数</p><p>10<code>Vue.js 样式绑定</code></p><blockquote><p>class 与 style 是 HTML 元素的属性，用于设置元素的样式，我们可以用 v-bind 来设置样式属性。<br>Vue.js v-bind 在处理 class 和 style 时， 专门增强了它。表达式的结果类型除了字符串之外，还可以是对象或数<br><strong>class 属性绑定</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;div v-bind:class=&quot;&#123; active: isActive &#125;&quot;&gt;&lt;/div&gt;</span><br></pre></td></tr></table></figure></p></blockquote><blockquote><p>isActive为true时，调用class=”active”，为false时，不调用<br>我们也可以在对象中传入更多属性用来动态切换多个 class 。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class=&quot;static&quot;</span><br><span class="line">     v-bind:class=&quot;&#123; active: isActive, &apos;text-danger&apos;: hasError &#125;&quot;&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure></p></blockquote><blockquote><p>我们也可以直接绑定数据里的一个对象<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">.active &#123;</span><br><span class="line">width: 100px;</span><br><span class="line">height: 100px;</span><br><span class="line">background: green;</span><br><span class="line">&#125;</span><br><span class="line">.text-danger &#123;</span><br><span class="line">background: red;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">  &lt;div v-bind:class=&quot;classObject&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">new Vue(&#123;</span><br><span class="line">  el: &apos;#app&apos;,</span><br><span class="line">  data: &#123;</span><br><span class="line">    classObject: &#123;</span><br><span class="line">      active: true,</span><br><span class="line">      &apos;text-danger&apos;: true</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure></p></blockquote><blockquote><p>此外，我们也可以在这里绑定返回对象的计算属性<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">new Vue(&#123;</span><br><span class="line">  el: &apos;#app&apos;,</span><br><span class="line">  data: &#123;</span><br><span class="line">  isActive: true,</span><br><span class="line">  error: null</span><br><span class="line">  &#125;,</span><br><span class="line">  computed: &#123;</span><br><span class="line">    classObject: function () &#123;</span><br><span class="line">      return &#123;</span><br><span class="line">        active: this.isActive &amp;&amp; !this.error,</span><br><span class="line">        &apos;text-danger&apos;: this.error &amp;&amp; this.error.type === &apos;fatal&apos;,</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></p></blockquote><blockquote><p>数组语法<br>我们可以把一个数组传给 v-bind:class<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">&lt;div v-bind:class=&quot;[activeClass, errorClass]&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">new Vue(&#123;</span><br><span class="line">  el: &apos;#app&apos;,</span><br><span class="line">  data: &#123;</span><br><span class="line">    activeClass: &apos;active&apos;,</span><br><span class="line">    errorClass: &apos;text-danger&apos;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></p></blockquote><blockquote><p>我们还可以使用三元表达式来切换列表中的 class<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;div v-bind:class=&quot;[errorClass ,isActive ? activeClass : &apos;&apos;]&quot;&gt;&lt;/div&gt;</span><br></pre></td></tr></table></figure></p></blockquote><blockquote><p><strong>Vue.js style(内联样式)</strong><br>我们可以在 v-bind:style 直接设置样式<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">    &lt;div v-bind:style=&quot;&#123; color: activeColor, fontSize: fontSize + &apos;px&apos; &#125;&quot;&gt;菜鸟教程&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure></p></blockquote><blockquote><p>也可以直接绑定到一个样式对象，让模板更清晰<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">  &lt;div v-bind:style=&quot;styleObject&quot;&gt;菜鸟教程&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure></p></blockquote><blockquote><p>v-bind:style 可以使用数组将多个样式对象应用到一个元素上<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">  &lt;div v-bind:style=&quot;[baseStyles, overridingStyles]&quot;&gt;菜鸟教程&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure></p></blockquote><blockquote><p><strong>注意：当 v-bind:style 使用需要特定前缀的 CSS 属性时，如 transform ，Vue.js 会自动侦测并添加相应的前缀。</strong></p></blockquote><p>总结：v-bind提供很多种添加class或style的方法，我也不能一下一一全部记住，总而言之就是可以<strong>响应式的</strong>添加样式，改变个别样式可以使用style。</p>]]></content>
      
      
        <tags>
            
            <tag> vue </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Vue.js 学习（一）</title>
      <link href="/2018/04/19/2018_4_19_1_Vue.js%E5%AD%A6%E4%B9%A0%EF%BC%88%E4%B8%80%EF%BC%89/"/>
      <url>/2018/04/19/2018_4_19_1_Vue.js%E5%AD%A6%E4%B9%A0%EF%BC%88%E4%B8%80%EF%BC%89/</url>
      <content type="html"><![CDATA[<p>1<code>Vue.js 安装</code></p><blockquote><p>1.本地安装<br>在 Vue.js 的官网上直接下载 vue.min.js 并用 script 标签引入。<br>2.CDN 方法<br>unpkg：<a href="https://unpkg.com/vue/dist/vue.js" target="_blank" rel="noopener">https://unpkg.com/vue/dist/vue.js</a>, 会保持和 npm 发布的最新的版本一致。<br>cdnjs : <a href="https://cdnjs.cloudflare.com/ajax/libs/vue/2.1.8/vue.min.js" target="_blank" rel="noopener">https://cdnjs.cloudflare.com/ajax/libs/vue/2.1.8/vue.min.js</a><br>3.NPM 方法<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"># 查看版本</span><br><span class="line">$ npm -v</span><br><span class="line">2.3.0</span><br><span class="line"></span><br><span class="line">#升级 npm</span><br><span class="line">cnpm install npm -g</span><br><span class="line"></span><br><span class="line"># 最新稳定版</span><br><span class="line">$ cnpm install vue</span><br></pre></td></tr></table></figure></p></blockquote><blockquote><p>在用 Vue.js 构建大型应用时推荐使用 NPM 安装</p></blockquote><p>总结：npm方法不太明白什么意思，但是至少可以像JQuery一样可以本地导入或网页导入</p><p>2<code>命令行工具</code></p><blockquote><p>Vue.js 提供一个官方命令行工具，可用于快速搭建大型单页应用。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"># 全局安装 vue-cli</span><br><span class="line">$ cnpm install --global vue-cli</span><br><span class="line"># 创建一个基于 webpack 模板的新项目</span><br><span class="line">$ vue init webpack my-project</span><br><span class="line"># 这里需要进行一些配置，默认回车即可</span><br><span class="line">This will install Vue 2.x version of the template.</span><br><span class="line"></span><br><span class="line">For Vue 1.x use: vue init webpack#1.0 my-project</span><br><span class="line"></span><br><span class="line">? Project name my-project</span><br><span class="line">? Project description A Vue.js project</span><br><span class="line">? Author runoob &lt;test@runoob.com&gt;</span><br><span class="line">? Vue build standalone</span><br><span class="line">? Use ESLint to lint your code? Yes</span><br><span class="line">? Pick an ESLint preset Standard</span><br><span class="line">? Setup unit tests with Karma + Mocha? Yes</span><br><span class="line">? Setup e2e tests with Nightwatch? Yes</span><br><span class="line"></span><br><span class="line">   vue-cli · Generated &quot;my-project&quot;.</span><br><span class="line"></span><br><span class="line">   To get started:</span><br><span class="line"></span><br><span class="line">     cd my-project</span><br><span class="line">     npm install</span><br><span class="line">     npm run dev</span><br><span class="line"></span><br><span class="line">   Documentation can be found at https://vuejs-templates.github.io/webpack</span><br></pre></td></tr></table></figure></p></blockquote><blockquote><p>进入项目，安装并运行：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ cd my-project</span><br><span class="line">$ cnpm install</span><br><span class="line">$ cnpm run dev</span><br><span class="line"> DONE  Compiled successfully in 4388ms</span><br><span class="line"></span><br><span class="line">&gt; Listening at http://localhost:8080</span><br></pre></td></tr></table></figure></p></blockquote><blockquote><p>成功执行以上命令后访问 <a href="http://localhost:8080/，可以看见搭建的网页" target="_blank" rel="noopener">http://localhost:8080/，可以看见搭建的网页</a></p><p><strong>注意：Vue.js 不支持 IE8 及其以下 IE 版本。</strong></p></blockquote><p>总结：暂时用不到吧，而且也不知道有那些命令</p><p>3<code>Vue.js 目录结构</code></p><blockquote><table><thead><tr><th style="text-align:center">目录/文件</th><th style="text-align:center">说明</th></tr></thead><tbody><tr><td style="text-align:center">build</td><td style="text-align:center">项目构建(webpack)相关代码</td></tr><tr><td style="text-align:center">config</td><td style="text-align:center">配置目录，包括端口号等。我们初学可以使用默认的。</td></tr><tr><td style="text-align:center">node_modules</td><td style="text-align:center">npm 加载的项目依赖模块</td></tr><tr><td style="text-align:center">src</td><td style="text-align:center">这里是我们要开发的目录，基本上要做的事情都在这个目录里。里面包含了几个目录及文件：assets: 放置一些图片，如logo等。components: 目录里面放了一个组件文件，可以不用。App.vue: 项目入口文件，我们也可以直接将组件写这里，而不使用 components 目录。main.js: 项目的核心文件。</td></tr><tr><td style="text-align:center">static</td><td style="text-align:center">静态资源目录，如图片、字体等。</td></tr><tr><td style="text-align:center">test</td><td style="text-align:center">初始测试目录，可删除</td></tr><tr><td style="text-align:center">.xxxx文件</td><td style="text-align:center">这些是一些配置文件，包括语法配置，git配置等。</td></tr><tr><td style="text-align:center">index.html</td><td style="text-align:center">首页入口文件，你可以添加一些 meta 信息或统计代码啥的。</td></tr><tr><td style="text-align:center">package.json</td><td style="text-align:center">项目配置文件。</td></tr><tr><td style="text-align:center">README.md</td><td style="text-align:center">项目的说明文档，markdown 格式</td></tr></tbody></table></blockquote><p>总结：emmm…，不知道说什么好</p><p>4<code>Vue.js 起步</code></p><blockquote><p>每个 Vue 应用都需要通过实例化 Vue 来实现<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">var vm = new Vue(&#123;</span><br><span class="line">        el: &apos;#vue_det&apos;,</span><br><span class="line">        data: &#123;</span><br><span class="line">            data1:&quot;1&quot;,</span><br><span class="line">            data2:&quot;2&quot;,</span><br><span class="line">            data3:&quot;3&quot;</span><br><span class="line">        &#125;,</span><br><span class="line">        methods: &#123;</span><br><span class="line">            function1: function() &#123;</span><br><span class="line">                return  data1;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br></pre></td></tr></table></figure></p></blockquote><blockquote><p>Vue实例的<br>el对应DOM的id<br>data用于定义属性<br>methods用于定义的函数，可以通过 return 来返回函数值<br>&#123;&#123; &#125;&#125;用于输出对象属性和函数返回值（用于DOM内）<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;vue_det&quot;&gt;</span><br><span class="line">    &lt;p&gt;&#123;&#123;data1&#125;&#125;&lt;/p&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure></p></blockquote><blockquote><p>当一个 Vue 实例被创建时，它向 Vue 的响应式系统中加入了其 data 对象中能找到的所有的属性。当这些属性的值发生改变时，html 视图将也会产生相应的变化。<br>除了数据属性，Vue 实例还提供了一些有用的实例属性与方法。它们都有前缀 $，以便与用户定义的属性区分开来。</p></blockquote><p>总结：个人觉得就像是创建了一个object实例，然后提供了&#123;&#123; &#125;&#125;方法在DOM里直接显示出数据，并且可以时时改动，挺好理解的。</p><p>5<code>Vue.js 模板语法</code></p><blockquote><p><strong>插值</strong><br>1.数据绑定最常见的形式就是使用&#123;&#123; &#125;&#125;的文本插值<br>2.使用 v-html 指令用于输出 html 代码<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">&lt;h1&gt;&#123;&#123;message1&#125;&#125;&lt;/h1&gt;</span><br><span class="line">    &lt;div v-html=&quot;message2&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">new Vue(&#123;</span><br><span class="line">  el: &apos;#app&apos;,</span><br><span class="line">  data: &#123;</span><br><span class="line">    message1: &apos;文本插值&apos;</span><br><span class="line">    message2: &apos;&lt;h1&gt;HTML插值&lt;/h1&gt;&apos;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></p></blockquote><hr><blockquote><p><strong>属性</strong><br>HTML 属性中的值应使用 v-bind 指令<br>以下实例判断 class2 的值，如果为 true 使用 class1 类的样式，否则不使用该类：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;div v-bind:class=&quot;&#123;&apos;class1&apos;: class2&#125;&quot;&gt;</span><br></pre></td></tr></table></figure></p></blockquote><hr><blockquote><p><strong>表达式</strong><br>Vue.js 都提供了完全的 JavaScript 表达式支持。<br>在&#123;&#123; &#125;&#125;里或v-bind:class=””里使用js表达式都没有问题，比如<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">&#123;&#123;5+5&#125;&#125;&lt;br&gt;</span><br><span class="line">&#123;&#123; ok ? &apos;YES&apos; : &apos;NO&apos; &#125;&#125;&lt;br&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">new Vue(&#123;</span><br><span class="line">  el: &apos;#app&apos;,</span><br><span class="line">  data: &#123;</span><br><span class="line">    ok: true,</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></p></blockquote><hr><blockquote><p><strong>指令</strong><br>指令是带有 v- 前缀的特殊属性<br>指令用于在表达式的值改变时，将某些行为应用到 DOM 上<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;p v-if=&quot;seen&quot;&gt;现在你看到我了&lt;/p&gt;</span><br></pre></td></tr></table></figure></p></blockquote><blockquote><p>这里， v-if 指令将根据表达式 seen 的值(true 或 false )来决定是否插入 p 元素</p></blockquote><hr><blockquote><p><strong>参数</strong><br>参数在指令后以冒号指明。例如， v-bind 指令被用来响应地更新 HTML 属性<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;a v-bind:href=&quot;url&quot;&gt;超链接&lt;/a&gt;</span><br></pre></td></tr></table></figure></p></blockquote><blockquote><p>href就是参数，告知 v-bind 指令将该元素的 href 属性与表达式 url 的值绑定<br>另一个例子是 v-on 指令，它用于监听 DOM 事件：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;a v-on:click=&quot;function&quot;&gt;</span><br></pre></td></tr></table></figure></p></blockquote><hr><blockquote><p><strong>修饰符</strong><br>修饰符是以半角句号 . 指明的特殊后缀，用于指出一个指定应该以特殊方式绑定。例如，.prevent 修饰符告诉 v-on 指令对于触发的事件调用 event.preventDefault()<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;form v-on:submit.prevent=&quot;onSubmit&quot;&gt;&lt;/form&gt;</span><br></pre></td></tr></table></figure></p></blockquote><hr><blockquote><p><strong>用户输入</strong><br>在 input 输入框中我们可以使用 v-model 指令来实现双向数据绑定<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;p&gt;&#123;&#123; message &#125;&#125;&lt;/p&gt;</span><br><span class="line">&lt;input v-model=&quot;message&quot;&gt;</span><br></pre></td></tr></table></figure></p></blockquote><blockquote><p>这里input通过v-model改变了message的值，同时也反应到了p上</p></blockquote><hr><blockquote><p><strong>过滤器</strong><br>Vue.js 允许你自定义过滤器，被用作一些常见的文本格式化。由”管道符”（|）指示<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;&#123; message | function &#125;&#125;</span><br></pre></td></tr></table></figure></p></blockquote><blockquote><p>过滤器函数接受表达式的值作为第一个参数。<br>function为函数，message为参数传入function内<br>过滤器可以串联：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;&#123; message | filterA | filterB &#125;&#125;</span><br></pre></td></tr></table></figure></p></blockquote><blockquote><p>过滤器是 JavaScript 函数，因此可以接受参数：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;&#123; message | filterA(&apos;arg1&apos;, arg2) &#125;&#125;</span><br></pre></td></tr></table></figure></p></blockquote><blockquote><p>这里，message 是第一个参数，字符串 ‘arg1’ 将传给过滤器作为第二个参数， arg2 表达式的值将被求值然后传给过滤器作为第三个参数。</p></blockquote><hr><blockquote><p><strong>缩写</strong><br>Vue.js 为两个最为常用的指令提供了特别的缩写<br>v-bind和v-on<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 完整语法 --&gt;</span><br><span class="line">&lt;a v-bind:href=&quot;url&quot;&gt;&lt;/a&gt;</span><br><span class="line">&lt;!-- 缩写 --&gt;</span><br><span class="line">&lt;a :href=&quot;url&quot;&gt;&lt;/a&gt;</span><br><span class="line">&lt;!-- 完整语法 --&gt;</span><br><span class="line">&lt;a v-on:click=&quot;doSomething&quot;&gt;&lt;/a&gt;</span><br><span class="line">&lt;!-- 缩写 --&gt;</span><br><span class="line">&lt;a @click=&quot;doSomething&quot;&gt;&lt;/a&gt;</span><br></pre></td></tr></table></figure></p></blockquote><p>总结：Vue.js模板语法还挺多的，我个人感觉更像是把js响应式的写进了DOM里，更加直观一些，语法谁然多，但是都不是很难。</p>]]></content>
      
      
        <tags>
            
            <tag> vue </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>自定义网页右键菜单（补充）</title>
      <link href="/2018/04/18/2018_4_18_2_%E8%87%AA%E5%AE%9A%E4%B9%89%E7%BD%91%E9%A1%B5%E5%8F%B3%E9%94%AE%E8%8F%9C%E5%8D%95%EF%BC%88%E8%A1%A5%E5%85%85%EF%BC%89%20/"/>
      <url>/2018/04/18/2018_4_18_2_%E8%87%AA%E5%AE%9A%E4%B9%89%E7%BD%91%E9%A1%B5%E5%8F%B3%E9%94%AE%E8%8F%9C%E5%8D%95%EF%BC%88%E8%A1%A5%E5%85%85%EF%BC%89%20/</url>
      <content type="html"><![CDATA[<hr><table><thead><tr><th style="text-align:center">鼠标事件</th><th style="text-align:center">button值</th><th style="text-align:center">备注</th></tr></thead><tbody><tr><td style="text-align:center">click</td><td style="text-align:center">0</td><td style="text-align:center">单击鼠标左键</td></tr><tr><td style="text-align:center">click</td><td style="text-align:center">1</td><td style="text-align:center">单击鼠标中键</td></tr><tr><td style="text-align:center">mousedown</td><td style="text-align:center">0</td><td style="text-align:center">按下鼠标左键</td></tr><tr><td style="text-align:center">mousedown</td><td style="text-align:center">1</td><td style="text-align:center">按下鼠标中键</td></tr><tr><td style="text-align:center">mousedown</td><td style="text-align:center">2</td><td style="text-align:center">按下鼠标右键</td></tr></tbody></table>]]></content>
      
      
        <tags>
            
            <tag> 鼠标点击事件 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>使用CSS实现折叠面板</title>
      <link href="/2018/04/18/2018_4_18_1_%E4%BD%BF%E7%94%A8css%E5%AE%9E%E7%8E%B0%E6%8A%98%E5%8F%A0%E9%9D%A2%E6%9D%BF/"/>
      <url>/2018/04/18/2018_4_18_1_%E4%BD%BF%E7%94%A8css%E5%AE%9E%E7%8E%B0%E6%8A%98%E5%8F%A0%E9%9D%A2%E6%9D%BF/</url>
      <content type="html"><![CDATA[<hr><p>效果：使用input的radio单选框特性结合CSS中的伪元素实现bootstrap中折叠面板，要求样式一致。</p><hr><p>要使用到的是 radio，label，伪类，兄弟相邻选择器</p><hr><p> radio：单选框<br> label：文本框<br> 伪类：:checked   —选中时添加的类<br>兄弟相邻选择器：li+li {…}</p><hr><p>我的思路：<br>1<code>创建区域section</code><br>2<code>在section中建立3个radio，css设置radio的样式：dispaly:none</code><br>3<code>再创建3个label，绑定对应的radio</code><br>4<code>在label里写上标题，然后在里面创建div标签，再建立p标签，写入对应的内容</code><br>5<code>最后在css里给给div绑定对应的css3动画</code><br>到这里为止差不多就成型了</p><p>我遇到的问题：<br>1<code>radio没有单选框效果</code><br>产生的原因：没有给3个radio给定相同的name属性<br>解决办法：<br><figure class="highlight vbscript-html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;input type="radio" id="one" name="cascade" /&gt;</span><br><span class="line">&lt;input type="radio" id="two" name="cascade" /&gt;</span><br><span class="line">&lt;input type="radio" id="three" name="cascade" /&gt;</span><br></pre></td></tr></table></figure></p><p>2<code>绑定的动画没有动画的过度效果</code><br>产生原因：高度再没有具体数值时，不会产生动画<br>解决办法：<br>给高度一个固定数值<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">height</span>: 250<span class="selector-tag">px</span>;</span><br></pre></td></tr></table></figure></p><p>建议div高度和section宽度，不要使用百分比，以免出现显示不全或空白太多的情况</p><p>3<code>绑定动画后，刷新页面会产生折叠动画</code><br>产生的原因：我给div绑定了折叠动画，因为不绑定会再失去checked时直接消失，但是绑定了折叠动画会在开始时就先播放动画。<br>解决办法：<br>建议使用css3的过滤<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">transition</span>: <span class="selector-tag">height</span> 1<span class="selector-tag">s</span> <span class="selector-tag">linear</span>;</span><br></pre></td></tr></table></figure></p><p>过滤只在对应属性改变时才会产生动画。</p><p>4<code>折叠框没办法全部折叠</code><br>产生的原因：radio选择后必须有一个选中<br>解决办法：<br>使用js改变radio只能有一个被选中的情况<br>（还是用到了js…，我感觉还不如用js让多选框只能单选来的简单）<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">代码部分还不会，所以借鉴别人的</span><br><span class="line">    <span class="built_in">document</span>.body.onmousedown = <span class="function"><span class="keyword">function</span> (<span class="params">event</span>) </span>&#123;</span><br><span class="line">        event = event || <span class="built_in">window</span>.event;</span><br><span class="line">        <span class="keyword">var</span> target = event.target || event.srcElement;</span><br><span class="line">        <span class="keyword">if</span> (target.type === <span class="string">'radio'</span>) &#123;</span><br><span class="line">            target.previousValue = target.checked;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">document</span>.body.onclick = <span class="function"><span class="keyword">function</span> (<span class="params">event</span>) </span>&#123;</span><br><span class="line">        event = event || <span class="built_in">window</span>.event;</span><br><span class="line">        <span class="keyword">var</span> target = event.target || event.srcElement;</span><br><span class="line">        <span class="keyword">if</span> (target.type === <span class="string">'radio'</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (target.previousValue) &#123;</span><br><span class="line">                target.checked = <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></p><p>但只对点击radio有效。。。</p><hr><p>最后贴出我的代码：</p><p>index.html （html文件）<br><figure class="highlight vbscript-html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;&lt;/title&gt;</span><br><span class="line">    &lt;link rel="stylesheet" type="text/css" href="css/mycss.css"&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;section&gt;</span><br><span class="line">        &lt;input type="radio" id="one" name="cascade" /&gt;</span><br><span class="line">        &lt;label for="one"&gt;Collapsible Group Item #1</span><br><span class="line">        &lt;div&gt;&lt;p&gt;Anim pariatur cliche reprehenderit, enim eiusmod high life accusamus terry richardson ad squid. 3 wolf moon officia aute, non cupidatat skateboard dolor brunch. Food truck quinoa nesciunt laborum eiusmod. Brunch 3 wolf moon tempor, sunt aliqua put a bird on it squid single- origin coffee nulla assumenda shoreditch et. Nihil anim keffiyeh helvetica, craft beer labore wes anderson cred nesciunt sapiente ea proident. Ad vegan excepteur butcher vice lomo. Leggings occaecat craft beer farm-to-table, raw denim aesthetic synth nesciunt you probably haven't heard of them accusamus labore sustainable VHS.</span><br><span class="line">        &lt;/p&gt;&lt;/div&gt;</span><br><span class="line">        &lt;/label&gt;</span><br><span class="line">        &lt;input type="radio" id="two" name="cascade" /&gt;</span><br><span class="line">        &lt;label for="two"&gt;Collapsible Group Item #2</span><br><span class="line">        &lt;div&gt;&lt;p&gt;Anim pariatur cliche reprehenderit, enim eiusmod high life accusamus terry richardson ad squid. 3 wolf moon officia aute, non cupidatat skateboard dolor brunch. Food truck quinoa nesciunt laborum eiusmod. Brunch 3 wolf moon tempor, sunt aliqua put a bird on it squid single- origin coffee nulla assumenda shoreditch et. Nihil anim keffiyeh helvetica, craft beer labore wes anderson cred nesciunt sapiente ea proident. Ad vegan excepteur butcher vice lomo. Leggings occaecat craft beer farm-to-table, raw denim aesthetic synth nesciunt you probably haven't heard of them accusamus labore sustainable VHS.</span><br><span class="line">        &lt;/p&gt;&lt;/div&gt;</span><br><span class="line">        &lt;/label&gt;</span><br><span class="line">        &lt;input type="radio" id="three" name="cascade" /&gt;</span><br><span class="line">        &lt;label for="three"&gt;Collapsible Group Item #3</span><br><span class="line">        &lt;div&gt;&lt;p&gt;Anim pariatur cliche reprehenderit, enim eiusmod high life accusamus terry richardson ad squid. 3 wolf moon officia aute, non cupidatat skateboard dolor brunch. Food truck quinoa nesciunt laborum eiusmod. Brunch 3 wolf moon tempor, sunt aliqua put a bird on it squid single- origin coffee nulla assumenda shoreditch et. Nihil anim keffiyeh helvetica, craft beer labore wes anderson cred nesciunt sapiente ea proident. Ad vegan excepteur butcher vice lomo. Leggings occaecat craft beer farm-to-table, raw denim aesthetic synth nesciunt you probably haven't heard of them accusamus labore sustainable VHS.</span><br><span class="line">        &lt;/p&gt;&lt;/div&gt;</span><br><span class="line">        &lt;/label&gt;</span><br><span class="line"></span><br><span class="line">    &lt;/section&gt;</span><br><span class="line"></span><br><span class="line">    &lt;script src="js/myjs.js"&gt;&lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure></p><p>mycss.css（css文件）<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">*&#123;</span><br><span class="line">        <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">        <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="selector-tag">body</span>,<span class="selector-tag">html</span>&#123;</span><br><span class="line">        <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">        <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/*折叠框局域*/</span></span><br><span class="line">    <span class="selector-tag">section</span>&#123;</span><br><span class="line">        <span class="attribute">width</span>: <span class="number">500px</span>;</span><br><span class="line">        <span class="attribute">margin</span>: auto;</span><br><span class="line">        <span class="attribute">margin-top</span>: <span class="number">20px</span>;</span><br><span class="line">        <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#ddd</span>;</span><br><span class="line">        <span class="attribute">border-radius</span>: <span class="number">4px</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/*设置单选框不可见*/</span></span><br><span class="line">    <span class="selector-tag">input</span><span class="selector-attr">[type="radio"]</span> &#123;</span><br><span class="line">        <span class="attribute">display</span>: none;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="selector-tag">label</span>&#123;</span><br><span class="line">        <span class="attribute">display</span>: block;</span><br><span class="line">        <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#ddd</span>;</span><br><span class="line">        <span class="attribute">border-radius</span>: <span class="number">4px</span>;</span><br><span class="line">        <span class="attribute">margin</span>: <span class="number">10px</span>;</span><br><span class="line">        <span class="attribute">padding</span>: <span class="number">10px</span>;</span><br><span class="line">        <span class="attribute">background-color</span>: <span class="number">#f5f5f5</span>;</span><br><span class="line">        <span class="attribute">overflow</span>: hidden;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="selector-tag">div</span>&#123;</span><br><span class="line">        <span class="attribute">font-size</span>: <span class="number">15px</span>;</span><br><span class="line">        <span class="attribute">overflow</span>: hidden;</span><br><span class="line">        <span class="attribute">height</span>: <span class="number">0</span>;</span><br><span class="line">        <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">        <span class="attribute">display</span>: block;</span><br><span class="line">        <span class="attribute">margin</span>: -<span class="number">12px</span>;</span><br><span class="line">        <span class="attribute">margin-top</span>: <span class="number">10px</span>;</span><br><span class="line">        <span class="attribute">background-color</span>: <span class="number">#fff</span>;</span><br><span class="line">        <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#ddd</span>;</span><br><span class="line">        <span class="attribute">border-radius</span>: <span class="number">0px</span> <span class="number">0px</span> <span class="number">4px</span> <span class="number">4px</span>;</span><br><span class="line">        <span class="attribute">transition</span>: height <span class="number">1s</span> linear;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="selector-tag">p</span>&#123;</span><br><span class="line">        <span class="attribute">margin</span>: <span class="number">10px</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/*单选宽选中时改变高度*/</span></span><br><span class="line">    <span class="selector-tag">input</span><span class="selector-attr">[type="radio"]</span><span class="selector-pseudo">:checked+label</span> <span class="selector-tag">div</span>&#123;</span><br><span class="line">        <span class="attribute">height</span>: <span class="number">250px</span>;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></p><p>myjs.js（javascript文件）<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">document</span>.body.onmousedown = <span class="function"><span class="keyword">function</span> (<span class="params">event</span>) </span>&#123;</span><br><span class="line">    event = event || <span class="built_in">window</span>.event;</span><br><span class="line">    <span class="keyword">var</span> target = event.target || event.srcElement;</span><br><span class="line">    <span class="keyword">if</span> (target.type === <span class="string">'radio'</span>) &#123;</span><br><span class="line">        target.previousValue = target.checked;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">document</span>.body.onclick = <span class="function"><span class="keyword">function</span> (<span class="params">event</span>) </span>&#123;</span><br><span class="line">    event = event || <span class="built_in">window</span>.event;</span><br><span class="line">    <span class="keyword">var</span> target = event.target || event.srcElement;</span><br><span class="line">    <span class="keyword">if</span> (target.type === <span class="string">'radio'</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (target.previousValue) &#123;</span><br><span class="line">            target.checked = <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>]]></content>
      
      
        <tags>
            
            <tag> html </tag>
            
            <tag> css </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>自定义网页右键菜单</title>
      <link href="/2018/04/17/2018_4_17_2_%E8%87%AA%E5%AE%9A%E4%B9%89%E7%BD%91%E9%A1%B5%E5%8F%B3%E9%94%AE%E8%8F%9C%E5%8D%95/"/>
      <url>/2018/04/17/2018_4_17_2_%E8%87%AA%E5%AE%9A%E4%B9%89%E7%BD%91%E9%A1%B5%E5%8F%B3%E9%94%AE%E8%8F%9C%E5%8D%95/</url>
      <content type="html"><![CDATA[<hr><p>效果：在特定区域点击鼠标右键，弹出自定义菜单。</p><hr><p>要使用到的是 contextmenu 事件</p><hr><p> contextmenu效果：初始右键效果</p><hr><p>我的思路：<br>1<code>创建区域div</code><br>2<code>js重新定义右键效果</code><br>3<code>重定义右键效果为创建一个ul里面是多个li，li里写入菜单文字</code><br>4<code>创建的ul需要定位在鼠标当前位置</code><br>5<code>然后创建完ul后给各个li绑定click事件</code><br>到这里为止差不多就成型了</p><p>需要解决的问题：<br>1<code>得创建一个消除ul的方法</code><br>不然会一直创建ul，那么什么时候应该消除ul，在区域中点击左键或中键，点击右键先的消除ul再重新创建ul，点击ul内部的li，先产生效果再消除ul<br>2<code>创建的ul消除后click事件消失</code><br>应该在创建ul的时候就绑定事件，如果在ul消失后绑定事件会报错</p><p>我遇到的问题：<br>1<code>创建区域时，使用百分比的高度，没效果</code><br>产生的原因：没有给body和html定义高度，区域的高度百分比继承于body，body继承于html<br>解决办法：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">html,body&#123;</span><br><span class="line">width: <span class="number">100</span>%;</span><br><span class="line">height: <span class="number">100</span>%;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>2<code>给li绑定事件不生效</code><br>产生的原因：我是通过给产生的li添加属性index值来判断是哪个菜单的，然后获取到li的index值来绑定对应的事件，但是通过 <strong>getAttribute()</strong> 方法获取的index值默认为字符串，然后使用 <strong>if(index == number)</strong> 时，判断不相同。<br>解决办法：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> index_0 = li_0.getAttribute(<span class="string">"index"</span>);</span><br><span class="line">index_0 = index_0 - <span class="number">0</span>;</span><br></pre></td></tr></table></figure></p><p>使用 - 0，可以快速转变为数字类型（算是小及技巧吧！！！）</p><p>最后贴出我的代码：</p><p>index.html （html文件）<br><figure class="highlight htmlbars"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;&lt;/title&gt;</span><br><span class="line">    &lt;link rel="stylesheet" type="text/css" href="css/mycss.css"&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div id="area"&gt;</span><br><span class="line">        &lt;p&gt;在区域中点击右键查看菜单&lt;/p&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">    &lt;script src="js/myjs.js"&gt;&lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure></p><p>mycss.css（css文件）<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line">*&#123;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">html</span>,<span class="selector-tag">body</span>&#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#area</span>&#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">50%</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">50%</span>;</span><br><span class="line">    <span class="attribute">margin</span>: auto;</span><br><span class="line">    <span class="attribute">margin-top</span>: <span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#fff</span>;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#000</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">ul</span>&#123;</span><br><span class="line">    <span class="attribute">overflow</span>: hidden;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">list-style-type</span>: none;</span><br><span class="line">    <span class="comment">/*border: 1px solid #000;*/</span></span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">box-shadow</span>: <span class="number">0px</span> <span class="number">0px</span> <span class="number">5px</span> <span class="number">#000</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#fff</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">150px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">li</span>&#123;</span><br><span class="line">    <span class="comment">/*margin-left: 10px;</span></span><br><span class="line"><span class="comment">    margin-right: 10px;*/</span></span><br><span class="line">    <span class="attribute">padding-top</span>: <span class="number">5px</span>;</span><br><span class="line">    <span class="attribute">padding-bottom</span>: <span class="number">5px</span>;</span><br><span class="line">    <span class="attribute">padding-left</span>: <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#fff</span>;</span><br><span class="line">    <span class="attribute">border-bottom</span>: <span class="number">1px</span> solid <span class="number">#eee</span>;</span><br><span class="line">    <span class="comment">/*cursor: pointer;*/</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">li</span>&#123;</span><br><span class="line">    <span class="attribute">-moz-user-select</span>:none;<span class="comment">/*火狐*/</span></span><br><span class="line">    <span class="attribute">-webkit-user-select</span>:none;<span class="comment">/*webkit浏览器*/</span></span><br><span class="line">    <span class="attribute">-ms-user-select</span>:none;<span class="comment">/*IE10*/</span></span><br><span class="line">    <span class="attribute">-khtml-user-select</span>:none;<span class="comment">/*早期浏览器*/</span></span><br><span class="line">    <span class="attribute">user-select</span>:none;</span><br><span class="line">&#125;<span class="comment">/*文字不可选中*/</span></span><br><span class="line"><span class="selector-class">.last</span>&#123;</span><br><span class="line">    <span class="attribute">border</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.box</span>&#123;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#eee</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.on</span>&#123;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#999</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>myjs.js（javascript文件）<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> area = <span class="built_in">document</span>.getElementById(<span class="string">"area"</span>);<span class="comment">//点击区域</span></span><br><span class="line"><span class="keyword">let</span> client_x;<span class="comment">//鼠标当前的x坐标</span></span><br><span class="line"><span class="keyword">let</span> client_y;<span class="comment">//鼠标当前的y坐标</span></span><br><span class="line"><span class="keyword">let</span> index = <span class="number">0</span>;<span class="comment">//判断是否有菜单，有为1，无为0</span></span><br><span class="line"><span class="keyword">let</span> index_1 = <span class="number">0</span>;<span class="comment">//判断菜单1是否已点击，点击为1.未点击为0</span></span><br><span class="line"><span class="keyword">let</span> index_2 = <span class="number">0</span>;<span class="comment">//判断菜单2是否已点击，点击为1.未点击为0</span></span><br><span class="line"><span class="keyword">let</span> index_3 = <span class="number">0</span>;<span class="comment">//判断菜单3是否已点击，点击为1.未点击为0</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//给区域绑定contextmenu事件，重新定义右键效果</span></span><br><span class="line">area.addEventListener(<span class="string">"contextmenu"</span>,<span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">window</span>.event)&#123;</span><br><span class="line">        e = <span class="built_in">window</span>.event;</span><br><span class="line">    &#125;</span><br><span class="line">    e.preventDefault(); <span class="comment">//阻止原有的菜单</span></span><br><span class="line">    e.returnValue = <span class="literal">false</span>; <span class="comment">//在IE中阻止原有的菜单</span></span><br><span class="line">    e.stopPropagation();</span><br><span class="line">    <span class="comment">//判断是否已经有菜单</span></span><br><span class="line">    <span class="keyword">if</span>(index == <span class="number">0</span>)&#123;</span><br><span class="line">        determine();</span><br><span class="line">        addlist();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        cleanlist();</span><br><span class="line">        determine();</span><br><span class="line">        addlist();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;,<span class="literal">false</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//给区域绑定左键和中键效果，消除菜单</span></span><br><span class="line">area.addEventListener(<span class="string">"mousedown"</span>,<span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(e.button == <span class="number">1</span>||e.button == <span class="number">0</span>)&#123;</span><br><span class="line">        cleanlist();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;,<span class="literal">false</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//获取鼠标当前的xy坐标</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">determine</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">    e = event || <span class="built_in">window</span>.event;</span><br><span class="line">    client_x = e.clientX;</span><br><span class="line">    client_y = e.clientY;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//产生菜单</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">addlist</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">let</span> ul_0 = <span class="built_in">document</span>.createElement(<span class="string">"ul"</span>);</span><br><span class="line">    ul_0.setAttribute(<span class="string">"id"</span>,<span class="string">"meau"</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++)&#123;</span><br><span class="line">        (<span class="function"><span class="keyword">function</span>(<span class="params">i</span>)</span>&#123;</span><br><span class="line">            <span class="keyword">let</span> li_0 = <span class="built_in">document</span>.createElement(<span class="string">"li"</span>);</span><br><span class="line">            li_0.setAttribute(<span class="string">"index"</span>,i);</span><br><span class="line">            <span class="keyword">if</span>(i == <span class="number">2</span>)&#123;</span><br><span class="line">                li_0.setAttribute(<span class="string">"class"</span>,<span class="string">"last"</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">switch</span>(i)&#123;</span><br><span class="line">                <span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line">                    <span class="keyword">if</span>(index_1 == <span class="number">1</span>)&#123;</span><br><span class="line">                        li_0.setAttribute(<span class="string">"class"</span>,<span class="string">"on"</span>);</span><br><span class="line">                    &#125;</span><br><span class="line">                    li_0.innerHTML = <span class="string">"背景变红"</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">                    <span class="keyword">if</span>(index_2 == <span class="number">1</span>)&#123;</span><br><span class="line">                        li_0.setAttribute(<span class="string">"class"</span>,<span class="string">"on"</span>);</span><br><span class="line">                    &#125;</span><br><span class="line">                    li_0.innerHTML = <span class="string">"字体变大"</span></span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">                    <span class="keyword">if</span>(index_3 == <span class="number">1</span>)&#123;</span><br><span class="line">                        li_0.className += <span class="string">" on"</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    li_0.innerHTML = <span class="string">"边框变粗"</span></span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            ul_0.appendChild(li_0);</span><br><span class="line">        &#125;)(i);</span><br><span class="line">    &#125;</span><br><span class="line">    ul_0.style.left = client_x+<span class="string">"px"</span>;</span><br><span class="line">    ul_0.style.top = client_y+<span class="string">"px"</span>;</span><br><span class="line">    <span class="built_in">document</span>.body.appendChild(ul_0);</span><br><span class="line">    addfunction(ul_0);</span><br><span class="line">    index = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//清除菜单</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">cleanlist</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(index == <span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">let</span> box = <span class="built_in">document</span>.getElementById(<span class="string">"meau"</span>);</span><br><span class="line">    <span class="built_in">document</span>.body.removeChild(box);</span><br><span class="line">    index = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//给产生的菜单添加事件</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">addfunction</span>(<span class="params">ul_0</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++)&#123;</span><br><span class="line">        (<span class="function"><span class="keyword">function</span>(<span class="params">i</span>)</span>&#123;</span><br><span class="line">            <span class="keyword">let</span> li_0 = ul_0.getElementsByTagName(<span class="string">"li"</span>)[i];</span><br><span class="line">            <span class="keyword">let</span> index_0 = li_0.getAttribute(<span class="string">"index"</span>);</span><br><span class="line">            index_0 = index_0 - <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">switch</span>(index_0)&#123;</span><br><span class="line">                <span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line">                    addfunction_0(li_0);</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">                    addfunction_1(li_0);</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">                    addfunction_2(li_0);</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)(i);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//给菜单1绑定事件</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">addfunction_0</span>(<span class="params">li_0</span>)</span>&#123;</span><br><span class="line">    li_0.addEventListener(<span class="string">"click"</span>,<span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">        e.stopPropagation();</span><br><span class="line">        <span class="keyword">if</span>(index_1 == <span class="number">0</span>)&#123;</span><br><span class="line">            area.style.backgroundColor = <span class="string">"red"</span>;</span><br><span class="line">            cleanlist();</span><br><span class="line">            index_1 = <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            area.style.backgroundColor = <span class="string">"#fff"</span>;</span><br><span class="line">            cleanlist();</span><br><span class="line">            index_1 = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,<span class="literal">false</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//给菜单2绑定事件</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">addfunction_1</span>(<span class="params">li_0</span>)</span>&#123;</span><br><span class="line">    li_0.addEventListener(<span class="string">"click"</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(index_2 == <span class="number">0</span>)&#123;</span><br><span class="line">            area.style.fontSize = <span class="string">"32px"</span>;</span><br><span class="line">            cleanlist();</span><br><span class="line">            index_2 = <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            area.style.fontSize = <span class="string">"16px"</span>;</span><br><span class="line">            cleanlist();</span><br><span class="line">            index_2 = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,<span class="literal">false</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//给菜单3绑定事件</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">addfunction_2</span>(<span class="params">li_0</span>)</span>&#123;</span><br><span class="line">    li_0.addEventListener(<span class="string">"click"</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(index_3 == <span class="number">0</span>)&#123;</span><br><span class="line">            area.style.border = <span class="string">"5px solid #000"</span>;</span><br><span class="line">            cleanlist();</span><br><span class="line">            index_3 = <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            area.style.border = <span class="string">"1px solid #000"</span>;</span><br><span class="line">            cleanlist();</span><br><span class="line">            index_3 = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,<span class="literal">false</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>]]></content>
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> html </tag>
            
            <tag> css </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>我的第一篇博客</title>
      <link href="/2018/04/17/2018_4_17_1_%E7%AC%AC%E4%B8%80%E7%AF%87%E5%8D%9A%E5%AE%A2_%E5%A6%82%E4%BD%95%E7%94%A8github%20page+hexo%E5%88%B6%E4%BD%9C%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/"/>
      <url>/2018/04/17/2018_4_17_1_%E7%AC%AC%E4%B8%80%E7%AF%87%E5%8D%9A%E5%AE%A2_%E5%A6%82%E4%BD%95%E7%94%A8github%20page+hexo%E5%88%B6%E4%BD%9C%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/</url>
      <content type="html"><![CDATA[<hr><p>emmm…,这是我的第一篇博客，不知道该写什么，就记录一下自己怎么跟着大佬的步伐使用github和hexo搭建个人博客好了。</p><hr><p>要使用到的是github,node.js,hexo</p><hr><p> 我的博客搭建在 GitHub Pages上<br> GitHub Pages本用于介绍托管在GitHub的项目， 不过，由于他的空间免费稳定，用来做搭建一个博客再好不过了。</p><hr><p>1<code>安装git node.js</code><br>直接next选择安装目录即可</p><p>2<code>配置node.js环境变量</code><br>在环境变量里的path下添加node.js的安装目录即可</p><p>3<code>安装hexo</code><br>打开cmd,进入node.js安装目录下,利用 npm 命令即可安装<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g hexo</span><br></pre></td></tr></table></figure></p><p>以上是安装必要的组件,然后可以开始搭建个人博客</p><p>4<code>搭建个人博客</code><br>依旧在cmd的node.js目录下输入</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkdir blog &amp;&amp; cd blog</span><br></pre></td></tr></table></figure><p>bolg是你的博客目录,可以自行更改,记得备份好文件,以免丢失<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo init</span><br></pre></td></tr></table></figure></p><p>安装依赖包<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install</span><br></pre></td></tr></table></figure></p><p>至此,博客搭建成功! 当然,仅仅是本地的了。此时执行<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo g</span><br></pre></td></tr></table></figure></p><p>即可生成静态页面，然后执行<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo s</span><br></pre></td></tr></table></figure></p><p>访问 <a href="http://localhost:4000" target="_blank" rel="noopener">http://localhost:4000</a> 即可看到你的博客。</p><p>5<code>部署博客到github</code><br>注册github账号,并登录</p><p>创建仓库</p><blockquote><p>注：Github Pages的Repository名字是特定的，比如我Github账号是FrattiNor，那么我Github Pages Repository的名字就是FrattiNor.github.io。</p></blockquote><p>设置github pages</p><blockquote><p>选择主题并发布即可</p></blockquote><p>然后复制你github page的https链接<br>进入的bolg文件夹下修改_config.yml文件<br>修改底部的repository为刚刚复制的链接<br>如下</p><blockquote><p>deploy:<br>type: git<br>repository: <a href="https://github.com/FrattiNor/FrattiNor.github.io.git" target="_blank" rel="noopener">https://github.com/FrattiNor/FrattiNor.github.io.git</a><br>branch: master</p></blockquote><p>最后回到cmd执行<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-deployer-git --save  </span><br><span class="line">（这命令是为了解决hexo新版本的部署问题）</span><br></pre></td></tr></table></figure></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hexo g </span><br><span class="line">（这是重新生成blog）</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hexo d</span><br><span class="line">（这是将本地blog部署到github的仓库）</span><br></pre></td></tr></table></figure><p>试试在浏览器的地址栏输入：“https://你的用户名.github.io/”</p><p>这样个人博客就搭建完成了，然后就可以修改主题和发布博文了</p><blockquote><p>主题在这里 <a href="https://github.com/hexojs/hexo/wiki/Themes" target="_blank" rel="noopener">https://github.com/hexojs/hexo/wiki/Themes</a><br>博文使用makedown编写</p></blockquote>]]></content>
      
      
        <tags>
            
            <tag> 第一 </tag>
            
            <tag> 如何搭建个人博客 </tag>
            
        </tags>
      
    </entry>
    
  
  
</search>
